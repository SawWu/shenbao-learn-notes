<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>秋思浪人</title>
        
    <link rel="stylesheet" type="text/css" href="../../../static/css/main.css">
</head>
<body>
<div class="navbar navbar-line">
    <div class="container">
        <div class="logo">
            
                秋思浪人
            
        </div>
        <input type="checkbox" id="idoc_nav" />
        <div class="menu_tree">
        <ul><li><a href="../../../index.html">首页</a></li><li><a href="#"><span></span>Web</a><ul><li><a href="../../../html/Web/jade.html">jade</a></li><li><a href="../../../html/Web/less入门用法.html">less入门用法</a></li><li><a href="#"><span></span>web</a><ul><li><a href="../../../html/Web/web/01  概述.html">01  概述</a></li><li><a href="../../../html/Web/web/02  Canvas.html">02  Canvas</a></li><li><a href="../../../html/Web/web/03  SVG图像.html">03  SVG图像</a></li><li><a href="../../../html/Web/web/04  表单form.html">04  表单form</a></li><li><a href="../../../html/Web/web/05  file文件与二进制数据的操作.html">05  file文件与二进制数据的操作</a></li><li><a href="../../../html/Web/web/06  Web Worker.html">06  Web Worker</a></li><li><a href="../../../html/Web/web/07  SSE：服务器发送事件 eventsource.html">07  SSE：服务器发送事件 eventsource</a></li><li><a href="../../../html/Web/web/08  Page Visiblity.html">08  Page Visiblity</a></li><li><a href="../../../html/Web/web/09  FullScreen API：全屏操作.html">09  FullScreen API：全屏操作</a></li><li><a href="../../../html/Web/web/10  Web Speech.html">10  Web Speech</a></li><li><a href="../../../html/Web/web/11  requestAnimationFrame.html">11  requestAnimationFrame</a></li><li><a href="../../../html/Web/web/12  WebSocket.html">12  WebSocket</a></li><li><a href="../../../html/Web/web/13  WebRTC.html">13  WebRTC</a></li><li><a href="../../../html/Web/web/14  Web Components.html">14  Web Components</a></li></ul></li></ul></li><li><a href="#"><span></span>JS</a><ul><li><a href="../../../html/JS/00  JavaScript概述与发展史.html">00  JavaScript概述与发展史</a></li><li><a href="#"><span></span>01  语法</a><ul><li><a href="../../../html/JS/01  语法/01  基本语法.html">01  基本语法</a></li><li><a href="../../../html/JS/01  语法/02  数据类型.html">02  数据类型</a></li><li><a href="../../../html/JS/01  语法/03  数值 number.html">03  数值 number</a></li><li><a href="../../../html/JS/01  语法/04  字符串 string.html">04  字符串 string</a></li><li><a href="../../../html/JS/01  语法/05  对象 object.html">05  对象 object</a></li><li><a href="../../../html/JS/01  语法/06  数组 array.html">06  数组 array</a></li><li><a href="../../../html/JS/01  语法/07  函数 function.html">07  函数 function</a></li><li><a href="../../../html/JS/01  语法/08  运算符 operator.html">08  运算符 operator</a></li><li><a href="../../../html/JS/01  语法/09  数据类型转换 conversion.html">09  数据类型转换 conversion</a></li><li><a href="../../../html/JS/01  语法/10  错误处理机制 error.html">10  错误处理机制 error</a></li><li><a href="../../../html/JS/01  语法/11  编程风格.html">11  编程风格</a></li></ul></li><li><a href="#"><span></span>02  标准库</a><ul><li><a href="../../../html/JS/02  标准库/01  Object对象.html">01  Object对象</a></li><li><a href="../../../html/JS/02  标准库/02  Array对象.html">02  Array对象</a></li><li><a href="../../../html/JS/02  标准库/03  包装对象和Boolean对象.html">03  包装对象和Boolean对象</a></li><li><a href="../../../html/JS/02  标准库/04  Number对象.html">04  Number对象</a></li><li><a href="../../../html/JS/02  标准库/05  String对象.html">05  String对象</a></li><li><a href="../../../html/JS/02  标准库/06  Math对象.html">06  Math对象</a></li><li><a href="../../../html/JS/02  标准库/07  Date对象.html">07  Date对象</a></li><li><a href="../../../html/JS/02  标准库/08  RegExp对象.html">08  RegExp对象</a></li><li><a href="../../../html/JS/02  标准库/09  JSON对象.html">09  JSON对象</a></li><li><a href="../../../html/JS/02  标准库/10  console对象.html">10  console对象</a></li><li><a href="../../../html/JS/02  标准库/11  属性描述对象.html">11  属性描述对象</a></li><li><a href="../../../html/JS/02  标准库/12  二进制数组.html">12  二进制数组</a></li></ul></li><li><a href="#"><span></span>03  面向对象编程</a><ul><li><a href="../../../html/JS/03  面向对象编程/01  概述.html">01  概述</a></li><li><a href="../../../html/JS/03  面向对象编程/02  this 关键字.html">02  this 关键字</a></li><li><a href="../../../html/JS/03  面向对象编程/03  prototype 对象.html">03  prototype 对象</a></li><li><a href="../../../html/JS/03  面向对象编程/04  Object 对象与继承.html">04  Object 对象与继承</a></li><li><a href="../../../html/JS/03  面向对象编程/05  面向对象编程的模式.html">05  面向对象编程的模式</a></li></ul></li><li><a href="#"><span></span>04  语法专题</a><ul><li><a href="../../../html/JS/04  语法专题/01  单线程模型.html">01  单线程模型</a></li><li><a href="../../../html/JS/04  语法专题/02  定时器 timer.html">02  定时器 timer</a></li><li><a href="../../../html/JS/04  语法专题/03  Promise.html">03  Promise</a></li><li><a href="../../../html/JS/04  语法专题/04  strict.html">04  strict</a></li><li><a href="../../../html/JS/04  语法专题/05  JavaScript与有限状态机.html">05  JavaScript与有限状态机</a></li><li><a href="../../../html/JS/04  语法专题/06  JavaScript解释器.html">06  JavaScript解释器</a></li><li><a href="../../../html/JS/04  语法专题/07  MVC框架与Backbone.js.html">07  MVC框架与Backbone.js</a></li><li><a href="../../../html/JS/04  语法专题/08  ECMAScript 6 介绍.html">08  ECMAScript 6 介绍</a></li></ul></li><li><a href="#"><span></span>05  DOM模型</a><ul><li><a href="../../../html/JS/05  DOM模型/01  DOM 模型概述.html">01  DOM 模型概述</a></li><li><a href="../../../html/JS/05  DOM模型/02  Document节点.html">02  Document节点</a></li><li><a href="../../../html/JS/05  DOM模型/03  Element节点.html">03  Element节点</a></li><li><a href="../../../html/JS/05  DOM模型/04  Attribute属性的操作.html">04  Attribute属性的操作</a></li><li><a href="../../../html/JS/05  DOM模型/05  Text节点和DocumentFragment节点.html">05  Text节点和DocumentFragment节点</a></li><li><a href="../../../html/JS/05  DOM模型/06  事件模型 event.html">06  事件模型 event</a></li><li><a href="../../../html/JS/05  DOM模型/07  事件类型 event-type.html">07  事件类型 event-type</a></li><li><a href="../../../html/JS/05  DOM模型/08  CSS操作.html">08  CSS操作</a></li><li><a href="../../../html/JS/05  DOM模型/09  Mutation Observer.html">09  Mutation Observer</a></li><li><a href="../../../html/JS/05  DOM模型/10  Image对象.html">10  Image对象</a></li></ul></li><li><a href="#"><span></span>06  BOM浏览器环境</a><ul><li><a href="../../../html/JS/06  BOM浏览器环境/01  BOM浏览器环境概述.html">01  BOM浏览器环境概述</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/02  window对象.html">02  window对象</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/03  History对象.html">03  History对象</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/04  Cookie.html">04  Cookie</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/05  Web Storage：浏览器端数据储存机制.html">05  Web Storage：浏览器端数据储存机制</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/06  同源政策.html">06  同源政策</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/07  Ajax.html">07  Ajax</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/08  CORS.html">08  CORS</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/09  IndexedDB：浏览器端数据库.html">09  IndexedDB：浏览器端数据库</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/10  Web Notification API.html">10  Web Notification API</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/11  Performance API.html">11  Performance API</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/12  mobile移动设备API.html">12  mobile移动设备API</a></li></ul></li><li><a href="#"><span></span>07  jQuery</a><ul><li><a href="../../../html/JS/07  jQuery/01  jQuery概述.html">01  jQuery概述</a></li><li><a href="../../../html/JS/07  jQuery/02  jQuery常用API.html">02  jQuery常用API</a></li><li><a href="../../../html/JS/07  jQuery/03  jQuery工具方法.html">03  jQuery工具方法</a></li><li><a href="../../../html/JS/07  jQuery/04  jQuery插件开发.html">04  jQuery插件开发</a></li><li><a href="../../../html/JS/07  jQuery/05  jQuery.Deferred对象.html">05  jQuery.Deferred对象</a></li><li><a href="../../../html/JS/07  jQuery/06  如何做到jQuery-free.html">06  如何做到jQuery-free</a></li><li><a href="../../../html/JS/07  jQuery/07  Jquery同步和异步.html">07  Jquery同步和异步</a></li></ul></li><li><a href="#"><span></span>08  webapp</a><ul><li><a href="../../../html/JS/08  webapp/01  cache.html">01  cache</a></li><li><a href="../../../html/JS/08  webapp/02  progressive.html">02  progressive</a></li><li><a href="../../../html/JS/08  webapp/03  serviceworker.html">03  serviceworker</a></li></ul></li><li><a href="#"><span></span>09  常用库</a><ul><li><a href="../../../html/JS/09  常用库/d3.html">d3</a></li><li><a href="../../../html/JS/09  常用库/datejs.html">datejs</a></li><li><a href="../../../html/JS/09  常用库/designpattern.html">designpattern</a></li><li><a href="../../../html/JS/09  常用库/modernizr.html">modernizr</a></li><li><a href="../../../html/JS/09  常用库/sorting.html">sorting</a></li><li><a href="../../../html/JS/09  常用库/underscore.html">underscore</a></li><li><a href="../../../html/JS/09  常用库/Backbone.js.html">Backbone.js</a></li><li><a href="../../../html/JS/09  常用库/api.html">api</a></li><li><a href="../../../html/JS/09  常用库/plugins.html">plugins</a></li></ul></li><li><a href="#"><span></span>10  tool 工具</a><ul><li><a href="../../../html/JS/10  tool 工具/Bower：客户端库管理工具.html">Bower：客户端库管理工具</a></li><li><a href="../../../html/JS/10  tool 工具/Browserify：浏览器加载Node.js模块.html">Browserify：浏览器加载Node.js模块</a></li><li><a href="../../../html/JS/10  tool 工具/Grunt：任务自动管理工具.html">Grunt：任务自动管理工具</a></li><li><a href="../../../html/JS/10  tool 工具/Gulp：任务自动管理工具.html">Gulp：任务自动管理工具</a></li><li><a href="../../../html/JS/10  tool 工具/JavaScript 程序测试.html">JavaScript 程序测试</a></li><li><a href="../../../html/JS/10  tool 工具/Lint 工具.html">Lint 工具</a></li><li><a href="../../../html/JS/10  tool 工具/RequireJS和AMD规范.html">RequireJS和AMD规范</a></li><li><a href="../../../html/JS/10  tool 工具/Source Map.html">Source Map</a></li><li><a href="../../../html/JS/10  tool 工具/phantomjs.html">phantomjs</a></li></ul></li><li><a href="#"><span></span>11  常用积累</a><ul><li><a href="../../../html/JS/11  常用积累/DOM深入.html">DOM深入</a></li><li><a href="../../../html/JS/11  常用积累/JS盒子模型.html">JS盒子模型</a></li><li><a href="../../../html/JS/11  常用积累/promise.html">promise</a></li><li><a href="../../../html/JS/11  常用积累/webstorage.html">webstorage</a></li><li><a href="../../../html/JS/11  常用积累/原型链.html">原型链</a></li><li><a href="../../../html/JS/11  常用积累/字符编码.html">字符编码</a></li><li><a href="../../../html/JS/11  常用积累/正则表达式.html">正则表达式</a></li><li><a href="../../../html/JS/11  常用积累/预解析作用域闭包this.html">预解析作用域闭包this</a></li></ul></li></ul></li><li><a href="#"><span></span>ES6</a><ul><li><a href="../../../html/ES6/00  A.快速搞定常用的ES6新特性.html">00  A.快速搞定常用的ES6新特性</a></li><li><a href="../../../html/ES6/01  ECMAScript 6简介.html">01  ECMAScript 6简介</a></li><li><a href="../../../html/ES6/02  let和const命令.html">02  let和const命令</a></li><li><a href="../../../html/ES6/03  变量的解构赋值.html">03  变量的解构赋值</a></li><li><a href="../../../html/ES6/04  字符串的扩展.html">04  字符串的扩展</a></li><li><a href="../../../html/ES6/05  正则的扩展.html">05  正则的扩展</a></li><li><a href="../../../html/ES6/06  数值的扩展.html">06  数值的扩展</a></li><li><a href="../../../html/ES6/07  数组的扩展.html">07  数组的扩展</a></li><li><a href="../../../html/ES6/08  函数的扩展.html">08  函数的扩展</a></li><li><a href="../../../html/ES6/09  函数的扩展.html">09  函数的扩展</a></li><li><a href="../../../html/ES6/10  Symbol.html">10  Symbol</a></li><li><a href="../../../html/ES6/11  Set和Map数据结构.html">11  Set和Map数据结构</a></li><li><a href="../../../html/ES6/12  Proxy.html">12  Proxy</a></li><li><a href="../../../html/ES6/13  Reflect.html">13  Reflect</a></li><li><a href="../../../html/ES6/14  Iterator和for...of循环.html">14  Iterator和for...of循环</a></li><li><a href="../../../html/ES6/15  Generator 函数.html">15  Generator 函数</a></li><li><a href="../../../html/ES6/16  Promise对象.html">16  Promise对象</a></li><li><a href="../../../html/ES6/17  异步操作和Async函数.html">17  异步操作和Async函数</a></li><li><a href="../../../html/ES6/18  Class.html">18  Class</a></li><li><a href="../../../html/ES6/19  decorator 修饰器.html">19  decorator 修饰器</a></li><li><a href="../../../html/ES6/20  Module.html">20  Module</a></li><li><a href="../../../html/ES6/21  styles 编程风格.html">21  styles 编程风格</a></li><li><a href="../../../html/ES6/22  spec  读懂规格.html">22  spec  读懂规格</a></li><li><a href="../../../html/ES6/23  arraybuffer 二进制数组.html">23  arraybuffer 二进制数组</a></li><li><a href="../../../html/ES6/24  SIMD 单指令，多数据.html">24  SIMD 单指令，多数据</a></li><li><a href="../../../html/ES6/25  函数式编程.html">25  函数式编程</a></li><li><a href="../../../html/ES6/26  Mixin.html">26  Mixin</a></li><li><a href="../../../html/ES6/27  参考链接.html">27  参考链接</a></li></ul></li><li><a href="#"><span></span>React</a><ul><li><a href="../../../html/React/React基础知识.html">React基础知识</a></li><li><a href="../../../html/React/webpack搭配react入门及实践.html">webpack搭配react入门及实践</a></li><li><a href="../../../html/React/React中ES6与ES5构建差别及JSX的使用.html">React中ES6与ES5构建差别及JSX的使用</a></li><li><a href="../../../html/React/React API 汇总.html">React API 汇总</a></li></ul></li><li><a href="#"><span></span>RN</a><ul><li><a href="../../../html/RN/React-Native样式表指南.html">React-Native样式表指南</a></li></ul></li><li><a href="#"><span></span>Node</a><ul><li><a href="../../../html/Node/assert.html">assert</a></li><li><a href="../../../html/Node/basic.html">basic</a></li><li><a href="../../../html/Node/buffer.html">buffer</a></li><li><a href="../../../html/Node/child-process.html">child-process</a></li><li><a href="../../../html/Node/cluster.html">cluster</a></li><li><a href="../../../html/Node/develop.html">develop</a></li><li><a href="../../../html/Node/dns.html">dns</a></li><li><a href="../../../html/Node/error.html">error</a></li><li><a href="../../../html/Node/events.html">events</a></li><li><a href="../../../html/Node/express.html">express</a></li><li><a href="../../../html/Node/fs.html">fs</a></li><li><a href="../../../html/Node/http.html">http</a></li><li><a href="../../../html/Node/koa.html">koa</a></li><li><a href="../../../html/Node/module.html">module</a></li><li><a href="../../../html/Node/mongodb.html">mongodb</a></li><li><a href="../../../html/Node/net.html">net</a></li><li><a href="../../../html/Node/npm.html">npm</a></li><li><a href="../../../html/Node/os.html">os</a></li><li><a href="../../../html/Node/packagejson.html">packagejson</a></li><li><a href="../../../html/Node/path.html">path</a></li><li><a href="../../../html/Node/process.html">process</a></li><li><a href="../../../html/Node/querystring.html">querystring</a></li><li><a href="../../../html/Node/repl.html">repl</a></li><li><a href="../../../html/Node/stream.html">stream</a></li><li><a href="../../../html/Node/timer.html">timer</a></li><li><a href="../../../html/Node/url.html">url</a></li><li><a href="../../../html/Node/version.html">version</a></li><li><a href="#"><span></span>测试工具</a><ul><li><a href="../../../html/Node/测试工具/chai.html">chai</a></li><li class="active"><a href="../../../html/Node/测试工具/mocha.html">mocha</a></li><li><a href="../../../html/Node/测试工具/should.html">should</a></li></ul></li><li><a href="../../../html/Node/Nodejs教程.html">Nodejs教程</a></li></ul></li><li><a href="#"><span></span>工程化</a><ul><li><a href="../../../html/工程化/git.html">git</a></li><li><a href="../../../html/工程化/shell常用命令.html">shell常用命令</a></li><li><a href="../../../html/工程化/bash.html">bash</a></li><li><a href="../../../html/工程化/Git 常用命令大全.html">Git 常用命令大全</a></li><li><a href="../../../html/工程化/Shell命令大全.html">Shell命令大全</a></li><li><a href="../../../html/工程化/gulp-book.html">gulp-book</a></li><li><a href="../../../html/工程化/gulp.html">gulp</a></li><li><a href="../../../html/工程化/webpack.html">webpack</a></li><li><a href="../../../html/工程化/babel.html">babel</a></li><li><a href="../../../html/工程化/bower.html">bower</a></li></ul></li><li><a href="#"><span></span>Ng</a><ul><li><a href="../../../html/Ng/angular入门.html">angular入门</a></li><li><a href="../../../html/Ng/angular基础.html">angular基础</a></li><li><a href="../../../html/Ng/route.html">route</a></li><li><a href="../../../html/Ng/指令.html">指令</a></li><li><a href="../../../html/Ng/服务.html">服务</a></li></ul></li><li><a href="#"><span></span>Vue</a><ul><li><a href="../../../html/Vue/Vue入门.html">Vue入门</a></li><li><a href="../../../html/Vue/Vue方法篇.html">Vue方法篇</a></li><li><a href="../../../html/Vue/Vue方法篇2.html">Vue方法篇2</a></li><li><a href="../../../html/Vue/Vue组件.html">Vue组件</a></li></ul></li><li><a href="#"><span></span>经验</a><ul><li><a href="../../../html/经验/HTML CSS开发规范指南.html">HTML CSS开发规范指南</a></li><li><a href="../../../html/经验/JavaScript代码规范.html">JavaScript代码规范</a></li><li><a href="../../../html/经验/React编码规范.html">React编码规范</a></li><li><a href="../../../html/经验/移动前端开发经验指南.html">移动前端开发经验指南</a></li><li><a href="../../../html/经验/移动端上遇到的各种坑.html">移动端上遇到的各种坑</a></li><li><a href="../../../html/经验/H5项目常见问题及注意事项.html">H5项目常见问题及注意事项</a></li></ul></li><li><a href="#"><span></span>团队</a><ul><li><a href="../../../html/团队/笔试面试大纲.html">笔试面试大纲</a></li></ul></li><li><a href="#"><span></span>杂谈</a><ul><li><a href="../../../html/杂谈/杂谈  模块暂未开通.html">杂谈  模块暂未开通</a></li></ul></li><li><a href="../../../html/关于我.html">关于我</a></li></ul>    
        </div>
        
        
        <div class="forkgithub"><a target="_blank" href="https://github.com/ShenBao">fork on github</a></div>
        

        <section class="idoc_nav_btn">
            <label for="idoc_nav"><span></span></label>
        </section>
    </div>
    
</div>




<div class="container">

    <div class="page-toc">
        <ul><li><a href="#t0Mocha">Mocha</a></li><li><a href="#t1如何安装">如何安装</a></li><li><a href="#t2断言">断言</a></li><li><a href="#t3同步执行的代码">同步执行的代码</a></li><li><a href="#t4异步执行的代码">异步执行的代码</a></li><li><a href="#t5挂起测试">挂起测试</a></li><li><a href="#t6独占测试">独占测试</a></li><li><a href="#t7包含测试">包含测试</a></li><li><a href="#t8差异检测">差异检测</a></li><li><a href="#t9命令行参数">命令行参数</a><ul><li><a href="#t10-w, --watch">-w, --watch</a></li><li><a href="#t11--compilers">--compilers</a></li><li><a href="#t12-b, --bail">-b, --bail</a></li><li><a href="#t13-d, --debug">-d, --debug</a></li><li><a href="#t14--globals ">--globals </a></li><li><a href="#t15--check-leaks">--check-leaks</a></li><li><a href="#t16-r, --require ">-r, --require </a></li><li><a href="#t17-u, --ui ">-u, --ui </a></li><li><a href="#t18-R, --reporter ">-R, --reporter </a></li><li><a href="#t19-t, --timeout ">-t, --timeout </a></li><li><a href="#t20-s, --slow ">-s, --slow </a></li><li><a href="#t21-g, --grep ">-g, --grep </a></li></ul></li><li><a href="#t22接口">接口</a><ul><li><a href="#t23BDD">BDD</a></li><li><a href="#t24TDD">TDD</a></li><li><a href="#t25Exports">Exports</a></li><li><a href="#t26QUnit">QUnit</a></li></ul></li><li><a href="#t27监控器">监控器</a><ul><li><a href="#t28Dot Matrix">Dot Matrix</a></li><li><a href="#t29Spec">Spec</a></li><li><a href="#t30Nyan">Nyan</a></li><li><a href="#t31TAP">TAP</a></li><li><a href="#t32Landing Strip">Landing Strip</a></li><li><a href="#t33List">List</a></li><li><a href="#t34Progress">Progress</a></li><li><a href="#t35JSON">JSON</a></li><li><a href="#t36JSON Stream">JSON Stream</a></li><li><a href="#t37JSONCov">JSONCov</a></li><li><a href="#t38HTMLCov">HTMLCov</a></li><li><a href="#t39Min">Min</a></li><li><a href="#t40Doc">Doc</a></li><li><a href="#t41XUnit">XUnit</a></li><li><a href="#t42TeamCity">TeamCity</a></li><li><a href="#t43Markdown">Markdown</a></li><li><a href="#t44HTML">HTML</a></li></ul></li><li><a href="#t45支持浏览器">支持浏览器</a><ul><li><a href="#t46grep">grep</a></li></ul></li><li><a href="#t47mocha.opts文件">mocha.opts文件</a></li><li><a href="#t48指定方案超时时间">指定方案超时时间</a></li><li><a href="#t49指定测试超时时间">指定测试超时时间</a></li><li><a href="#t50最佳实践">最佳实践</a><ul><li><a href="#t51test/*">test/*</a></li><li><a href="#t52Makefiles">Makefiles</a></li></ul></li><li><a href="#t53编辑器">编辑器</a><ul><li><a href="#t54TextMate bundle">TextMate bundle</a></li></ul></li><li><a href="#t55测试方案示例">测试方案示例</a></li><li><a href="#t56执行Mocha的测试">执行Mocha的测试</a></li></ul>
    </div>
    
    <div class="content markdown-body">
        <h2 id="t0Mocha">Mocha <a href="#t0Mocha"> # </a></h2>
<p>Mocha&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;node.js&#x548C;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x96C6;&#x5408;&#x5404;&#x79CD;&#x7279;&#x6027;&#x7684;Javascript&#x6D4B;&#x8BD5;&#x6846;&#x67B6;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x8BA9;&#x5F02;&#x6B65;&#x6D4B;&#x8BD5;&#x4E5F;&#x53D8;&#x7684;&#x7B80;&#x5355;&#x548C;&#x6709;&#x8DA3;&#x3002;Mocha&#x7684;&#x6D4B;&#x8BD5;&#x662F;&#x8FDE;&#x7EED;&#x7684;&#xFF0C;&#x5728;&#x6B63;&#x786E;&#x7684;&#x6D4B;&#x8BD5;&#x6761;&#x4EF6;&#x4E2D;&#x9047;&#x5230;&#x672A;&#x6355;&#x83B7;&#x7684;&#x5F02;&#x5E38;&#x65F6;&#xFF0C;&#x4F1A;&#x7ED9;&#x51FA;&#x7075;&#x6D3B;&#x4E14;&#x51C6;&#x786E;&#x7684;&#x62A5;&#x544A;&#x3002;Mocha&#x6258;&#x7BA1;&#x5728;Github&#x4E0A;&#x3002;</p>
<p><a href="http://www.ifeenan.com/javascript/2015-02-26-Mocha%E4%B8%AD%E6%96%87%E6%8C%87%E5%8D%97/">Mocha&#x4E2D;&#x6587;&#x6307;&#x5357;</a><br><a href="http://shouldjs.github.io/">should.js</a><br><a href="http://mochajs.org/">mocha&#x5B98;&#x65B9;&#x7F51;&#x7AD9;</a><br><a href="http://poppinlp.com/mochacn/">&#x4E0B;&#x6587;&#x7FFB;&#x8BD1;&#x6765;&#x6E90;</a></p>
<p><code>mocha</code>&#x662F;&#x4E00;&#x6B3E;&#x6BD4;&#x8F83;&#x6D41;&#x884C;&#x7684;&#x6D4B;&#x8BD5;&#x6846;&#x67B6;,&#x51FA;&#x81EA;<code>TJ</code>&#x4E4B;&#x624B;,&#x8DDF;<code>jasmine</code>&#x76F8;&#x6BD4;,&#x5B83;&#x6709;&#x7075;&#x6D3B;&#x7684;&#x65AD;&#x8A00;&#x8BED;&#x6CD5;,&#x6D4B;&#x8BD5;&#x63D0;&#x793A;&#x4E5F;&#x6BD4;&#x8F83;&#x53CB;&#x597D;,&#x5176;&#x5B83;&#x65B9;&#x9762;&#x8DDF;<code>jasmine</code>&#x7C7B;&#x4F3C;.</p>
<h1 id="t1&#x5982;&#x4F55;&#x5B89;&#x88C5;">&#x5982;&#x4F55;&#x5B89;&#x88C5; <a href="#t1&#x5982;&#x4F55;&#x5B89;&#x88C5;"> # </a></h1>
<p><code>$ npm install -g mocha</code> &#x901A;&#x8FC7;npm&#x6765;&#x5B89;&#x88C5;  </p>
<p>&#x4E00;&#x8D77;&#x6765;Mocha!</p>
<pre><code>$ npm install -g mocha
$ mkdir test
$ $EDITOR test/test.js

var assert = require(&quot;assert&quot;);
describe(&apos;Array&apos;, function() {
    describe(&apos;#indexOf()&apos;, function() {
        it(&apos;should return -1 when the value is not present&apos;, function() {
            assert.equal(-1, [1,2,3].indexOf(5));
            assert.equal(-1, [1,2,3].indexOf(0));
        });
    });
});

$  mocha

.

&#x2714; 1 test complete (1ms)
</code></pre><h1 id="t2&#x65AD;&#x8A00;">&#x65AD;&#x8A00; <a href="#t2&#x65AD;&#x8A00;"> # </a></h1>
<p>Mocha&#x5141;&#x8BB8;&#x4F60;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x4F60;&#x559C;&#x6B22;&#x7684;&#x7B2C;&#x4E09;&#x65B9;&#x65AD;&#x8A00;&#x5E93;&#xFF0C;&#x53EA;&#x8981;&#x5B83;&#x80FD;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x5C31;&#x80FD;&#x5DE5;&#x4F5C;&#xFF01;&#x4F8B;&#x5982;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;should.js&#x3001;node&#x81EA;&#x5E26;&#x7684;assert&#x7B49;&#x7B49;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x5E38;&#x89C1;node&#x6216;&#x8005;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x65AD;&#x8A00;&#x5E93;&#x5217;&#x8868;&#xFF1A; </p>
<ul>
<li><a href="https://github.com/visionmedia/should.js">should.js</a> BDD style shown throughout these docs  </li>
<li><a href="https://github.com/LearnBoost/expect.js">expect.js</a> expect() style assertions  </li>
<li><a href="http://chaijs.com/">chai</a> expect(), assert() and should style assertions  </li>
<li><a href="https://github.com/visionmedia/better-assert">better-assert</a> c-style self-documenting assert()  </li>
</ul>
<h1 id="t3&#x540C;&#x6B65;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801;">&#x540C;&#x6B65;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801; <a href="#t3&#x540C;&#x6B65;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801;"> # </a></h1>
<p>&#x5F53;&#x6D4B;&#x8BD5;&#x540C;&#x6B65;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;Mocha&#x4F1A;&#x81EA;&#x52A8;&#x7684;&#x8FDB;&#x884C;&#x4E0B;&#x4E00;&#x4E2A;&#x6D4B;&#x8BD5;&#x3002;</p>
<pre><code class="lang-js">describe(<span class="hljs-string">&apos;Array&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    describe(<span class="hljs-string">&apos;#indexOf()&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        it(<span class="hljs-string">&apos;should return -1 when the value is not present&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>].indexOf(<span class="hljs-number">5</span>).should.equal(-<span class="hljs-number">1</span>);
            [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>].indexOf(<span class="hljs-number">0</span>).should.equal(-<span class="hljs-number">1</span>);
        });
    });
});
</code></pre>
<h1 id="t4&#x5F02;&#x6B65;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801;">&#x5F02;&#x6B65;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801; <a href="#t4&#x5F02;&#x6B65;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801;"> # </a></h1>
<p>&#x7528;Mocha&#x6765;&#x6D4B;&#x8BD5;&#x5F02;&#x6B65;&#x4EE3;&#x7801;&#x540C;&#x6837;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5728;&#x4F60;&#x7684;&#x6D4B;&#x8BD5;&#x7ED3;&#x675F;&#x65F6;&#x8C03;&#x7528;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x5373;&#x53EF;&#x3002;&#x901A;&#x8FC7;&#x7ED9;it()&#x6DFB;&#x52A0;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF08;&#x901A;&#x5E38;&#x547D;&#x540D;&#x4E3A;done&#xFF09;&#x53EF;&#x4EE5;&#x544A;&#x77E5;Mocha&#x9700;&#x8981;&#x7B49;&#x5F85;&#x5F02;&#x6B65;&#x6D4B;&#x8BD5;&#x7ED3;&#x675F;&#x3002;</p>
<pre><code class="lang-js">describe(<span class="hljs-string">&apos;User&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    describe(<span class="hljs-string">&apos;#save()&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        it(<span class="hljs-string">&apos;should save without error&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
            <span class="hljs-keyword">var</span> user = <span class="hljs-keyword">new</span> User(<span class="hljs-string">&apos;Luna&apos;</span>);
            user.save(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) </span>{
                <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err;
                done();
            });
        });
    });
});
</code></pre>
<p>&#x4E3A;&#x4E86;&#x66F4;&#x65B9;&#x4FBF;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x56DE;&#x8C03;&#x51FD;&#x6570;done()&#x652F;&#x6301;&#x63A5;&#x6536;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8FD9;&#x6837;&#x6765;&#x4F7F;&#x7528;&#x5B83;&#xFF1A;</p>
<pre><code class="lang-js">describe(<span class="hljs-string">&apos;User&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    describe(<span class="hljs-string">&apos;#save()&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        it(<span class="hljs-string">&apos;should save without error&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
            <span class="hljs-keyword">var</span> user = <span class="hljs-keyword">new</span> User(<span class="hljs-string">&apos;Luna&apos;</span>);
            user.save(done);
        });
    });
});
</code></pre>
<p>&#x6240;&#x6709;&#x7684;&#x94A9;&#x5B50;&#xFF08;before()&#x3001;after()&#x3001;beforeEach()&#x3001;afterEach()&#xFF09;&#x90FD;&#x540C;&#x65F6;&#x652F;&#x6301;&#x540C;&#x6B65;&#x548C;&#x5F02;&#x6B65;&#xFF0C;&#x884C;&#x4E3A;&#x8868;&#x73B0;&#x4E5F;&#x7C7B;&#x4F3C;&#x4E8E;&#x901A;&#x5E38;&#x7684;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#x3002;&#x4F8B;&#x5982;&#x53EF;&#x4EE5;&#x50CF;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#x5728;&#x6BCF;&#x4E2A;&#x6D4B;&#x8BD5;&#x4E4B;&#x524D;&#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x865A;&#x62DF;&#x6570;&#x636E;&#xFF1A;</p>
<pre><code class="lang-js">describe(<span class="hljs-string">&apos;Connection&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> db = <span class="hljs-keyword">new</span> Connection,
        tobi = <span class="hljs-keyword">new</span> User(<span class="hljs-string">&apos;tobi&apos;</span>),
        loki = <span class="hljs-keyword">new</span> User(<span class="hljs-string">&apos;loki&apos;</span>),
        jane = <span class="hljs-keyword">new</span> User(<span class="hljs-string">&apos;jane&apos;</span>);

    beforeEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
        db.clear(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) </span>{
            <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> done(err);
            db.save([tobi, loki, jane], done);
        });
    });

    describe(<span class="hljs-string">&apos;#find()&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        it(<span class="hljs-string">&apos;respond with matching records&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
            db.find({ type: <span class="hljs-string">&apos;User&apos;</span> }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, res</span>) </span>{
                <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">return</span> done(err);
                res.should.have.length(<span class="hljs-number">3</span>);
                done();
            });
        });
    });
});
</code></pre>
<p>&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;promise&#x6765;&#x4EE3;&#x66FF;&#x4F7F;&#x7528;&#x56DE;&#x8C03;&#x51FD;&#x6570;done()&#x3002;&#x5F53;&#x4F60;&#x6D4B;&#x8BD5;&#x7684;API&#x8FD4;&#x56DE;promise&#x800C;&#x4E0D;&#x662F;&#x6267;&#x884C;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x65F6;&#xFF0C;&#x8FD9;&#x5C06;&#x4F1A;&#x975E;&#x5E38;&#x597D;&#x7528;&#x3002;</p>
<pre><code class="lang-js">beforeEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> db.clear().then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> db.save([tobi, loki, jane]);
    });
});

describe(<span class="hljs-string">&apos;#find()&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    it(<span class="hljs-string">&apos;respond with matching records&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> db.find({ type: <span class="hljs-string">&apos;User&apos;</span> }).should.eventually.have.length(<span class="hljs-number">3</span>);
    });
});
</code></pre>
<p>&#xFF08;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4F7F;&#x7528;&#x4E86;<a href="https://github.com/domenic/chai-as-promised/">Chai as Promised</a>&#x4F5C;&#x4E3A;promise&#x65AD;&#x8A00;&#x3002;&#xFF09;</p>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x4EFB;&#x610F;&#x6587;&#x4EF6;&#x4E2D;&#x52A0;&#x5165;&#x201C;&#x5168;&#x5C40;&#x201D;&#x7EA7;&#x522B;&#x7684;&#x94A9;&#x5B50;&#xFF0C;&#x4F8B;&#x5982;&#x5728;describe()&#x5916;&#x9762;&#x6DFB;&#x52A0;beforeEach()&#xFF0C;&#x8FD9;&#x6837;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x5C31;&#x4F1A;&#x5728;&#x6BCF;&#x4E00;&#x4E2A;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#x524D;&#x6267;&#x884C;&#x800C;&#x4E0D;&#x7BA1;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#x662F;&#x5426;&#x5728;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x3002;&#x4EA7;&#x751F;&#x8FD9;&#x6837;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x56E0;&#x4E3A;Mocha&#x8FD0;&#x884C;&#x5728;&#x81EA;&#x5DF1;&#x7684;&#x5168;&#x5C40;&#x533F;&#x540D;Suite&#x4E2D;&#x3002;  </p>
<h1 id="t5&#x6302;&#x8D77;&#x6D4B;&#x8BD5;">&#x6302;&#x8D77;&#x6D4B;&#x8BD5; <a href="#t5&#x6302;&#x8D77;&#x6D4B;&#x8BD5;"> # </a></h1>
<p>&#x6302;&#x8D77;&#x7684;&#x6D4B;&#x8BD5;&#x662F;&#x6307;&#x90A3;&#x4E9B;&#x6CA1;&#x6709;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x7684;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#xFF1A;</p>
<pre><code class="lang-js">describe(<span class="hljs-string">&apos;Array&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    describe(<span class="hljs-string">&apos;#indexOf()&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        it(<span class="hljs-string">&apos;should return -1 when the value is not present&apos;</span>);
    });
});
</code></pre>
<h1 id="t6&#x72EC;&#x5360;&#x6D4B;&#x8BD5;">&#x72EC;&#x5360;&#x6D4B;&#x8BD5; <a href="#t6&#x72EC;&#x5360;&#x6D4B;&#x8BD5;"> # </a></h1>
<p>&#x72EC;&#x5360;&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x5141;&#x8BB8;&#x4F60;&#x50CF;&#x4E0B;&#x9762;&#x4F8B;&#x5B50;&#x90A3;&#x6837;&#x901A;&#x8FC7;&#x6DFB;&#x52A0;.only()&#x6765;&#x53EA;&#x6267;&#x884C;&#x6307;&#x5B9A;&#x7684;&#x6D4B;&#x8BD5;&#x573A;&#x666F;&#xFF1A;</p>
<pre><code class="lang-js">describe(<span class="hljs-string">&apos;Array&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    describe.only(<span class="hljs-string">&apos;#indexOf()&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        ...
    });
});
</code></pre>
<p>&#x6216;&#x8005;&#x6307;&#x5B9A;&#x7684;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#xFF1A;</p>
<pre><code class="lang-js">describe(<span class="hljs-string">&apos;Array&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    describe(<span class="hljs-string">&apos;#indexOf()&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        it.only(<span class="hljs-string">&apos;should return -1 unless present&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

        });

        it(<span class="hljs-string">&apos;should return the index when present&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

        });
    });
});
</code></pre>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x76EE;&#x524D;&#x53EA;&#x8003;&#x8651;&#x4F7F;&#x7528;&#x6700;&#x591A;&#x4E00;&#x4E2A;.only()&#xFF0C;&#x8FD9;&#x80FD;&#x6709;&#x6548;&#x7684;&#x8FBE;&#x5230;--grep&#x7684;&#x6548;&#x679C;&#x3002;</p>
<h1 id="t7&#x5305;&#x542B;&#x6D4B;&#x8BD5;">&#x5305;&#x542B;&#x6D4B;&#x8BD5; <a href="#t7&#x5305;&#x542B;&#x6D4B;&#x8BD5;"> # </a></h1>
<p>&#x8FD9;&#x4E2A;&#x7279;&#x6027;&#x7C7B;&#x4F3C;&#x4E8E;.only&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6DFB;&#x52A0;.skip()&#x6765;&#x544A;&#x8BC9;Mocha&#x5FFD;&#x7565;&#x6389;&#x8FD9;&#x4E2A;&#x6D4B;&#x8BD5;&#x573A;&#x666F;&#x548C;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#x3002;&#x8FD9;&#x4F1A;&#x8BA9;&#x5B83;&#x4EEC;&#x88AB;&#x6302;&#x8D77;&#xFF0C;&#x6709;&#x52A9;&#x4E8E;&#x5728;&#x4F60;&#x5FD8;&#x8BB0;&#x53BB;&#x6389;&#x6CE8;&#x91CA;&#x7684;&#x65F6;&#x5019;&#x8DF3;&#x8FC7;&#x90A3;&#x4E9B;&#x6D4B;&#x8BD5;&#x3002;</p>
<pre><code class="lang-js">describe(<span class="hljs-string">&apos;Array&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    describe.skip(<span class="hljs-string">&apos;#indexOf()&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        ...
    });
});
</code></pre>
<p>&#x5BF9;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#x540C;&#x6837;&#x9002;&#x7528;&#xFF1A;</p>
<pre><code class="lang-js">describe(<span class="hljs-string">&apos;Array&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    describe(<span class="hljs-string">&apos;#indexOf()&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        it.skip(<span class="hljs-string">&apos;should return -1 unless present&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

        })

        it(<span class="hljs-string">&apos;should return the index when present&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

        });
    });
});
</code></pre>
<h1 id="t8&#x5DEE;&#x5F02;&#x68C0;&#x6D4B;">&#x5DEE;&#x5F02;&#x68C0;&#x6D4B; <a href="#t8&#x5DEE;&#x5F02;&#x68C0;&#x6D4B;"> # </a></h1>
<p>&#x5F53;&#x9700;&#x8981;&#x5411;&#x5F00;&#x53D1;&#x8005;&#x5448;&#x73B0;&#x5DEE;&#x5F02;&#x7684;&#x65F6;&#x5019;&#xFF0C;Mocha&#x652F;&#x6301;err.expected&#x548C;err.actual&#x5C5E;&#x6027;&#x3002;&#x76EE;&#x524D;Mocha&#x63D0;&#x4F9B;&#x4E86;&#x5B57;&#x7B26;&#x4E32;&#x5DEE;&#x5F02;&#xFF0C;&#x4EE5;&#x540E;&#x4F1A;&#x63D0;&#x4F9B;&#x5BF9;&#x8C61;&#x5DEE;&#x5F02;&#x548C;&#x5176;&#x4ED6;&#x7684;&#x5185;&#x5BB9;&#x3002;</p>
<h1 id="t9&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;">&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570; <a href="#t9&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;"> # </a></h1>
<pre><code>Usage: mocha [debug] [options] [files]

Commands:

init &lt;path&gt;
initialize a client-side mocha setup at &lt;path&gt;

Options:

-h, --help                      &#x8F93;&#x51FA;&#x7528;&#x6CD5;&#x4FE1;&#x606F;
-V, --version                   &#x8F93;&#x51FA;&#x7248;&#x672C;&#x53F7;
-r, --require &lt;name&gt;            &#x52A0;&#x8F7D;&#x6307;&#x5B9A;&#x7684;&#x6A21;&#x5757;
-R, --reporter &lt;name&gt;           &#x6307;&#x5B9A;&#x4F7F;&#x7528;&#x7684;&#x76D1;&#x63A7;&#x5668;
-u, --ui &lt;name&gt;                 &#x6307;&#x5B9A;&#x4F7F;&#x7528;&#x7684;&#x63A5;&#x53E3;&#xFF08;bdd | tdd | exports&#xFF09;
-g, --grep &lt;pattern&gt;            &#x53EA;&#x6267;&#x884C;&#x6EE1;&#x8DB3;&#x8DEF;&#x5F84;&#x6A21;&#x5F0F;&#x7684;&#x6D4B;&#x8BD5;&#x811A;&#x672C;
-i, --invert                    inverts --grep matches
-t, --timeout &lt;ms&gt;              &#x8BBE;&#x7F6E;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x6BEB;&#x79D2;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;2000
-s, --slow &lt;ms&gt;                 &quot;slow&quot; test threshold in milliseconds [75]
-w, --watch                     &#x76D1;&#x6D4B;&#x6709;&#x53D8;&#x5316;&#x7684;&#x6587;&#x4EF6;
-c, --colors                    &#x5F3A;&#x5236;&#x4F7F;&#x7528;&#x6587;&#x672C;&#x989C;&#x8272;
-C, --no-colors                 &#x5F3A;&#x5236;&#x5173;&#x95ED;&#x6587;&#x672C;&#x989C;&#x8272;
-G, --growl                     enable growl notification support
-d, --debug                     enable node&apos;s debugger, synonym for node --debug
-b, --bail                      bail after first test failure
-A, --async-only                force all tests to take a callback (async)
--recursive                     &#x5305;&#x542B;&#x5B50;&#x6587;&#x4EF6;&#x5939;
--debug-brk                     enable node&apos;s debugger breaking on the first line
--globals &lt;names&gt;               allow the given comma-delimited global [names]
--check-leaks                   check for global variable leaks
--interfaces                    &#x663E;&#x793A;&#x53EF;&#x7528;&#x7684;&#x63A5;&#x53E3;&#x5217;&#x8868;
--reporters                     &#x663E;&#x793A;&#x53EF;&#x7528;&#x7684;&#x76D1;&#x63A7;&#x5668;&#x5217;&#x8868;
--compilers &lt;ext&gt;:&lt;module&gt;,...  use the given module(s) to compile files
</code></pre><h2 id="t10-w, --watch">-w, --watch <a href="#t10-w, --watch"> # </a></h2>
<p>&#x5728;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x4E2D;&#x7684; Javascript &#x6587;&#x4EF6;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x65F6;&#xFF0C;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x6D4B;&#x8BD5;&#x3002;</p>
<h2 id="t11--compilers">--compilers <a href="#t11--compilers"> # </a></h2>
<p>coffee-script is no longer supported out of the box. CS and similar transpilers may be used by mapping the file extensions (for use with --watch) and the module name. For example --compilers coffee:coffee-script with CoffeeScript 1.6- or --compilers coffee:coffee-script/register with CoffeeScript 1.7+.</p>
<h2 id="t12-b, --bail">-b, --bail <a href="#t12-b, --bail"> # </a></h2>
<p>Only interested in the first exception? use --bail !</p>
<h2 id="t13-d, --debug">-d, --debug <a href="#t13-d, --debug"> # </a></h2>
<p>Enables node&apos;s debugger support, this executes your script(s) with node debug <file ...=""> allowing you to step through code and break with the debugger statement. Note the difference between mocha debug and mocha --debug: mocha debug will fire up node&apos;s built-in debug client, mocha --debug will allow you to use a different interface &#x2014; such as the Blink Developer Tools.</file></p>
<h2 id="t14--globals ">--globals  <a href="#t14--globals "> # </a></h2>
<p>Accepts a comma-delimited list of accepted global variable names. For example, suppose your app deliberately exposes a global named app and YUI, you may want to add --globals app,YUI. It also accepts wildcards. You could do --globals &apos;<em>bar&apos; and it would match foobar, barbar, etc. You can also simply pass in &apos;</em>&apos; to ignore all globals.</p>
<h2 id="t15--check-leaks">--check-leaks <a href="#t15--check-leaks"> # </a></h2>
<p>By default Mocha will not check for global variables leaked while running tests, to enable this pass --check-leaks, to specify globals that are acceptable use --globals, for example --globals jQuery,MyLib.</p>
<h2 id="t16-r, --require ">-r, --require  <a href="#t16-r, --require "> # </a></h2>
<p>The --require option is useful for libraries such as should.js, so you may simply --require should instead of manually invoking require(&apos;should&apos;) within each test file. Note that this works well for should as it augments Object.prototype, however if you wish to access a module&apos;s exports you will have to require them, for example var should = require(&apos;should&apos;).</p>
<h2 id="t17-u, --ui ">-u, --ui  <a href="#t17-u, --ui "> # </a></h2>
<p>The --ui option lets you specify the interface to use, defaulting to &quot;bdd&quot;.</p>
<h2 id="t18-R, --reporter ">-R, --reporter  <a href="#t18-R, --reporter "> # </a></h2>
<p>The --reporter option allows you to specify the reporter that will be used, defaulting to &quot;dot&quot;. This flag may also be used to utilize third-party reporters. For example if you npm install mocha-lcov-reporter you may then do --reporter mocha-lcov-reporter.</p>
<h2 id="t19-t, --timeout ">-t, --timeout  <a href="#t19-t, --timeout "> # </a></h2>
<p>Specifies the test-case timeout, defaulting to 2 seconds. To override you may pass the timeout in milliseconds, or a value with the s suffix, ex: --timeout 2s or --timeout 2000 would be equivalent.</p>
<h2 id="t20-s, --slow ">-s, --slow  <a href="#t20-s, --slow "> # </a></h2>
<p>Specify the &quot;slow&quot; test threshold, defaulting to 75ms. Mocha uses this to highlight test-cases that are taking too long.</p>
<h2 id="t21-g, --grep ">-g, --grep  <a href="#t21-g, --grep "> # </a></h2>
<p>The --grep option when specified will trigger mocha to only run tests matching the given pattern which is internally compiled to a RegExp.</p>
<p>Suppose for example you have &quot;api&quot; related tests, as well as &quot;app&quot; related tests, as shown in the following snippet; One could use --grep api or --grep app to run one or the other. The same goes for any other part of a suite or test-case title, --grep users would be valid as well, or even --grep GET.</p>
<h1 id="t22&#x63A5;&#x53E3;">&#x63A5;&#x53E3; <a href="#t22&#x63A5;&#x53E3;"> # </a></h1>
<p>Mocha&#x7684;&#x63A5;&#x53E3;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x4E86;BDD&#x3001;TDD&#x548C;exports&#x4E09;&#x79CD;&#x98CE;&#x683C;&#xFF0C;&#x5E76;&#x5141;&#x8BB8;&#x5F00;&#x53D1;&#x8005;&#x9009;&#x62E9;&#x4F7F;&#x7528;&#x3002;</p>
<h2 id="t23BDD">BDD <a href="#t23BDD"> # </a></h2>
<p>&quot;BDD&quot;&#x63A5;&#x53E3;&#x63D0;&#x4F9B;&#x4E86;describe()&#x3001;it()&#x3001;before()&#x3001;after()&#x3001;beforeEach()&#x548C;afterEach&#x53EF;&#x4F7F;&#x7528;&#x3002;</p>
<pre><code class="lang-js">describe(<span class="hljs-string">&apos;Array&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    before(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">// ...</span>
    });

    describe(<span class="hljs-string">&apos;#indexOf()&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        it(<span class="hljs-string">&apos;should return -1 when not present&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>].indexOf(<span class="hljs-number">4</span>).should.equal(-<span class="hljs-number">1</span>);
        });
    });
});
</code></pre>
<h2 id="t24TDD">TDD <a href="#t24TDD"> # </a></h2>
<p>&quot;TDD&quot;&#x63A5;&#x53E3;&#x63D0;&#x4F9B;&#x4E86;suite()&#x3001;test()&#x3001;setup()&#x548C;teardown()&#x53EF;&#x4F7F;&#x7528;&#x3002;</p>
<pre><code class="lang-js">suite(<span class="hljs-string">&apos;Array&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    setup(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">// ...</span>
    });

    suite(<span class="hljs-string">&apos;#indexOf()&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        test(<span class="hljs-string">&apos;should return -1 when not present&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            assert.equal(-<span class="hljs-number">1</span>, [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>].indexOf(<span class="hljs-number">4</span>));
        });
    });
});
</code></pre>
<h2 id="t25Exports">Exports <a href="#t25Exports"> # </a></h2>
<p>The &quot;exports&quot; interface is much like Mocha&apos;s predecessor expresso. The keys before, after, beforeEach, and afterEach are special-cased, object values are suites, and function values are test-cases.</p>
<pre><code class="lang-js"><span class="hljs-built_in">module</span>.exports = {
    before: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">// ...</span>
    },

    <span class="hljs-string">&apos;Array&apos;</span>: {
        <span class="hljs-string">&apos;#indexOf()&apos;</span>: {
            <span class="hljs-string">&apos;should return -1 when not present&apos;</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>].indexOf(<span class="hljs-number">4</span>).should.equal(-<span class="hljs-number">1</span>);
            };
        };
    };
};
</code></pre>
<h2 id="t26QUnit">QUnit <a href="#t26QUnit"> # </a></h2>
<p>The qunit-inspired interface matches the &quot;flat&quot; look of QUnit where the test suite title is simply defined before the test-cases.</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ok</span>(<span class="hljs-params">expr, msg</span>) </span>{
    <span class="hljs-keyword">if</span> (!expr) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(msg);
}

suite(<span class="hljs-string">&apos;Array&apos;</span>);

test(<span class="hljs-string">&apos;#length&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];
    ok(arr.length == <span class="hljs-number">3</span>);
});

test(<span class="hljs-string">&apos;#indexOf()&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>];
    ok(arr.indexOf(<span class="hljs-number">1</span>) == <span class="hljs-number">0</span>);
    ok(arr.indexOf(<span class="hljs-number">2</span>) == <span class="hljs-number">1</span>);
    ok(arr.indexOf(<span class="hljs-number">3</span>) == <span class="hljs-number">2</span>);
});

suite(<span class="hljs-string">&apos;String&apos;</span>);

test(<span class="hljs-string">&apos;#length&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    ok(<span class="hljs-string">&apos;foo&apos;</span>.length == <span class="hljs-number">3</span>);
});
</code></pre>
<p>Require</p>
<p>The require interface allows you to require the describe and friend words directly using require and call them whatever you want. This interface is also useful if you want to avoid global variables in your tests.</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> testCase = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;mocha&apos;</span>).describe;
<span class="hljs-keyword">var</span> pre = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;mocha&apos;</span>).before;
<span class="hljs-keyword">var</span> assertions = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;mocha&apos;</span>).assertions;
<span class="hljs-keyword">var</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;assert&apos;</span>);

testCase(<span class="hljs-string">&apos;Array&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    pre(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">// ...</span>
    });

    testCase(<span class="hljs-string">&apos;#indexOf()&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        assertions(<span class="hljs-string">&apos;should return -1 when not present&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        assert.equal([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>].indexOf(<span class="hljs-number">4</span>), -<span class="hljs-number">1</span>);
        });
    });
});
</code></pre>
<h1 id="t27&#x76D1;&#x63A7;&#x5668;">&#x76D1;&#x63A7;&#x5668; <a href="#t27&#x76D1;&#x63A7;&#x5668;"> # </a></h1>
<p>Mocha &#x7684;&#x76D1;&#x63A7;&#x5668;&#x53EF;&#x4EE5;&#x9002;&#x5E94;&#x63A7;&#x5236;&#x53F0;&#x7A97;&#x53E3;&#xFF0C;&#x5E76;&#x4E14;&#x5F53;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x6D41;&#x4E0D;&#x662F;&#x548C; tty &#x5173;&#x8054;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5B83;&#x603B;&#x662F;&#x4F1A;&#x7981;&#x7528; ansi-escape &#x7740;&#x8272;&#x3002;</p>
<h2 id="t28Dot Matrix">Dot Matrix <a href="#t28Dot Matrix"> # </a></h2>
<p>The &quot;dot&quot; matrix reporter is simply a series of dots that represent test cases, failures highlight in red, pending in blue, slow as yellow.</p>
<h2 id="t29Spec">Spec <a href="#t29Spec"> # </a></h2>
<p>The &quot;spec&quot; reporter outputs a hierarchical view nested just as the test cases are.</p>
<h2 id="t30Nyan">Nyan <a href="#t30Nyan"> # </a></h2>
<p>The &quot;nyan&quot; reporter is exactly what you might expect:</p>
<h2 id="t31TAP">TAP <a href="#t31TAP"> # </a></h2>
<p>The TAP reporter emits lines for a <a href="http://en.wikipedia.org/wiki/Test_Anything_Protocol">Test-Anything-Protocol</a> consumer.</p>
<h2 id="t32Landing Strip">Landing Strip <a href="#t32Landing Strip"> # </a></h2>
<p>The Landing Strip reporter is a gimmicky test reporter simulating a plane landing :) unicode ftw</p>
<h2 id="t33List">List <a href="#t33List"> # </a></h2>
<p>The &quot;List&quot; reporter outputs a simple specifications list as test cases pass or fail, outputting the failure details at the bottom of the output.</p>
<h2 id="t34Progress">Progress <a href="#t34Progress"> # </a></h2>
<p>The progress reporter implements a simple progress-bar:</p>
<h2 id="t35JSON">JSON <a href="#t35JSON"> # </a></h2>
<p>The JSON reporter outputs a single large JSON object when the tests have completed (failures or not).</p>
<h2 id="t36JSON Stream">JSON Stream <a href="#t36JSON Stream"> # </a></h2>
<p>The JSON Stream reporter outputs newline-delimited JSON &quot;events&quot; as they occur, beginning with a &quot;start&quot; event, followed by test passes or failures, and then the final &quot;end&quot; event.</p>
<h2 id="t37JSONCov">JSONCov <a href="#t37JSONCov"> # </a></h2>
<p>The JSONCov reporter is similar to the JSON reporter, however when run against a library instrumented by <a href="https://github.com/visionmedia/node-jscoverage">node-jscoverage</a> it will produce coverage output.</p>
<h2 id="t38HTMLCov">HTMLCov <a href="#t38HTMLCov"> # </a></h2>
<p>The HTMLCov reporter extends the JSONCov reporter. The library being tested should first be instrumented by <a href="https://github.com/visionmedia/node-jscoverage">node-jscoverage</a>, this allows Mocha to capture the coverage information necessary to produce a single-page HTML report.</p>
<p>Click to view the current <a href="http://poppinlp.com/mochacn/coverage.html">Express test coverage</a> report. For an integration example view the mocha test coverage support <a href="https://github.com/visionmedia/express/commit/b6ee5fafd0d6c79cf7df5560cb324ebee4fe3a7f">commit</a> for Express.</p>
<h2 id="t39Min">Min <a href="#t39Min"> # </a></h2>
<p>The &quot;min&quot; reporter displays the summary only, while still outputting errors on failure. This reporter works great with --watch as it clears the terminal in order to keep your test summary at the top.</p>
<h2 id="t40Doc">Doc <a href="#t40Doc"> # </a></h2>
<p>The &quot;doc&quot; reporter outputs a hierarchical HTML body representation of your tests, wrap it with a header, footer, some styling and you have some fantastic documentation!</p>
<p>For example suppose you have the following JavaScript:</p>
<pre><code class="lang-js">describe(<span class="hljs-string">&apos;Array&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    describe(<span class="hljs-string">&apos;#indexOf()&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        it(<span class="hljs-string">&apos;should return -1 when the value is not present&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>].indexOf(<span class="hljs-number">5</span>).should.equal(-<span class="hljs-number">1</span>);
            [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>].indexOf(<span class="hljs-number">0</span>).should.equal(-<span class="hljs-number">1</span>);
        });
    });
});
</code></pre>
<p>The command mocha --reporter doc array would yield:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">section</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">&quot;suite&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>Array<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">dl</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">section</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">&quot;suite&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>#indexOf()<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">dl</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">dt</span>&gt;</span>should return -1 when the value is not present<span class="hljs-tag">&lt;/<span class="hljs-title">dt</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">dd</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">code</span>&gt;</span>[1,2,3].indexOf(5).should.equal(-1); [1,2,3].indexOf(0).should.equal(-1);<span class="hljs-tag">&lt;/<span class="hljs-title">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">pre</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">dd</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">dl</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">section</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">dl</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">section</span>&gt;</span>
</code></pre>
<p>The SuperAgent request library test documentation was generated with Mocha&apos;s doc reporter using this simple make target:</p>
<pre><code>test-docs:
make test REPORTER=doc \
| cat docs/head.html - docs/tail.html \
&gt; docs/test.html
</code></pre><p>View the entire <a href="https://github.com/visionmedia/superagent/blob/master/Makefile">Makefile</a> for reference.</p>
<h2 id="t41XUnit">XUnit <a href="#t41XUnit"> # </a></h2>
<p>Documentation needed.</p>
<h2 id="t42TeamCity">TeamCity <a href="#t42TeamCity"> # </a></h2>
<p>Documentation needed.</p>
<h2 id="t43Markdown">Markdown <a href="#t43Markdown"> # </a></h2>
<p>The &quot;markdown&quot; reporter generates a markdown TOC and body for your test suite. This is great if you want to use the tests as documentation within a Github wiki page, or a markdown file in the repository that Github can render. For example here is the Connect <a href="https://github.com/senchalabs/connect/blob/90a725343c2945aaee637e799b1cd11e065b2bff/tests.md">test output</a>.</p>
<h2 id="t44HTML">HTML <a href="#t44HTML"> # </a></h2>
<p>The HTML reporter is currently the only browser reporter supported by Mocha, and it looks like this:</p>
<h1 id="t45&#x652F;&#x6301;&#x6D4F;&#x89C8;&#x5668;">&#x652F;&#x6301;&#x6D4F;&#x89C8;&#x5668; <a href="#t45&#x652F;&#x6301;&#x6D4F;&#x89C8;&#x5668;"> # </a></h1>
<p>Mocha&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x6267;&#x884C;&#x3002;&#x6BCF;&#x4E2A;Mocha&#x7684;&#x53D1;&#x884C;&#x7248;&#x4F1A;&#x4E3A;&#x6D4F;&#x89C8;&#x5668;&#x751F;&#x6210;&#x65B0;&#x7684;./mocha.js&#x548C;./mocha.css&#x3002;&#x53EA;&#x9700;&#x8981;&#x52A0;&#x8F7D;&#x76F8;&#x5E94;&#x7684;script&#x548C;stylesheet&#xFF0C;&#x5E76;&#x544A;&#x8BC9;Mocha&#x4F60;&#x5E0C;&#x671B;&#x4F7F;&#x7528;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Mocha&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x6267;&#x884C;&#x6D4B;&#x8BD5;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;&#x4F7F;&#x7528;Mocha&#x7684;&#x6D4B;&#x8BD5;&#xFF0C;&#x5728;&#x52A0;&#x8F7D;&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x8C03;&#x7528;mocha.setup(&apos;bdd&apos;)&#x6765;&#x4F7F;&#x7528;BDD&#x63A5;&#x53E3;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;mocha.run()&#x5728;onload&#x4E4B;&#x540E;&#x6267;&#x884C;&#x6D4B;&#x8BD5;&#x811A;&#x672C;&#x3002;</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">charset</span>=<span class="hljs-value">&quot;utf-8&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>Mocha Tests<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">&quot;stylesheet&quot;</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">&quot;mocha.css&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">&quot;mocha&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">&quot;jquery.js&quot;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">&quot;expect.js&quot;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">&quot;mocha.js&quot;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="actionscript">mocha.setup(<span class="hljs-string">&apos;bdd&apos;</span>)</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">&quot;test.array.js&quot;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">&quot;test.object.js&quot;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">&quot;test.xhr.js&quot;</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="actionscript">
            mocha.checkLeaks();
            mocha.globals([<span class="hljs-string">&apos;jQuery&apos;</span>]);
            mocha.run();
        </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre>
<h2 id="t46grep">grep <a href="#t46grep"> # </a></h2>
<p>The client-side may utilize --grep as well, however you use the query-string, for example ?grep=api.</p>
<h1 id="t47mocha.opts&#x6587;&#x4EF6;">mocha.opts&#x6587;&#x4EF6; <a href="#t47mocha.opts&#x6587;&#x4EF6;"> # </a></h1>
<p>Mocha&#x4F1A;&#x5C1D;&#x8BD5;&#x53D6;&#x52A0;&#x8F7D;./test/mocha.opts&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x628A;&#x5B83;&#x4E0E;process.argv&#x8054;&#x7CFB;&#x8D77;&#x6765;&#xFF0C;&#x4F46;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x66F4;&#x9AD8;&#x3002;&#x4F8B;&#x5982;&#x4F60;&#x6709;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#x7684;mocha.opts&#x6587;&#x4EF6;&#xFF1A;</p>
<pre><code>--require should
--reporter dot
--ui bdd
</code></pre><p>&#x8FD9;&#x4F1A;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;dot&#x76D1;&#x63A7;&#x5668;&#x3001;&#x52A0;&#x8F7D;should&#x5E93;&#x5E76;&#x4F7F;&#x7528;bdd&#x63A5;&#x53E3;&#x3002;&#x4E0E;&#x6B64;&#x540C;&#x65F6;&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x8C03;&#x7528;mocha(1)&#x7684;&#x65F6;&#x5019;&#x6DFB;&#x52A0;&#x53C2;&#x6570;&#xFF0C;&#x6BD4;&#x5982;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#x4F1A;&#x6FC0;&#x6D3B;growl&#x652F;&#x6301;&#x5E76;&#x5C06;&#x76D1;&#x63A7;&#x5668;&#x8BBE;&#x7F6E;&#x4E3A;list&#xFF1A;</p>
<pre><code class="lang-sh">$ mocha --reporter list --growl
</code></pre>
<h1 id="t48&#x6307;&#x5B9A;&#x65B9;&#x6848;&#x8D85;&#x65F6;&#x65F6;&#x95F4;">&#x6307;&#x5B9A;&#x65B9;&#x6848;&#x8D85;&#x65F6;&#x65F6;&#x95F4; <a href="#t48&#x6307;&#x5B9A;&#x65B9;&#x6848;&#x8D85;&#x65F6;&#x65F6;&#x95F4;"> # </a></h1>
<p>&#x65B9;&#x6848;&#x7EA7;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x4F1A;&#x5BF9;&#x6574;&#x4E2A;&#x6D4B;&#x8BD5;&#x65B9;&#x6848;&#x751F;&#x6548;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;this.timeout(0)&#x6765;&#x5173;&#x95ED;&#x3002;&#x5982;&#x679C;&#x5176;&#x5185;&#x90E8;&#x7684;&#x6D4B;&#x8BD5;&#x65B9;&#x6848;&#x548C;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#x4E0D;&#x8986;&#x76D6;&#x8FD9;&#x4E2A;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x503C;&#x5C06;&#x88AB;&#x7EE7;&#x627F;&#x3002;</p>
<pre><code class="lang-js">describe(<span class="hljs-string">&apos;a suite of tests&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.timeout(<span class="hljs-number">500</span>);

    it(<span class="hljs-string">&apos;should take less than 500ms&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
        setTimeout(done, <span class="hljs-number">300</span>);
    });

    it(<span class="hljs-string">&apos;should take less than 500ms as well&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">done</span>) </span>{
        setTimeout(done, <span class="hljs-number">200</span>);
    });
});
</code></pre>
<h1 id="t49&#x6307;&#x5B9A;&#x6D4B;&#x8BD5;&#x8D85;&#x65F6;&#x65F6;&#x95F4;">&#x6307;&#x5B9A;&#x6D4B;&#x8BD5;&#x8D85;&#x65F6;&#x65F6;&#x95F4; <a href="#t49&#x6307;&#x5B9A;&#x6D4B;&#x8BD5;&#x8D85;&#x65F6;&#x65F6;&#x95F4;"> # </a></h1>
<p>&#x6D4B;&#x8BD5;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;this.timeout(0)&#x6765;&#x5173;&#x95ED;&#x6240;&#x6709;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF1A;</p>
<pre><code>it(&apos;should take less than 500ms&apos;, function(done) {
    this.timeout(500);
    setTimeout(done, 300);
});
</code></pre><h1 id="t50&#x6700;&#x4F73;&#x5B9E;&#x8DF5;">&#x6700;&#x4F73;&#x5B9E;&#x8DF5; <a href="#t50&#x6700;&#x4F73;&#x5B9E;&#x8DF5;"> # </a></h1>
<h2 id="t51test/*">test/* <a href="#t51test/*"> # </a></h2>
<p>mocha(1)&#x9ED8;&#x8BA4;&#x4F1A;&#x4F7F;&#x7528;./test/*.js&#x8FD9;&#x4E2A;&#x8DEF;&#x5F84;&#x6A21;&#x5F0F;&#xFF0C;&#x8FD9;&#x4E5F;&#x901A;&#x5E38;&#x662F;&#x4F60;&#x653E;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#x7684;&#x597D;&#x5730;&#x65B9;&#x3002;</p>
<h2 id="t52Makefiles">Makefiles <a href="#t52Makefiles"> # </a></h2>
<p>&#x5BF9;&#x5F00;&#x53D1;&#x8005;&#x53CB;&#x597D;&#xFF0C;&#x5728;Makefile&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;make test&#xFF0C;&#x4E0D;&#x8981;&#x8BA9;&#x4ED6;&#x4EEC;&#x5728;&#x4F60;&#x7684;&#x6587;&#x6863;&#x4E2D;&#x5230;&#x5904;&#x5BFB;&#x627E;&#x5982;&#x4F55;&#x8FD0;&#x884C;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#xFF1A;</p>
<pre><code>test:
./node_modules/.bin/mocha --reporter list

.PHONY: test
</code></pre><h1 id="t53&#x7F16;&#x8F91;&#x5668;">&#x7F16;&#x8F91;&#x5668; <a href="#t53&#x7F16;&#x8F91;&#x5668;"> # </a></h1>
<p>&#x4E0B;&#x9762;&#x662F;&#x53EF;&#x7528;&#x7684;&#x7F16;&#x8F91;&#x5668;&#x76F8;&#x5173;&#x7684;&#x5305;&#x5217;&#x8868;&#xFF1A;</p>
<h2 id="t54TextMate bundle">TextMate bundle <a href="#t54TextMate bundle"> # </a></h2>
<p>Mocha TextMate bundle &#x5305;&#x542B;&#x4E86;&#x8BA9;&#x5199;&#x6D4B;&#x8BD5;&#x66F4;&#x5FEB;&#x66F4;&#x8212;&#x5FC3;&#x7684;&#x5F88;&#x591A;snippets&#x3002;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x5B89;&#x88C5;&#xFF1A;</p>
<pre><code>$ make tm
</code></pre><h1 id="t55&#x6D4B;&#x8BD5;&#x65B9;&#x6848;&#x793A;&#x4F8B;">&#x6D4B;&#x8BD5;&#x65B9;&#x6848;&#x793A;&#x4F8B; <a href="#t55&#x6D4B;&#x8BD5;&#x65B9;&#x6848;&#x793A;&#x4F8B;"> # </a></h1>
<p>&#x4E0B;&#x9762;&#x7684;&#x6D4B;&#x8BD5;&#x65B9;&#x6848;&#x662F;&#x6765;&#x81EA;&#x4E8E;&#x771F;&#x5B9E;&#x7684;&#x4F7F;&#x7528;Mocha&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x6240;&#x4EE5;&#x7528;&#x5B83;&#x4EEC;&#x505A;&#x793A;&#x4F8B;&#x518D;&#x597D;&#x4E0D;&#x8FC7;&#x4E86;&#xFF1A;</p>
<ul>
<li><a href="https://github.com/visionmedia/express/tree/master/test">Express</a></li>
<li><a href="https://github.com/senchalabs/connect/tree/master/test">Connect</a></li>
<li><a href="https://github.com/visionmedia/superagent/tree/master/test/node">SuperAgent</a></li>
<li><a href="https://github.com/LearnBoost/websocket.io/tree/master/test">WebSocket.io</a></li>
<li><a href="https://github.com/visionmedia/mocha/tree/master/test">Mocha</a></li>
</ul>
<h1 id="t56&#x6267;&#x884C;Mocha&#x7684;&#x6D4B;&#x8BD5;">&#x6267;&#x884C;Mocha&#x7684;&#x6D4B;&#x8BD5; <a href="#t56&#x6267;&#x884C;Mocha&#x7684;&#x6D4B;&#x8BD5;"> # </a></h1>
<p>&#x6267;&#x884C;&#x6D4B;&#x8BD5;&#xFF1A;</p>
<pre><code class="lang-sh">$ make <span class="hljs-built_in">test</span>
</code></pre>
<p>&#x6267;&#x884C;&#x6240;&#x6709;&#x6D4B;&#x8BD5;&#xFF0C;&#x5305;&#x62EC;&#x63A5;&#x53E3;&#xFF1A;</p>
<pre><code class="lang-sh">$ make <span class="hljs-built_in">test</span>-all
</code></pre>
<p>&#x66F4;&#x6539;&#x76D1;&#x63A7;&#x5668;&#xFF1A;</p>
<pre><code class="lang-sh">$ make <span class="hljs-built_in">test</span> REPORTER=list
</code></pre>

        <div class="copyright">Created by <a href="https://github.com/shenbao" target="_blank">ShenBao</a></div>
    </div>

</div>


</body>

<script>
		(function(window,document,undefined){
			var hearts = [];
			window.requestAnimationFrame = (function(){
					return window.requestAnimationFrame || 
							   window.webkitRequestAnimationFrame ||
							   window.mozRequestAnimationFrame ||
							   window.oRequestAnimationFrame ||
							   window.msRequestAnimationFrame ||
							   function (callback){
									   setTimeout(callback,1000/60);
							   }
			})();
			init();
			function init(){
					css(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}");
					attachEvent();
					gameloop();
			}
			function gameloop(){
					for(var i=0;i<hearts.length;i++){
						if(hearts[i].alpha <=0){
								document.body.removeChild(hearts[i].el);
								hearts.splice(i,1);
								continue;
						}
						hearts[i].y--;
						hearts[i].scale += 0.004;
						hearts[i].alpha -= 0.013;
						hearts[i].el.style.cssText = "left:"+hearts[i].x+"px;top:"+hearts[i].y+"px;opacity:"+hearts[i].alpha+";transform:scale("+hearts[i].scale+","+hearts[i].scale+") rotate(45deg);background:"+hearts[i].color+";z-index:99999";
				}
				requestAnimationFrame(gameloop);
			}
			function attachEvent(){
					var old = typeof window.onclick==="function" && window.onclick;
					window.onclick = function(event){
							old && old();
							createHeart(event);
					}
			}
			function createHeart(event){
				var d = document.createElement("div");
				d.className = "heart";
				hearts.push({
						el : d,
						x : event.clientX - 5,
						y : event.clientY - 5,
						scale : 1,
						alpha : 1,
						color : randomColor()
				});
				document.body.appendChild(d);
		}
		function css(css){
				var style = document.createElement("style");
					style.type="text/css";
					try{
						style.appendChild(document.createTextNode(css));
					}catch(ex){
						style.styleSheet.cssText = css;
					}
					document.getElementsByTagName('head')[0].appendChild(style);
		}
			function randomColor(){
					return "rgb("+(~~(Math.random()*255))+","+(~~(Math.random()*255))+","+(~~(Math.random()*255))+")";
			}
	})(window,document);
</script>

</html>
