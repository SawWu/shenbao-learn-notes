<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>秋思浪人</title>
        
    <link rel="stylesheet" type="text/css" href="../../../static/css/main.css">
</head>
<body>
<div class="navbar navbar-line">
    <div class="container">
        <div class="logo">
            
                秋思浪人
            
        </div>
        <input type="checkbox" id="idoc_nav" />
        <div class="menu_tree">
        <ul><li><a href="../../../index.html">首页</a></li><li><a href="#"><span></span>Web</a><ul><li><a href="../../../html/Web/jade.html">jade</a></li><li><a href="../../../html/Web/less入门用法.html">less入门用法</a></li><li><a href="#"><span></span>web</a><ul><li><a href="../../../html/Web/web/01  概述.html">01  概述</a></li><li><a href="../../../html/Web/web/02  Canvas.html">02  Canvas</a></li><li><a href="../../../html/Web/web/03  SVG图像.html">03  SVG图像</a></li><li><a href="../../../html/Web/web/04  表单form.html">04  表单form</a></li><li><a href="../../../html/Web/web/05  file文件与二进制数据的操作.html">05  file文件与二进制数据的操作</a></li><li><a href="../../../html/Web/web/06  Web Worker.html">06  Web Worker</a></li><li><a href="../../../html/Web/web/07  SSE：服务器发送事件 eventsource.html">07  SSE：服务器发送事件 eventsource</a></li><li><a href="../../../html/Web/web/08  Page Visiblity.html">08  Page Visiblity</a></li><li><a href="../../../html/Web/web/09  FullScreen API：全屏操作.html">09  FullScreen API：全屏操作</a></li><li><a href="../../../html/Web/web/10  Web Speech.html">10  Web Speech</a></li><li><a href="../../../html/Web/web/11  requestAnimationFrame.html">11  requestAnimationFrame</a></li><li><a href="../../../html/Web/web/12  WebSocket.html">12  WebSocket</a></li><li><a href="../../../html/Web/web/13  WebRTC.html">13  WebRTC</a></li><li><a href="../../../html/Web/web/14  Web Components.html">14  Web Components</a></li></ul></li></ul></li><li><a href="#"><span></span>JS</a><ul><li><a href="../../../html/JS/00  JavaScript概述与发展史.html">00  JavaScript概述与发展史</a></li><li><a href="#"><span></span>01  语法</a><ul><li><a href="../../../html/JS/01  语法/01  基本语法.html">01  基本语法</a></li><li><a href="../../../html/JS/01  语法/02  数据类型.html">02  数据类型</a></li><li><a href="../../../html/JS/01  语法/03  数值 number.html">03  数值 number</a></li><li><a href="../../../html/JS/01  语法/04  字符串 string.html">04  字符串 string</a></li><li><a href="../../../html/JS/01  语法/05  对象 object.html">05  对象 object</a></li><li><a href="../../../html/JS/01  语法/06  数组 array.html">06  数组 array</a></li><li><a href="../../../html/JS/01  语法/07  函数 function.html">07  函数 function</a></li><li><a href="../../../html/JS/01  语法/08  运算符 operator.html">08  运算符 operator</a></li><li><a href="../../../html/JS/01  语法/09  数据类型转换 conversion.html">09  数据类型转换 conversion</a></li><li><a href="../../../html/JS/01  语法/10  错误处理机制 error.html">10  错误处理机制 error</a></li><li><a href="../../../html/JS/01  语法/11  编程风格.html">11  编程风格</a></li></ul></li><li><a href="#"><span></span>02  标准库</a><ul><li><a href="../../../html/JS/02  标准库/01  Object对象.html">01  Object对象</a></li><li><a href="../../../html/JS/02  标准库/02  Array对象.html">02  Array对象</a></li><li><a href="../../../html/JS/02  标准库/03  包装对象和Boolean对象.html">03  包装对象和Boolean对象</a></li><li><a href="../../../html/JS/02  标准库/04  Number对象.html">04  Number对象</a></li><li><a href="../../../html/JS/02  标准库/05  String对象.html">05  String对象</a></li><li><a href="../../../html/JS/02  标准库/06  Math对象.html">06  Math对象</a></li><li><a href="../../../html/JS/02  标准库/07  Date对象.html">07  Date对象</a></li><li><a href="../../../html/JS/02  标准库/08  RegExp对象.html">08  RegExp对象</a></li><li><a href="../../../html/JS/02  标准库/09  JSON对象.html">09  JSON对象</a></li><li><a href="../../../html/JS/02  标准库/10  console对象.html">10  console对象</a></li><li><a href="../../../html/JS/02  标准库/11  属性描述对象.html">11  属性描述对象</a></li><li><a href="../../../html/JS/02  标准库/12  二进制数组.html">12  二进制数组</a></li></ul></li><li><a href="#"><span></span>03  面向对象编程</a><ul><li><a href="../../../html/JS/03  面向对象编程/01  概述.html">01  概述</a></li><li><a href="../../../html/JS/03  面向对象编程/02  this 关键字.html">02  this 关键字</a></li><li><a href="../../../html/JS/03  面向对象编程/03  prototype 对象.html">03  prototype 对象</a></li><li><a href="../../../html/JS/03  面向对象编程/04  Object 对象与继承.html">04  Object 对象与继承</a></li><li><a href="../../../html/JS/03  面向对象编程/05  面向对象编程的模式.html">05  面向对象编程的模式</a></li></ul></li><li><a href="#"><span></span>04  语法专题</a><ul><li><a href="../../../html/JS/04  语法专题/01  单线程模型.html">01  单线程模型</a></li><li><a href="../../../html/JS/04  语法专题/02  定时器 timer.html">02  定时器 timer</a></li><li><a href="../../../html/JS/04  语法专题/03  Promise.html">03  Promise</a></li><li><a href="../../../html/JS/04  语法专题/04  strict.html">04  strict</a></li><li><a href="../../../html/JS/04  语法专题/05  JavaScript与有限状态机.html">05  JavaScript与有限状态机</a></li><li><a href="../../../html/JS/04  语法专题/06  JavaScript解释器.html">06  JavaScript解释器</a></li><li><a href="../../../html/JS/04  语法专题/07  MVC框架与Backbone.js.html">07  MVC框架与Backbone.js</a></li><li><a href="../../../html/JS/04  语法专题/08  ECMAScript 6 介绍.html">08  ECMAScript 6 介绍</a></li></ul></li><li><a href="#"><span></span>05  DOM模型</a><ul><li><a href="../../../html/JS/05  DOM模型/01  DOM 模型概述.html">01  DOM 模型概述</a></li><li><a href="../../../html/JS/05  DOM模型/02  Document节点.html">02  Document节点</a></li><li><a href="../../../html/JS/05  DOM模型/03  Element节点.html">03  Element节点</a></li><li><a href="../../../html/JS/05  DOM模型/04  Attribute属性的操作.html">04  Attribute属性的操作</a></li><li><a href="../../../html/JS/05  DOM模型/05  Text节点和DocumentFragment节点.html">05  Text节点和DocumentFragment节点</a></li><li><a href="../../../html/JS/05  DOM模型/06  事件模型 event.html">06  事件模型 event</a></li><li><a href="../../../html/JS/05  DOM模型/07  事件类型 event-type.html">07  事件类型 event-type</a></li><li><a href="../../../html/JS/05  DOM模型/08  CSS操作.html">08  CSS操作</a></li><li><a href="../../../html/JS/05  DOM模型/09  Mutation Observer.html">09  Mutation Observer</a></li><li><a href="../../../html/JS/05  DOM模型/10  Image对象.html">10  Image对象</a></li></ul></li><li><a href="#"><span></span>06  BOM浏览器环境</a><ul><li><a href="../../../html/JS/06  BOM浏览器环境/01  BOM浏览器环境概述.html">01  BOM浏览器环境概述</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/02  window对象.html">02  window对象</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/03  History对象.html">03  History对象</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/04  Cookie.html">04  Cookie</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/05  Web Storage：浏览器端数据储存机制.html">05  Web Storage：浏览器端数据储存机制</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/06  同源政策.html">06  同源政策</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/07  Ajax.html">07  Ajax</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/08  CORS.html">08  CORS</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/09  IndexedDB：浏览器端数据库.html">09  IndexedDB：浏览器端数据库</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/10  Web Notification API.html">10  Web Notification API</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/11  Performance API.html">11  Performance API</a></li><li><a href="../../../html/JS/06  BOM浏览器环境/12  mobile移动设备API.html">12  mobile移动设备API</a></li></ul></li><li><a href="#"><span></span>07  jQuery</a><ul><li><a href="../../../html/JS/07  jQuery/01  jQuery概述.html">01  jQuery概述</a></li><li><a href="../../../html/JS/07  jQuery/02  jQuery常用API.html">02  jQuery常用API</a></li><li><a href="../../../html/JS/07  jQuery/03  jQuery工具方法.html">03  jQuery工具方法</a></li><li><a href="../../../html/JS/07  jQuery/04  jQuery插件开发.html">04  jQuery插件开发</a></li><li><a href="../../../html/JS/07  jQuery/05  jQuery.Deferred对象.html">05  jQuery.Deferred对象</a></li><li><a href="../../../html/JS/07  jQuery/06  如何做到jQuery-free.html">06  如何做到jQuery-free</a></li><li><a href="../../../html/JS/07  jQuery/07  Jquery同步和异步.html">07  Jquery同步和异步</a></li></ul></li><li><a href="#"><span></span>08  webapp</a><ul><li><a href="../../../html/JS/08  webapp/01  cache.html">01  cache</a></li><li><a href="../../../html/JS/08  webapp/02  progressive.html">02  progressive</a></li><li><a href="../../../html/JS/08  webapp/03  serviceworker.html">03  serviceworker</a></li></ul></li><li><a href="#"><span></span>09  常用库</a><ul><li><a href="../../../html/JS/09  常用库/d3.html">d3</a></li><li><a href="../../../html/JS/09  常用库/datejs.html">datejs</a></li><li><a href="../../../html/JS/09  常用库/designpattern.html">designpattern</a></li><li><a href="../../../html/JS/09  常用库/modernizr.html">modernizr</a></li><li><a href="../../../html/JS/09  常用库/sorting.html">sorting</a></li><li><a href="../../../html/JS/09  常用库/underscore.html">underscore</a></li><li class="active"><a href="../../../html/JS/09  常用库/Backbone.js.html">Backbone.js</a></li><li><a href="../../../html/JS/09  常用库/api.html">api</a></li><li><a href="../../../html/JS/09  常用库/plugins.html">plugins</a></li></ul></li><li><a href="#"><span></span>10  tool 工具</a><ul><li><a href="../../../html/JS/10  tool 工具/Bower：客户端库管理工具.html">Bower：客户端库管理工具</a></li><li><a href="../../../html/JS/10  tool 工具/Browserify：浏览器加载Node.js模块.html">Browserify：浏览器加载Node.js模块</a></li><li><a href="../../../html/JS/10  tool 工具/Grunt：任务自动管理工具.html">Grunt：任务自动管理工具</a></li><li><a href="../../../html/JS/10  tool 工具/Gulp：任务自动管理工具.html">Gulp：任务自动管理工具</a></li><li><a href="../../../html/JS/10  tool 工具/JavaScript 程序测试.html">JavaScript 程序测试</a></li><li><a href="../../../html/JS/10  tool 工具/Lint 工具.html">Lint 工具</a></li><li><a href="../../../html/JS/10  tool 工具/RequireJS和AMD规范.html">RequireJS和AMD规范</a></li><li><a href="../../../html/JS/10  tool 工具/Source Map.html">Source Map</a></li><li><a href="../../../html/JS/10  tool 工具/phantomjs.html">phantomjs</a></li></ul></li><li><a href="#"><span></span>11  常用积累</a><ul><li><a href="../../../html/JS/11  常用积累/DOM深入.html">DOM深入</a></li><li><a href="../../../html/JS/11  常用积累/JS盒子模型.html">JS盒子模型</a></li><li><a href="../../../html/JS/11  常用积累/promise.html">promise</a></li><li><a href="../../../html/JS/11  常用积累/webstorage.html">webstorage</a></li><li><a href="../../../html/JS/11  常用积累/原型链.html">原型链</a></li><li><a href="../../../html/JS/11  常用积累/字符编码.html">字符编码</a></li><li><a href="../../../html/JS/11  常用积累/正则表达式.html">正则表达式</a></li><li><a href="../../../html/JS/11  常用积累/预解析作用域闭包this.html">预解析作用域闭包this</a></li></ul></li></ul></li><li><a href="#"><span></span>ES6</a><ul><li><a href="../../../html/ES6/00  A.快速搞定常用的ES6新特性.html">00  A.快速搞定常用的ES6新特性</a></li><li><a href="../../../html/ES6/01  ECMAScript 6简介.html">01  ECMAScript 6简介</a></li><li><a href="../../../html/ES6/02  let和const命令.html">02  let和const命令</a></li><li><a href="../../../html/ES6/03  变量的解构赋值.html">03  变量的解构赋值</a></li><li><a href="../../../html/ES6/04  字符串的扩展.html">04  字符串的扩展</a></li><li><a href="../../../html/ES6/05  正则的扩展.html">05  正则的扩展</a></li><li><a href="../../../html/ES6/06  数值的扩展.html">06  数值的扩展</a></li><li><a href="../../../html/ES6/07  数组的扩展.html">07  数组的扩展</a></li><li><a href="../../../html/ES6/08  函数的扩展.html">08  函数的扩展</a></li><li><a href="../../../html/ES6/09  函数的扩展.html">09  函数的扩展</a></li><li><a href="../../../html/ES6/10  Symbol.html">10  Symbol</a></li><li><a href="../../../html/ES6/11  Set和Map数据结构.html">11  Set和Map数据结构</a></li><li><a href="../../../html/ES6/12  Proxy.html">12  Proxy</a></li><li><a href="../../../html/ES6/13  Reflect.html">13  Reflect</a></li><li><a href="../../../html/ES6/14  Iterator和for...of循环.html">14  Iterator和for...of循环</a></li><li><a href="../../../html/ES6/15  Generator 函数.html">15  Generator 函数</a></li><li><a href="../../../html/ES6/16  Promise对象.html">16  Promise对象</a></li><li><a href="../../../html/ES6/17  异步操作和Async函数.html">17  异步操作和Async函数</a></li><li><a href="../../../html/ES6/18  Class.html">18  Class</a></li><li><a href="../../../html/ES6/19  decorator 修饰器.html">19  decorator 修饰器</a></li><li><a href="../../../html/ES6/20  Module.html">20  Module</a></li><li><a href="../../../html/ES6/21  styles 编程风格.html">21  styles 编程风格</a></li><li><a href="../../../html/ES6/22  spec  读懂规格.html">22  spec  读懂规格</a></li><li><a href="../../../html/ES6/23  arraybuffer 二进制数组.html">23  arraybuffer 二进制数组</a></li><li><a href="../../../html/ES6/24  SIMD 单指令，多数据.html">24  SIMD 单指令，多数据</a></li><li><a href="../../../html/ES6/25  函数式编程.html">25  函数式编程</a></li><li><a href="../../../html/ES6/26  Mixin.html">26  Mixin</a></li><li><a href="../../../html/ES6/27  参考链接.html">27  参考链接</a></li></ul></li><li><a href="#"><span></span>React</a><ul><li><a href="../../../html/React/React基础知识.html">React基础知识</a></li><li><a href="../../../html/React/webpack搭配react入门及实践.html">webpack搭配react入门及实践</a></li><li><a href="../../../html/React/React中ES6与ES5构建差别及JSX的使用.html">React中ES6与ES5构建差别及JSX的使用</a></li><li><a href="../../../html/React/React API 汇总.html">React API 汇总</a></li></ul></li><li><a href="#"><span></span>RN</a><ul><li><a href="../../../html/RN/React-Native样式表指南.html">React-Native样式表指南</a></li></ul></li><li><a href="#"><span></span>Node</a><ul><li><a href="../../../html/Node/assert.html">assert</a></li><li><a href="../../../html/Node/basic.html">basic</a></li><li><a href="../../../html/Node/buffer.html">buffer</a></li><li><a href="../../../html/Node/child-process.html">child-process</a></li><li><a href="../../../html/Node/cluster.html">cluster</a></li><li><a href="../../../html/Node/develop.html">develop</a></li><li><a href="../../../html/Node/dns.html">dns</a></li><li><a href="../../../html/Node/error.html">error</a></li><li><a href="../../../html/Node/events.html">events</a></li><li><a href="../../../html/Node/express.html">express</a></li><li><a href="../../../html/Node/fs.html">fs</a></li><li><a href="../../../html/Node/http.html">http</a></li><li><a href="../../../html/Node/koa.html">koa</a></li><li><a href="../../../html/Node/module.html">module</a></li><li><a href="../../../html/Node/mongodb.html">mongodb</a></li><li><a href="../../../html/Node/net.html">net</a></li><li><a href="../../../html/Node/npm.html">npm</a></li><li><a href="../../../html/Node/os.html">os</a></li><li><a href="../../../html/Node/packagejson.html">packagejson</a></li><li><a href="../../../html/Node/path.html">path</a></li><li><a href="../../../html/Node/process.html">process</a></li><li><a href="../../../html/Node/querystring.html">querystring</a></li><li><a href="../../../html/Node/repl.html">repl</a></li><li><a href="../../../html/Node/stream.html">stream</a></li><li><a href="../../../html/Node/timer.html">timer</a></li><li><a href="../../../html/Node/url.html">url</a></li><li><a href="../../../html/Node/version.html">version</a></li><li><a href="#"><span></span>测试工具</a><ul><li><a href="../../../html/Node/测试工具/chai.html">chai</a></li><li><a href="../../../html/Node/测试工具/mocha.html">mocha</a></li><li><a href="../../../html/Node/测试工具/should.html">should</a></li></ul></li><li><a href="../../../html/Node/Nodejs教程.html">Nodejs教程</a></li></ul></li><li><a href="#"><span></span>工程化</a><ul><li><a href="../../../html/工程化/git.html">git</a></li><li><a href="../../../html/工程化/shell常用命令.html">shell常用命令</a></li><li><a href="../../../html/工程化/bash.html">bash</a></li><li><a href="../../../html/工程化/Git 常用命令大全.html">Git 常用命令大全</a></li><li><a href="../../../html/工程化/Shell命令大全.html">Shell命令大全</a></li><li><a href="../../../html/工程化/gulp-book.html">gulp-book</a></li><li><a href="../../../html/工程化/gulp.html">gulp</a></li><li><a href="../../../html/工程化/webpack.html">webpack</a></li><li><a href="../../../html/工程化/babel.html">babel</a></li><li><a href="../../../html/工程化/bower.html">bower</a></li></ul></li><li><a href="#"><span></span>Ng</a><ul><li><a href="../../../html/Ng/angular入门.html">angular入门</a></li><li><a href="../../../html/Ng/angular基础.html">angular基础</a></li><li><a href="../../../html/Ng/route.html">route</a></li><li><a href="../../../html/Ng/指令.html">指令</a></li><li><a href="../../../html/Ng/服务.html">服务</a></li></ul></li><li><a href="#"><span></span>Vue</a><ul><li><a href="../../../html/Vue/Vue入门.html">Vue入门</a></li><li><a href="../../../html/Vue/Vue方法篇.html">Vue方法篇</a></li><li><a href="../../../html/Vue/Vue方法篇2.html">Vue方法篇2</a></li><li><a href="../../../html/Vue/Vue组件.html">Vue组件</a></li></ul></li><li><a href="#"><span></span>经验</a><ul><li><a href="../../../html/经验/HTML CSS开发规范指南.html">HTML CSS开发规范指南</a></li><li><a href="../../../html/经验/JavaScript代码规范.html">JavaScript代码规范</a></li><li><a href="../../../html/经验/React编码规范.html">React编码规范</a></li><li><a href="../../../html/经验/移动前端开发经验指南.html">移动前端开发经验指南</a></li><li><a href="../../../html/经验/移动端上遇到的各种坑.html">移动端上遇到的各种坑</a></li><li><a href="../../../html/经验/H5项目常见问题及注意事项.html">H5项目常见问题及注意事项</a></li></ul></li><li><a href="#"><span></span>团队</a><ul><li><a href="../../../html/团队/笔试面试大纲.html">笔试面试大纲</a></li></ul></li><li><a href="#"><span></span>杂谈</a><ul><li><a href="../../../html/杂谈/杂谈  模块暂未开通.html">杂谈  模块暂未开通</a></li></ul></li><li><a href="../../../html/关于我.html">关于我</a></li></ul>    
        </div>
        
        
        <div class="forkgithub"><a target="_blank" href="https://github.com/ShenBao">fork on github</a></div>
        

        <section class="idoc_nav_btn">
            <label for="idoc_nav"><span></span></label>
        </section>
    </div>
    
</div>




<div class="container">

    <div class="page-toc">
        <ul><li><a href="#t0Backbone.js(1.1.2) ">Backbone.js(1.1.2) </a></li><li><a href="#t1文档声明：">文档声明：</a></li><li><a href="#t2介绍（Introduction）">介绍（Introduction）</a></li><li><a href="#t3升级到 1.1">升级到 1.1</a></li><li><a href="#t4Backbone.Events（事件）">Backbone.Events（事件）</a><ul><li><a href="#t5on">on</a></li><li><a href="#t6off">off</a></li><li><a href="#t7trigger">trigger</a></li><li><a href="#t8once">once</a></li><li><a href="#t9listenTo">listenTo</a></li><li><a href="#t10stopListening">stopListening</a></li><li><a href="#t11listenToOnce">listenToOnce</a></li><li><a href="#t12Catalog of Events（事件目录）">Catalog of Events（事件目录）</a></li></ul></li><li><a href="#t13Backbone.Model（模型）">Backbone.Model（模型）</a><ul><li><a href="#t14extend">extend</a></li><li><a href="#t15constructor / initializenew">constructor / initializenew</a></li><li><a href="#t16get">get</a></li><li><a href="#t17set">set</a></li><li><a href="#t18escape">escape</a></li><li><a href="#t19has">has</a></li><li><a href="#t20unset">unset</a></li><li><a href="#t21clear">clear</a></li><li><a href="#t22id">id</a></li><li><a href="#t23idAttribute">idAttribute</a></li><li><a href="#t24cid">cid</a></li><li><a href="#t25attributes">attributes</a></li><li><a href="#t26changed">changed</a></li><li><a href="#t27defaults">defaults</a></li><li><a href="#t28toJSON">toJSON</a></li><li><a href="#t29sync">sync</a></li><li><a href="#t30fetch">fetch</a></li><li><a href="#t31save">save</a></li><li><a href="#t32destroy">destroy</a></li></ul></li><li><a href="#t33Underscore 方法 (6)">Underscore 方法 (6)</a><ul><li><a href="#t34validate">validate</a></li><li><a href="#t35validationError">validationError</a></li><li><a href="#t36isValid">isValid</a></li><li><a href="#t37url">url</a></li><li><a href="#t38urlRoot">urlRoot</a></li><li><a href="#t39parse">parse</a></li><li><a href="#t40clone">clone</a></li><li><a href="#t41isNew">isNew</a></li><li><a href="#t42hasChanged">hasChanged</a></li><li><a href="#t43changedAttributes">changedAttributes</a></li><li><a href="#t44previous">previous</a></li><li><a href="#t45previousAttributes">previousAttributes</a></li></ul></li><li><a href="#t46Backbone.Collection（集合）">Backbone.Collection（集合）</a><ul><li><a href="#t47extend（集合）">extend（集合）</a></li><li><a href="#t48model（集合）">model（集合）</a></li><li><a href="#t49constructor / initialize">constructor / initialize</a></li><li><a href="#t50models">models</a></li><li><a href="#t51toJSON">toJSON</a></li><li><a href="#t52sync（集合）">sync（集合）</a></li><li><a href="#t53Underscore 方法 (32)">Underscore 方法 (32)</a></li><li><a href="#t54add（集合）">add（集合）</a></li><li><a href="#t55remove（集合）">remove（集合）</a></li><li><a href="#t56reset（集合）">reset（集合）</a></li><li><a href="#t57set（集合）">set（集合）</a></li><li><a href="#t58get（集合）">get（集合）</a></li><li><a href="#t59at（集合）">at（集合）</a></li><li><a href="#t60push（集合）">push（集合）</a></li><li><a href="#t61pop（集合）">pop（集合）</a></li><li><a href="#t62unshift（集合）">unshift（集合）</a></li><li><a href="#t63shift（集合）">shift（集合）</a></li><li><a href="#t64slice（集合）">slice（集合）</a></li><li><a href="#t65length（集合）">length（集合）</a></li><li><a href="#t66comparator（集合）">comparator（集合）</a></li><li><a href="#t67sort">sort</a></li><li><a href="#t68pluck">pluck</a></li><li><a href="#t69where">where</a></li><li><a href="#t70findWhere">findWhere</a></li><li><a href="#t71collection.url">collection.url</a></li><li><a href="#t72parse">parse</a></li><li><a href="#t73clone">clone</a></li><li><a href="#t74fetch">fetch</a></li><li><a href="#t75create">create</a></li></ul></li><li><a href="#t76Backbone.Router（路由）">Backbone.Router（路由）</a><ul><li><a href="#t77extend">extend</a></li><li><a href="#t78routes">routes</a></li><li><a href="#t79constructor / initialize">constructor / initialize</a></li><li><a href="#t80route">route</a></li><li><a href="#t81navigate">navigate</a></li><li><a href="#t82execute">execute</a></li></ul></li><li><a href="#t83Backbone.history">Backbone.history</a><ul><li><a href="#t84start">start</a></li></ul></li><li><a href="#t85Backbone.sync（同步）">Backbone.sync（同步）</a><ul><li><a href="#t86Backbone.sync">Backbone.sync</a></li><li><a href="#t87Backbone.ajax">Backbone.ajax</a><ul><li><a href="#t88emulateHTTP">emulateHTTP</a></li><li><a href="#t89emulateJSON">emulateJSON</a></li></ul></li></ul></li><li><a href="#t90Backbone.View（视图）">Backbone.View（视图）</a><ul><li><a href="#t91extend (View)">extend (View)</a></li><li><a href="#t92constructor / initialize(View)">constructor / initialize(View)</a></li><li><a href="#t93el(View)">el(View)</a></li><li><a href="#t94$el">$el</a></li><li><a href="#t95setElement">setElement</a></li><li><a href="#t96attributes(View)">attributes(View)</a></li><li><a href="#t97$(jQuery)">$(jQuery)</a></li><li><a href="#t98template">template</a></li><li><a href="#t99render">render</a></li><li><a href="#t100remove(View)">remove(View)</a></li><li><a href="#t101delegateEvents">delegateEvents</a></li><li><a href="#t102undelegateEvents">undelegateEvents</a></li></ul></li><li><a href="#t103Utility（实用功能）">Utility（实用功能）</a><ul><li><a href="#t104Backbone.noConflict">Backbone.noConflict</a></li><li><a href="#t105Backbone.$">Backbone.$</a></li></ul></li></ul>
    </div>
    
    <div class="content markdown-body">
        <h2 id="t0Backbone.js(1.1.2) ">Backbone.js(1.1.2)  <a href="#t0Backbone.js(1.1.2) "> # </a></h2>
<p>&#x8F6C;&#x8F7D;&#xFF1A; <a href="http://www.css88.com/doc/backbone/#Utility">http://www.css88.com/doc/backbone/#Utility</a></p>
<h1 id="t1&#x6587;&#x6863;&#x58F0;&#x660E;&#xFF1A;">&#x6587;&#x6863;&#x58F0;&#x660E;&#xFF1A; <a href="#t1&#x6587;&#x6863;&#x58F0;&#x660E;&#xFF1A;"> # </a></h1>
<ul>
<li>&#x6839;&#x636E;&#x5B98;&#x65B9;&#x6700;&#x65B0;&#x7684;1.1.2&#x7248;&#x672C;&#x505A;&#x4E86;&#x7FFB;&#x8BD1;</li>
<li>Backbone.js (0.5.3) &#x6587;&#x6863;&#x8BF7;&#x79FB;&#x6B65;<a href="http://www.css88.com/doc/backbone-0.5.3/&#xFF1B;">http://www.css88.com/doc/backbone-0.5.3/&#xFF1B;</a>
&#x7FFB;&#x8BD1;&#x6C34;&#x5E73;&#x6709;&#x9650;&#xFF0C;&#x5982;&#x679C;&#x60A8;&#x6709;&#x4EFB;&#x4F55;&#x5EFA;&#x8BAE;&#xFF0C;&#x6216;&#x8005;&#x62CD;&#x7816;&#xFF0C;&#x6B22;&#x8FCE;&#x5728;&#x5FAE;&#x535A;&#x4E0A;@&#x611A;&#x4EBA;&#x7801;&#x5934; &#x8054;&#x7CFB;&#x6211;&#x3002;</li>
<li>Backbone.js&#x4E3A;&#x590D;&#x6742;WEB&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x63D0;&#x4F9B;&#x6A21;&#x578B;(models)&#x3001;&#x96C6;&#x5408;(collections)&#x3001;&#x89C6;&#x56FE;(views)&#x7684;&#x7ED3;&#x6784;&#x3002;&#x5176;&#x4E2D;&#x6A21;&#x578B;&#x7528;&#x4E8E;&#x7ED1;&#x5B9A;&#x952E;&#x503C;&#x6570;&#x636E;&#x548C;&#x81EA;&#x5B9A;&#x4E49;&#x4E8B;&#x4EF6;&#xFF1B;&#x96C6;&#x5408;&#x9644;&#x6709;&#x53EF;&#x679A;&#x4E3E;&#x51FD;&#x6570;&#x7684;&#x4E30;&#x5BCC;API&#xFF1B; &#x89C6;&#x56FE;&#x53EF;&#x4EE5;&#x58F0;&#x660E;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;RESRful JSON&#x63A5;&#x53E3;&#x8FDE;&#x63A5;&#x5230;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;</li>
</ul>
<p>&#x6B64;&#x9879;&#x76EE;&#x6258;&#x7BA1;&#x5728; GitHub &#x4E0A;, &#x5E76;&#x4E14;&#x63D0;&#x4F9B; &#x5E26;&#x6CE8;&#x91CA;&#x7684;&#x6E90;&#x7801;, &#x5728;&#x7EBF;&#x7684; &#x6D4B;&#x8BD5;&#x5957;&#x4EF6;, &#x5E94;&#x7528;&#x793A;&#x4F8B;, &#x6559;&#x7A0B;&#x5217;&#x8868; &#x8FD8;&#x6709;&#x4E00;&#x4E2A; &#x5B9E;&#x9645;&#x5E94;&#x7528;&#x9879;&#x76EE;&#x7684;&#x8D85;&#x957F;&#x5217;&#x8868;, &#x8FD9;&#x4E9B;&#x9879;&#x76EE;&#x90FD;&#x4F7F;&#x7528;&#x4E86; Backbone. Backbone &#x5141;&#x8BB8;&#x5728; MIT &#x8F6F;&#x4EF6;&#x534F;&#x8BAE; &#x4E0B;&#x4F7F;&#x7528;.</p>
<p>&#x4F60;&#x53EF;&#x4EE5;&#x5728;GitHub issues &#x9875;&#x9762;&#x53CA;#documentcloud&#x9891;&#x9053;&#x4E0B;&#x7684;Freenode IRC&#x4E2D; &#x62A5;&#x544A; bug &#x548C; &#x8BA8;&#x8BBA;&#x529F;&#x80FD;, &#x5728;Google Group&#x5408;wiki&#x9875;&#x9762;&#x4E2D;&#x63D0;&#x51FA;&#x95EE;&#x9898;&#xFF0C;&#x6216;&#x5728;twitter&#x4E0A; @documentcloud&#x3002;</p>
<p>Backbone&#x662F; DocumentCloud &#x7684;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x7EC4;&#x4EF6;.</p>
<p>Backbone&#x552F;&#x4E00;&#x91CD;&#x5EA6;&#x4F9D;&#x8D56;&#x7684;&#x662F;Underscore.js( &gt;= 1.5.0)&#x3002;&#x57FA;&#x4E8E;RESTful&#xFF08;&#x4E00;&#x4E2A;&#x67B6;&#x6784;&#x6837;&#x5F0F;&#x7684;&#x7F51;&#x7EDC;&#x7CFB;&#x7EDF;&#xFF09;&#x7684;&#x7EA6;&#x675F;&#xFF0C;histroy&#x7684;&#x652F;&#x6301;&#x4F9D;&#x8D56;&#x4E8E;Backbone.Router &#xFF0C;DOM&#x5904;&#x7406;&#x4F9D;&#x8D56;&#x4E8E; Backbone.View&#xFF0C;&#x5305;&#x62EC;jQuery ( &gt;= 1.11.0), &#x548C; json2.js&#x5BF9;&#x65E7;&#x7684;IE&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x652F;&#x6301;&#x3002;&#xFF08;&#x6A21;&#x4EFF;Underscore &#x548C; jQuery &#x7684;APIs&#xFF0C;&#x4F8B;&#x5982; Lo-Dash &#x548C; Zepto&#xFF0C;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x517C;&#x5BB9;&#x6027;&#x4E0B;&#x4E5F;&#x4E00;&#x6837;&#x80FD;&#x8FD0;&#x884C;&#xFF09;</p>
<h1 id="t2&#x4ECB;&#x7ECD;&#xFF08;Introduction&#xFF09;">&#x4ECB;&#x7ECD;&#xFF08;Introduction&#xFF09; <a href="#t2&#x4ECB;&#x7ECD;&#xFF08;Introduction&#xFF09;"> # </a></h1>
<p>&#x5F53;&#x6211;&#x4EEC;&#x5F00;&#x53D1;&#x542B;&#x6709;&#x5927;&#x91CF;Javascript&#x7684;web&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x9996;&#x5148;&#x4F60;&#x9700;&#x8981;&#x505A;&#x7684;&#x4E8B;&#x60C5;&#x4E4B;&#x4E00;&#x4FBF;&#x662F;&#x505C;&#x6B62;&#x5411;DOM&#x5BF9;&#x8C61;&#x9644;&#x52A0;&#x6570;&#x636E;&#x3002; &#x901A;&#x8FC7;&#x590D;&#x6742;&#x591A;&#x53D8;&#x7684;jQuery&#x9009;&#x62E9;&#x7B26;&#x548C;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x5F88;&#x5BB9;&#x6613;&#x521B;&#x5EFA;Javascript&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x5305;&#x62EC;&#x5728;HTML UI&#xFF0C;Javascript&#x903B;&#x8F91;&#x548C;&#x6570;&#x636E;&#x4E4B;&#x95F4;&#x4FDD;&#x6301;&#x540C;&#x6B65;&#xFF0C;&#x90FD;&#x4E0D;&#x590D;&#x6742;&#x3002; &#x4F46;&#x5BF9;&#x5BCC;&#x5BA2;&#x6237;&#x7AEF;&#x5E94;&#x7528;&#x6765;&#x8BF4;&#xFF0C;&#x826F;&#x597D;&#x7684;&#x67B6;&#x6784;&#x901A;&#x5E38;&#x662F;&#x6709;&#x5F88;&#x591A;&#x76CA;&#x5904;&#x7684;&#x3002;</p>
<p>&#x901A;&#x8FC7;Backbone&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5C06;&#x6570;&#x636E;&#x5448;&#x73B0;&#x4E3A; Models, &#x4F60;&#x53EF;&#x4EE5;&#x5BF9;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x521B;&#x5EFA;&#xFF0C;&#x9A8C;&#x8BC1;&#x548C;&#x9500;&#x6BC1;&#xFF0C;&#x4EE5;&#x53CA;&#x5C06;&#x5B83;&#x4FDD;&#x5B58;&#x5230;&#x670D;&#x52A1;&#x5668;&#x3002; &#x4EFB;&#x4F55;&#x65F6;&#x5019;&#x53EA;&#x8981;UI&#x4E8B;&#x4EF6;&#x5F15;&#x8D77;&#x6A21;&#x578B;&#x5185;&#x7684;&#x5C5E;&#x6027;&#x53D8;&#x5316;&#xFF0C;&#x6A21;&#x578B;&#x4F1A;&#x89E6;&#x53D1;&quot;change&quot;&#x4E8B;&#x4EF6;&#xFF1B; &#x6240;&#x6709;&#x663E;&#x793A;&#x6A21;&#x578B;&#x6570;&#x636E;&#x7684; Views &#x4F1A;&#x63A5;&#x6536;&#x5230;&#x8BE5;&#x4E8B;&#x4EF6;&#x7684;&#x901A;&#x77E5;&#xFF0C;&#x7EE7;&#x800C;&#x89C6;&#x56FE;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x3002; &#x4F60;&#x65E0;&#x9700;&#x67E5;&#x627E;DOM&#x6765;&#x641C;&#x7D22;&#x6307;&#x5B9A;id&#x7684;&#x5143;&#x7D20;&#x53BB;&#x624B;&#x52A8;&#x66F4;&#x65B0;HTML&#x3002; &#x2014; &#x5F53;&#x6A21;&#x578B;&#x6539;&#x53D8;&#x4E86;&#xFF0C;&#x89C6;&#x56FE;&#x4FBF;&#x4F1A;&#x81EA;&#x52A8;&#x53D8;&#x5316;&#x3002;</p>
<p>&#x67D0;&#x79CD;&#x610F;&#x4E49;&#x4E0A;&#x8BF4;&#xFF0C;&#x5728;&#x7528;javaScript&#x6765;&#x521B;&#x5EFA;web&#x9879;&#x76EE;&#x65F6;&#xFF0C;Backbone&#x8BD5;&#x56FE;&#x5B9A;&#x4E49;&#x4E00;&#x7EC4;&#x6700;&#x5C0F;&#x800C;&#x9AD8;&#x6548;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x5305;&#x62EC;&#x4E86;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF08;models&#xFF08;&#x6A21;&#x578B;&#xFF09; &#x548C; collections&#xFF08;&#x96C6;&#x5408;&#xFF09;&#xFF09;&#x548C;&#x7528;&#x6237;&#x63A5;&#x53E3;&#xFF08;views&#xFF08;&#x89C6;&#x56FE;&#xFF09; &#x548C; URLS&#xFF09;&#x3002;&#x5728;web&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x91CC;&#xFF0C;&#x5230;&#x5904;&#x90FD;&#x662F;&#x6846;&#x67B6;&#xFF08;&#x5E2E;&#x4F60;&#x5199;&#x597D;&#x4E86;&#x4E00;&#x5207;&#xFF09;&#xFF0C;&#x4E0D;&#x8FC7;&#x8FD9;&#x4E9B;&#x5E93;&#x9700;&#x8981;&#x4F60;&#x7684;&#x7F51;&#x7AD9;&#x5728;&#x6784;&#x5EFA;&#x7684;&#x65F6;&#x5019;&#x7B26;&#x5408;&#x8BE5;&#x6846;&#x67B6;&#x7684;&#x6837;&#x5B50;&#xFF0C;&#x98CE;&#x683C;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;&#x884C;&#x4E3A;&#x3002;&#x4F46;&#x662F;&#xFF0C;Backbone&#x8FD8;&#x662F;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x5DE5;&#x5177;&#xFF0C;&#x8BA9;&#x4F60;&#x53EF;&#x4EE5;&#x968F;&#x5FC3;&#x6240;&#x6B32;&#x7684;&#x8BBE;&#x8BA1;&#x4F60;&#x7684;&#x7F51;&#x7AD9;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x61C2;Backbone&#x6216;&#x8005;&#x4E0D;&#x786E;&#x5B9A;Backbone&#x80FD;&#x5426;&#x5E2E;&#x52A9;&#x5230;&#x4F60;&#xFF0C;&#x5148;&#x8FD0;&#x884C;&#x4E00;&#x4E0B; &#x5217;&#x8868;&#x4E2D;&#x57FA;&#x4E8E;Backbone&#x7684;&#x9879;&#x76EE;&#x3002;</p>
<h1 id="t3&#x5347;&#x7EA7;&#x5230; 1.1">&#x5347;&#x7EA7;&#x5230; 1.1 <a href="#t3&#x5347;&#x7EA7;&#x5230; 1.1"> # </a></h1>
<p>&#x4ECE;Backbone 0.9.X&#x7CFB;&#x5217;&#x7248;&#x672C;&#x5347;&#x7EA7;&#x5230; 1.1 &#x5E94;&#x8BE5;&#x662F;&#x76F8;&#x5F53;&#x5BB9;&#x6613;&#x7684;&#x3002;&#x5982;&#x679C;&#x4F60;&#x4ECE;&#x65E7;&#x7248;&#x672C;&#x5347;&#x7EA7;&#xFF0C; &#x4E00;&#x5B9A;&#x8981;&#x68C0;&#x67E5;&#x66F4;&#x65B0;&#x65E5;&#x5FD7;&#x3002;&#x7B80;&#x5355;&#x5730;&#x8BF4;&#xFF0C;&#x4E00;&#x4E9B;&#x5927;&#x89C4;&#x6A21;&#x7684;&#x91CD;&#x5927;&#x66F4;&#x6539;&#x662F;&#xFF1A;</p>
<ul>
<li><p>&#x5982;&#x679C;&#x4F60;&#x60F3;&#x6F02;&#x4EAE;&#x7684;&#x66F4;&#x65B0;&#x4E00;&#x4E2A;Collection(&#x96C6;&#x5408;)&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x589E;&#x52A0;&#x65B0;&#x7684;models&#xFF08;&#x6A21;&#x578B;&#xFF09;&#xFF0C;&#x5220;&#x9664;&#x4E22;&#x5931;&#xFF0C;&#x548C;&#x5408;&#x5E76;&#x90A3;&#x4E9B;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#xFF0C;&#x4F60;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x8C03;&#x7528;set(&#x4EE5;&#x524D;&#x53EB;&#x505A;&quot;update&quot;) &#xFF0C;Model&#xFF08;&#x6A21;&#x578B;&#xFF09;&#x7C7B;&#x4F3C;&#x7684;&#x64CD;&#x4F5C;&#x4E5F;&#x8C03;&#x7528;set&#x3002;&#x8FD9;&#x662F;&#x76EE;&#x524D;&#x9ED8;&#x8BA4;&#x7684;&#xFF0C;&#x5F53;&#x4F60;&#x5728;collection&#xFF08;&#x96C6;&#x5408;&#xFF09;&#x4E0A;&#x8C03;&#x7528;fetch&#x65F6;&#x3002;&#x4E3A;&#x4E86;&#x5F97;&#x5230;&#x65E7;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x4F20;&#x9012;{reset: true}&#x3002;</p>
</li>
<li><p>&#x5982;&#x679C;&#x4F60;&#x7684;URL&#x7247;&#x6BB5;&#x4E2D;&#x6709;&#x5B57;&#x7B26;&#xFF0C;&#x9700;&#x8981;URL&#x7F16;&#x7801;&#xFF0C;Backbone&#x73B0;&#x5728;&#x4F1A;&#x5728;&#x4F60;&#x8DEF;&#x7531;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x63A5;&#x6536;&#x5B83;&#x4EEC;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x524D;&#x4E3A;&#x4F60;&#x89E3;&#x7801;&#xFF08;&#x8DE8;&#x6D4F;&#x89C8;&#x5668;&#x89C4;&#x8303;&#x7684;&#x884C;&#x4E3A;&#xFF09;&#x3002;</p>
</li>
<li><p>&#x5728;0.9.x&#x4E2D;&#xFF0C;Backbone &#x4E8B;&#x4EF6;&#x6709;&#x4E86;&#x4E24;&#x4E2A;&#x65B0;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;listenTo &#x548C; stopListening&#xFF0C; &#x8FD9;&#x4F7F;&#x5F97;&#x5B83;&#x80FD;&#x66F4;&#x5BB9;&#x6613;&#x5730;&#x521B;&#x5EFA;Views&#xFF08;&#x89C6;&#x56FE;&#xFF09;&#x76D1;&#x542C;&#xFF0C;&#x5F53;&#x4F60;&#x60F3; remove view&#xFF08;&#x89C6;&#x56FE;&#xFF09;&#x65F6;&#xFF0C;&#x89E3;&#x9664;&#x4ED6;&#x4EEC;&#x6240;&#x6709;&#x7ED1;&#x5B9A;&#x7684;&#x76D1;&#x542C;&#x3002;</p>
</li>
<li><p>model&#xFF08;&#x6A21;&#x578B;&#xFF09;&#x9A8C;&#x8BC1;&#x73B0;&#x5728;&#x53EA;&#x9ED8;&#x8BA4;&#x6267;&#x884C;&#x5728;save&#x4E2D; &#x2014;&#x4E0D;&#x518D;&#x6267;&#x884C;&#x5728;set&#x4E2D;&#xFF0C;&#x9664;&#x975E;&#x4F20;&#x9012;&#x4E86;{validate:true}&#x9009;&#x9879;&#x3002;model&#xFF08;&#x6A21;&#x578B;&#xFF09;&#x9A8C;&#x8BC1;&#x73B0;&#x5728;&#x4F1A;&#x89E6;&#x53D1;&#x4E00;&#x4E2A; &quot;invalid&quot;&#x4E8B;&#x4EF6;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&quot;error&quot;&#x4E8B;&#x4EF6;&#x3002;</p>
</li>
<li><p>&#x5728;1.1&#x4E2D; &#xFF0C;Backbone Views&#xFF08;&#x89C6;&#x56FE;&#xFF09;&#x4E0D;&#x518D;&#x6709; options &#x53C2;&#x6570;&#x81EA;&#x52A8;&#x9644;&#x52A0;&#x5728;this.options&#x4E0A;&#x3002;&#x5982;&#x679C;&#x4F60;&#x559C;&#x6B22;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x9644;&#x52A0;&#x3002;</p>
</li>
<li><p>&#x5728;1.1&#x4E2D; &#xFF0C;Collection&#x7684; add, remove, set, push, &#x548C; shift &#x65B9;&#x6CD5;&#x73B0;&#x5728;&#x8FD4;&#x56DE;&#x6765;&#x81EA;collection&#xFF08;&#x96C6;&#x5408;&#xFF09;&#x7684; models&#xFF08;&#x6A21;&#x578B;&#xFF09;(&#x6216; models)&#x3002;</p>
</li>
</ul>
<h1 id="t4Backbone.Events&#xFF08;&#x4E8B;&#x4EF6;&#xFF09;">Backbone.Events&#xFF08;&#x4E8B;&#x4EF6;&#xFF09; <a href="#t4Backbone.Events&#xFF08;&#x4E8B;&#x4EF6;&#xFF09;"> # </a></h1>
<p>Events &#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x878D;&#x5408;&#x5230;&#x4EFB;&#x4F55;&#x5BF9;&#x8C61;&#x7684;&#x6A21;&#x5757;, &#x7ED9;&#x4E88; &#x5BF9;&#x8C61;&#x7ED1;&#x5B9A;&#x548C;&#x89E6;&#x53D1;&#x81EA;&#x5B9A;&#x4E49;&#x4E8B;&#x4EF6;&#x7684;&#x80FD;&#x529B;. Events &#x5728;&#x7ED1;&#x5B9A;&#x4E4B;&#x524D; &#x4E0D;&#x9700;&#x8981;&#x58F0;&#x660E;, &#x5E76;&#x4E14;&#x8FD8;&#x53EF;&#x4EE5;&#x4F20;&#x9012;&#x53C2;&#x6570;. &#x6BD4;&#x5982;:</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> object = {};

_.extend(object, Backbone.Events);

object.on(<span class="hljs-string">&quot;alert&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
  alert(<span class="hljs-string">&quot;Triggered &quot;</span> + msg);
});

object.trigger(<span class="hljs-string">&quot;alert&quot;</span>, <span class="hljs-string">&quot;an event&quot;</span>);
</code></pre>
<p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;, &#x4F60;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x8C03;&#x5EA6;&#x7A0B;&#x5E8F;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x4F60;&#x5E94;&#x7528;&#x7684;&#x4E0D;&#x540C;&#x5730;&#x65B9;&#x8C03;&#x7528;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A; <code>var dispatcher = _.clone(Backbone.Events)</code></p>
<h2 id="t5on">on <a href="#t5on"> # </a></h2>
<blockquote>
<p>object.on(event, callback, [context])&#x522B;&#x540D;: bind </p>
</blockquote>
<p>&#x5728; object &#x4E0A;&#x7ED1;&#x5B9A;&#x4E00;&#x4E2A;callback&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002; &#x53EA;&#x8981;event&#x89E6;&#x53D1;&#xFF0C;&#x8BE5;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x5C31;&#x4F1A;&#x8C03;&#x7528;&#x3002;&#x5982;&#x679C;&#x4F60;&#x7684;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x542B;&#x6709;&#x5927;&#x91CF;&#x7684;&#x4E0D;&#x540C;&#x65F6;&#x95F4;&#xFF0C;&#x6211;&#x4EEC;&#x7EA6;&#x5B9A;&#x4F7F;&#x7528;&#x5192;&#x53F7;&#x6765;&#x4E3A;&#x4E8B;&#x4EF6;&#x6DFB;&#x52A0; &#x547D;&#x540D;&#x7A7A;&#x95F4; &#x4FD7;&#x6210;&#x5730;&#x4F7F;&#x7528;&#x5192;&#x53F7;&#x6765;&#x547D;&#x540D;&#xFF1A;&quot;poll:start&quot;, &#x6216; &quot;change:selection&quot;&#x3002; &#x4E8B;&#x4EF6;&#x5B57;&#x7B26;&#x4E32;&#x4E5F;&#x53EF;&#x80FD;&#x662F;&#x7528;&#x7A7A;&#x683C;&#x5206;&#x9694;&#x7684;&#x591A;&#x4E2A;&#x4E8B;&#x4EF6;&#x5217;&#x8868;&#xFF08;&#x611A;&#x4EBA;&#x7801;&#x5934;&#x6CE8;&#xFF1A;&#x5373;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x7ED1;&#x5B9A;&#x591A;&#x4E2A;&#x4E8B;&#x4EF6;&#xFF0C;&#x4E8B;&#x4EF6;&#x7528;&#x7A7A;&#x683C;&#x5206;&#x9694;&#xFF09;...</p>
<blockquote>
<p>book.on(&quot;change:title change:author&quot;, ...);</p>
</blockquote>
<p>&#x5F53;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x88AB;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x901A;&#x8FC7;&#x53EF;&#x9009;&#x7684;&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x4E3A;this&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;context&#xFF08;&#x4E0A;&#x4E0B;&#x6587;&#xFF09;&#x503C;&#xFF1A;<code>model.on(&apos;change&apos;, this.render, this)</code>&#xFF08;&#x611A;&#x4EBA;&#x7801;&#x5934;&#x6CE8;&#xFF1A;&#x5373;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4E2D;&#x7684;This&#xFF0C;&#x6307;&#x5411;&#x4F20;&#x9012;&#x7684;&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#xFF09;&#x3002;</p>
<p>&#x5F53;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x88AB;&#x7ED1;&#x5B9A;&#x5230;&#x7279;&#x6B8A;&quot;all&quot;&#x4E8B;&#x4EF6;&#x65F6;&#xFF0C;&#x4EFB;&#x4F55;&#x4E8B;&#x4EF6;&#x7684;&#x53D1;&#x751F;&#x90FD;&#x4F1A;&#x89E6;&#x53D1;&#x8BE5;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x4F1A;&#x4F20;&#x9012;&#x8BE5;&#x4E8B;&#x4EF6;&#x7684;&#x540D;&#x79F0;&#x3002;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5C06;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x6240;&#x6709;&#x4E8B;&#x4EF6;&#x4EE3;&#x7406;&#x5230;&#x53E6;&#x4E00;&#x5BF9;&#x8C61;&#xFF1A;</p>
<pre><code class="lang-js">proxy.on(<span class="hljs-string">&quot;all&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">eventName</span>) </span>{
  object.trigger(eventName);
});
</code></pre>
<p>&#x6240;&#x6709;Backbone&#x4E8B;&#x4EF6;&#x65B9;&#x6CD5;&#x8FD8;&#x652F;&#x6301;&#x4E8B;&#x4EF6;&#x6620;&#x5C04;&#x7684;&#x8BED;&#x6CD5;&#xFF0C; &#x4F5C;&#x4E3A;&#x53EF;&#x60DC;&#x7684;&#x4F4D;&#x7F6E;&#x53C2;&#x6570;&#xFF1A;</p>
<pre><code class="lang-js">book.on({
  <span class="hljs-string">&quot;change:title&quot;</span>: titleView.update,
  <span class="hljs-string">&quot;change:author&quot;</span>: authorPane.update,
  <span class="hljs-string">&quot;destroy&quot;</span>: bookView.remove
});
</code></pre>
<h2 id="t6off">off <a href="#t6off"> # </a></h2>
<blockquote>
<p>object.off([event], [callback], [context])&#x522B;&#x540D;: unbi nd </p>
</blockquote>
<p>&#x4ECE; object &#x5BF9;&#x8C61;&#x79FB;&#x9664;&#x5148;&#x524D;&#x7ED1;&#x5B9A;&#x7684; callback &#x51FD;&#x6570;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;context&#xFF08;&#x4E0A;&#x4E0B;&#x6587;&#xFF09;&#xFF0C;&#x6240;&#x6709;&#x4E0A;&#x4E0B;&#x6587;&#x4E0B;&#x7684;&#x8FD9;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x5C06;&#x88AB;&#x79FB;&#x9664;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;callback&#xFF0C;&#x6240;&#x6709;&#x7ED1;&#x5B9A;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x5C06;&#x88AB;&#x79FB;&#x9664;&#xFF1B;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;event&#xFF0C;&#x6240;&#x6709;&#x4E8B;&#x4EF6;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4F1A;&#x88AB;&#x79FB;&#x9664;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-comment">// Removes just the `onChange` callback.</span>
object.off(<span class="hljs-string">&quot;change&quot;</span>, onChange);

<span class="hljs-comment">// Removes all &quot;change&quot; callbacks.</span>
object.off(<span class="hljs-string">&quot;change&quot;</span>);

<span class="hljs-comment">// Removes the `onChange` callback for all events.</span>
object.off(<span class="hljs-literal">null</span>, onChange);

<span class="hljs-comment">// Removes all callbacks for `context` for all events.</span>
object.off(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, context);

<span class="hljs-comment">// Removes all callbacks on `object`.</span>
object.off();
</code></pre>
<p>&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x8C03;&#x7528; <code>model.off()</code>&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x8FD9;&#x786E;&#x5B9E;&#x4F1A;&#x5220;&#x9664;model&#xFF08;&#x6A21;&#x578B;&#xFF09;&#x4E0A;&#x6240;&#x6709;&#x7684;&#x4E8B;&#x4EF6;&#x2014;&#x5305;&#x62EC;Backbone&#x5185;&#x90E8;&#x7528;&#x6765;&#x7EDF;&#x8BA1;&#x7684;&#x4E8B;&#x4EF6;&#x3002;</p>
<h2 id="t7trigger">trigger <a href="#t7trigger"> # </a></h2>
<blockquote>
<p>object.trigger(event, [*args]) </p>
</blockquote>
<p>&#x89E6;&#x53D1;&#x7ED9;&#x5B9A; event&#x6216;&#x7528;&#x7A7A;&#x683C;&#x9694;&#x5F00;&#x7684;&#x4E8B;&#x4EF6;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;&#x540E;&#x7EED;&#x4F20;&#x5165; <code>trigger</code> &#x7684;&#x53C2;&#x6570;&#x4F1A;&#x4F20;&#x9012;&#x5230;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x91CC;&#x3002;</p>
<h2 id="t8once">once <a href="#t8once"> # </a></h2>
<blockquote>
<p>object.once(event, callback, [context]) </p>
</blockquote>
<p>&#x7528;&#x6CD5;&#x8DDF;on&#x5F88;&#x50CF;&#xFF0C;&#x533A;&#x522B;&#x5728;&#x4E8E;&#x7ED1;&#x5B9A;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x89E6;&#x53D1;&#x4E00;&#x6B21;&#x540E;&#x5C31;&#x4F1A;&#x88AB;&#x79FB;&#x9664;&#xFF08;&#x611A;&#x4EBA;&#x7801;&#x5934;&#x6CE8;&#xFF1A;&#x53EA;&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF09;&#x3002;&#x7B80;&#x5355;&#x7684;&#x8BF4;&#x5C31;&#x662F;&#x201C;&#x4E0B;&#x6B21;&#x4E0D;&#x5728;&#x89E6;&#x53D1;&#x4E86;&#xFF0C;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x201D;&#x3002;</p>
<h2 id="t9listenTo">listenTo <a href="#t9listenTo"> # </a></h2>
<blockquote>
<p>object.listenTo(other, event, callback) </p>
</blockquote>
<p>&#x8BA9; object &#x76D1;&#x542C; &#x53E6;&#x4E00;&#x4E2A;&#xFF08;other&#xFF09;&#x5BF9;&#x8C61;&#x4E0A;&#x7684;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x4E8B;&#x4EF6;&#x3002;&#x4E0D;&#x4F7F;&#x7528;other.on(event, callback, object)&#xFF0C;&#x800C;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x7684;&#x4F18;&#x70B9;&#x662F;&#xFF1A;listenTo&#x5141;&#x8BB8; object&#x6765;&#x8DDF;&#x8E2A;&#x8FD9;&#x4E2A;&#x7279;&#x5B9A;&#x4E8B;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x4EE5;&#x540E;&#x53EF;&#x4EE5;&#x4E00;&#x6B21;&#x6027;&#x5168;&#x90E8;&#x79FB;&#x9664;&#x5B83;&#x4EEC;&#x3002;callback&#x603B;&#x662F;&#x5728;object&#x4E0A;&#x4E0B;&#x6587;&#x73AF;&#x5883;&#x4E2D;&#x88AB;&#x8C03;&#x7528;&#x3002;</p>
<blockquote>
<p>view.listenTo(model, &apos;change&apos;, view.render);</p>
</blockquote>
<h2 id="t10stopListening">stopListening <a href="#t10stopListening"> # </a></h2>
<blockquote>
<p>object.stopListening([other], [event], [callback]) </p>
</blockquote>
<p>&#x8BA9; object &#x505C;&#x6B62;&#x76D1;&#x542C;&#x4E8B;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x8C03;&#x7528;&#x4E0D;&#x5E26;&#x53C2;&#x6570;&#x7684;stopListening&#xFF0C;&#x53EF;&#x4EE5;&#x79FB;&#x9664; object &#x4E0B;&#x6240;&#x6709;&#x5DF2;&#x7ECF;registered(&#x6CE8;&#x518C;)&#x7684;callback&#x51FD;&#x6570;...&#xFF0C;&#x6216;&#x8005;&#x53EA;&#x5220;&#x9664;&#x6307;&#x5B9A;&#x5BF9;&#x8C61;&#x4E0A;&#x660E;&#x786E;&#x544A;&#x77E5;&#x7684;&#x76D1;&#x542C;&#x4E8B;&#x4EF6;&#xFF0C;&#x6216;&#x8005;&#x4E00;&#x4E2A;&#x5220;&#x9664;&#x6307;&#x5B9A;&#x4E8B;&#x4EF6;&#xFF0C;&#x6216;&#x8005;&#x53EA;&#x5220;&#x9664;&#x6307;&#x5B9A;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</p>
<pre><code class="lang-js">view.stopListening();
view.stopListening(model);
</code></pre>
<h2 id="t11listenToOnce">listenToOnce <a href="#t11listenToOnce"> # </a></h2>
<blockquote>
<p>object.listenToOnce(other, event, callback) 
&#x7528;&#x6CD5;&#x8DDF; listenTo &#x5F88;&#x50CF;&#xFF0C;&#x4F46;&#x662F;&#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#x4E00;&#x6B21;&#x540E;callback&#x5C06;&#x88AB;&#x79FB;&#x9664;&#x3002;</p>
</blockquote>
<h2 id="t12Catalog of Events&#xFF08;&#x4E8B;&#x4EF6;&#x76EE;&#x5F55;&#xFF09;">Catalog of Events&#xFF08;&#x4E8B;&#x4EF6;&#x76EE;&#x5F55;&#xFF09; <a href="#t12Catalog of Events&#xFF08;&#x4E8B;&#x4EF6;&#x76EE;&#x5F55;&#xFF09;"> # </a></h2>
<p>&#x4E0B;&#x9762;&#x662F;Backbone &#x5185;&#x7F6E;&#x4E8B;&#x4EF6;&#x7684;&#x5B8C;&#x6574;&#x5217;&#x8868;&#xFF0C;&#x5E26;&#x6709;&#x53C2;&#x6570;&#x3002; &#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;Models&#xFF08;&#x6A21;&#x578B;&#xFF09;&#xFF0C;Collection&#xFF08;&#x96C6;&#x5408;&#xFF09;&#xFF0C;Views&#xFF08;&#x89C6;&#x56FE;&#xFF09;&#x4E0A;&#x81EA;&#x7531;&#x5730;&#x89E6;&#x53D1;&#x8FD9;&#x4E9B;&#x4E8B;&#x4EF6;&#xFF0C;&#x53EA;&#x8981;&#x4F60;&#x8BA4;&#x4E3A;&#x5408;&#x9002;&#x3002; &#x6536;&#x85CF;&#x548C;&#x610F;&#x89C1;&#xFF0C;&#x4F60;&#x8BA4;&#x4E3A;&#x5408;&#x9002;&#x3002; Backbone &#x5BF9;&#x8C61;&#x672C;&#x8EAB;&#x6DF7;&#x5165;&#x4E86;Events&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x7528;&#x4E8E;&#x89E6;&#x53D1;&#x4EFB;&#x4F55;&#x5168;&#x5C40;&#x4E8B;&#x4EF6;&#xFF0C;&#x53EA;&#x8981;&#x60A8;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x9700;&#x8981;&#x3002;</p>
<ul>
<li><code>add</code> (model, collection, options) &#x2014; &#x5F53;&#x4E00;&#x4E2A;model&#xFF08;&#x6A21;&#x578B;&#xFF09;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x4E00;&#x4E2A;collection&#xFF08;&#x96C6;&#x5408;&#xFF09;&#x65F6;&#x89E6;&#x53D1;&#x3002;</li>
<li><code>remove</code> (model, collection, options) &#x2014; &#x5F53;&#x4E00;&#x4E2A;model&#xFF08;&#x6A21;&#x578B;&#xFF09;&#x4ECE;&#x4E00;&#x4E2A;collection&#xFF08;&#x96C6;&#x5408;&#xFF09;&#x4E2D;&#x88AB;&#x5220;&#x9664;&#x65F6;&#x89E6;&#x53D1;&#x3002;</li>
<li><code>reset</code> (collection, options) &#x2014; &#x5F53;&#x8BE5;collection&#xFF08;&#x96C6;&#x5408;&#xFF09;&#x7684;&#x5168;&#x90E8;&#x5185;&#x5BB9;&#x5DF2;&#x88AB;&#x66FF;&#x6362;&#x65F6;&#x89E6;&#x53D1;&#x3002;</li>
<li><code>sort</code> (collection, options) &#x2014; &#x5F53;&#x8BE5;collection&#xFF08;&#x96C6;&#x5408;&#xFF09;&#x5DF2;&#x88AB;&#x91CD;&#x65B0;&#x6392;&#x5E8F;&#x65F6;&#x89E6;&#x53D1;&#x3002;</li>
<li><code>change</code> (model, options) &#x2014; &#x5F53;&#x4E00;&#x4E2A;model&#xFF08;&#x6A21;&#x578B;&#xFF09;&#x7684;&#x5C5E;&#x6027;&#x6539;&#x53D8;&#x65F6;&#x89E6;&#x53D1;&#x3002;</li>
<li><code>change:[attribute]</code> (model, value, options) &#x2014; &#x5F53;&#x4E00;&#x4E2A;model&#xFF08;&#x6A21;&#x578B;&#xFF09;&#x7684;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x5C5E;&#x6027;&#x88AB;&#x66F4;&#x65B0;&#x65F6;&#x89E6;&#x53D1;&#x3002;</li>
<li><code>destroy</code> (model, collection, options) &#x2014;&#x5F53;&#x4E00;&#x4E2A;model&#xFF08;&#x6A21;&#x578B;&#xFF09;&#x88AB;destroyed&#xFF08;&#x9500;&#x6BC1;&#xFF09;&#x65F6;&#x89E6;&#x53D1;&#x3002;</li>
<li><code>request</code> (model_or_collection, xhr, options) &#x2014; &#x5F53;&#x4E00;&#x4E2A;model&#xFF08;&#x6A21;&#x578B;&#xFF09;&#x6216;collection&#xFF08;&#x96C6;&#x5408;&#xFF09;&#x5F00;&#x59CB;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x5230;&#x670D;&#x52A1;&#x5668;&#x65F6;&#x89E6;&#x53D1;&#x3002;</li>
<li><code>sync</code> (model_or_collection, resp, options) &#x2014; &#x5F53;&#x4E00;&#x4E2A;model&#xFF08;&#x6A21;&#x578B;&#xFF09;&#x6216;collection&#xFF08;&#x96C6;&#x5408;&#xFF09;&#x6210;&#x529F;&#x540C;&#x6B65;&#x5230;&#x670D;&#x52A1;&#x5668;&#x65F6;&#x89E6;&#x53D1;&#x3002;</li>
<li><code>error</code> (model_or_collection, resp, options) &#x2014; &#x5F53;&#x4E00;&#x4E2A;model&#xFF08;&#x6A21;&#x578B;&#xFF09;&#x6216;collection&#xFF08;&#x96C6;&#x5408;&#xFF09;&#x7684;&#x8BF7;&#x6C42;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x5931;&#x8D25;&#x65F6;&#x89E6;&#x53D1;&#x3002;</li>
<li><code>invalid</code> (model, error, options) &#x2014; &#x5F53;model&#xFF08;&#x6A21;&#x578B;&#xFF09;&#x5728;&#x5BA2;&#x6237;&#x7AEF; validation&#xFF08;&#x9A8C;&#x8BC1;&#xFF09;&#x5931;&#x8D25;&#x65F6;&#x89E6;&#x53D1;&#x3002;</li>
<li><code>route:[name]</code> (params) &#x2014;  &#x5F53;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;route&#xFF08;&#x8DEF;&#x7531;&#xFF09;&#x76F8;&#x5339;&#x914D;&#x65F6;&#x901A;&#x8FC7;&#x8DEF;&#x7531;&#x5668;&#x89E6;&#x53D1;&#x3002;</li>
<li><code>route</code> (route, params) &#x2014; &#x5F53;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;route&#xFF08;&#x8DEF;&#x7531;&#xFF09;&#x76F8;&#x5339;&#x914D;&#x65F6;&#x901A;&#x8FC7;&#x8DEF;&#x7531;&#x5668;&#x89E6;&#x53D1;&#x3002;</li>
<li><code>route</code> (router, route, params) &#x2014; &#x5F53;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;route&#xFF08;&#x8DEF;&#x7531;&#xFF09;&#x76F8;&#x5339;&#x914D;&#x65F6;&#x901A;&#x8FC7;history&#xFF08;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#xFF09;&#x89E6;&#x53D1;&#x3002;</li>
<li><code>all</code> &#x2014; &#x6240;&#x6709;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x90FD;&#x80FD;&#x89E6;&#x53D1;&#x8FD9;&#x4E2A;&#x7279;&#x522B;&#x7684;&#x4E8B;&#x4EF6;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x7684;&#x540D;&#x79F0;&#x3002;</li>
</ul>
<p>&#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF0C;&#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#xFF08;&#x4F8B;&#x5982;<code>model.set</code>&#xFF0C;<code>collection.add</code>&#x6216;&#x8005;&#x5176;&#x4ED6;&#x4E8B;&#x4EF6;&#xFF09;&#x540E;&#x5C31;&#x4F1A;&#x6267;&#x884C;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x963B;&#x6B62;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x7684;&#x6267;&#x884C;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F20;&#x9012;{silent: true}&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x3002;&#x5F88;&#x591A;&#x65F6;&#x5019;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x597D;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x901A;&#x8FC7;&#x5728;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x91CC;&#x4F20;&#x8F93;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x5224;&#x65AD;&#x53C2;&#x6570;&#xFF0C;&#x4F1A;&#x8BA9;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x66F4;&#x52A0;&#x51FA;&#x8272;&#x3002; &#x4E00;&#x822C;&#x800C;&#x8A00;&#xFF0C;&#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#xFF08;<code>model.set</code>, <code>collection.add</code>,&#x7B49;&#x7B49;...&#xFF09;&#x540E;&#x5C31;&#x4F1A;&#x8C03;&#x7528;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x963B;&#x6B62;&#x4E8B;&#x4EF6;&#x88AB;&#x89E6;&#x53D1;&#xFF0C; &#x60A8;&#x53EF;&#x4EE5;&#x4F20;&#x9012;{silent: true}&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x9009;&#x9879;&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x8FD9;&#x4E2D;&#x60C5;&#x51B5;&#x5F88;&#x5C11;&#xFF0C; &#x751A;&#x81F3;&#x4ECE;&#x6765;&#x6CA1;&#x6709;&#xFF0C; &#x4E00;&#x4E2A;&#x597D;&#x4E3B;&#x610F;&#x3002; &#x901A;&#x8FC7;&#x5728;&#x9009;&#x9879;&#x4E2D;&#x4F20;&#x9012;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x6807;&#x8BB0;&#xFF0C;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x91CC;&#x4F20;&#x8F93;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x5224;&#x65AD;&#x53C2;&#x6570; &#x5E76;&#x4E14;&#x9009;&#x62E9;&#x5FFD;&#x7565;&#xFF0C;&#x4F1A;&#x8BA9;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x66F4;&#x52A0;&#x51FA;&#x8272;&#x3002;</p>
<h1 id="t13Backbone.Model&#xFF08;&#x6A21;&#x578B;&#xFF09;">Backbone.Model&#xFF08;&#x6A21;&#x578B;&#xFF09; <a href="#t13Backbone.Model&#xFF08;&#x6A21;&#x578B;&#xFF09;"> # </a></h1>
<p><strong>Models&#xFF08;&#x6A21;&#x578B;&#xFF09;</strong> &#x662F;&#x4EFB;&#x4F55;Javascript&#x5E94;&#x7528;&#x7684;&#x6838;&#x5FC3;&#xFF0C;&#x5305;&#x62EC;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#x53CA;&#x4E0E;&#x5176;&#x76F8;&#x5173;&#x7684;&#x5927;&#x91CF;&#x903B;&#x8F91;&#xFF1A; &#x8F6C;&#x6362;&#x3001;&#x9A8C;&#x8BC1;&#x3001;&#x8BA1;&#x7B97;&#x5C5E;&#x6027;&#x548C;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x7528;&#x7279;&#x5B9A;&#x7684;&#x65B9;&#x6CD5;&#x6269;&#x5C55;<br><strong>Backbone.Model&#xFF0C;Model</strong> &#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x7EC4;&#x57FA;&#x672C;&#x7684;&#x7BA1;&#x7406;&#x53D8;&#x5316;&#x7684;&#x529F;&#x80FD;&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x6F14;&#x793A;&#x4E86;&#x5982;&#x4F55;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#xFF0C;&#x5305;&#x62EC;&#x81EA;&#x5B9A;&#x4E49;&#x65B9;&#x6CD5;&#x3001;&#x8BBE;&#x7F6E;&#x5C5E;&#x6027;&#x3001;&#x4EE5;&#x53CA;&#x89E6;&#x53D1;&#x8BE5;&#x5C5E;&#x6027;&#x53D8;&#x5316;&#x7684;&#x4E8B;&#x4EF6;&#x3002;&#x4E00;&#x65E6;&#x8FD0;&#x884C;&#x6B64;&#x4EE3;&#x7801;&#x540E;&#xFF0C;sidebar&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x63A7;&#x5236;&#x53F0;&#x5C31;&#x53EF;&#x7528;&#xFF0C;&#x8FD9;&#x6837;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x5145;&#x5206;&#x53D1;&#x6325;&#x4E86;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Sidebar = Backbone.Model.extend({
  promptColor: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> cssColor = prompt(<span class="hljs-string">&quot;Please enter a CSS color:&quot;</span>);
    <span class="hljs-keyword">this</span>.set({color: cssColor});
  }
});

<span class="hljs-built_in">window</span>.sidebar = <span class="hljs-keyword">new</span> Sidebar;

sidebar.on(<span class="hljs-string">&apos;change:color&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">model, color</span>) </span>{
  $(<span class="hljs-string">&apos;#sidebar&apos;</span>).css({background: color});
});

sidebar.set({color: <span class="hljs-string">&apos;white&apos;</span>});

sidebar.promptColor();
</code></pre>
<h2 id="t14extend">extend <a href="#t14extend"> # </a></h2>
<blockquote>
<p>Backbone.Model.extend(properties, [classProperties]) 
&#x8981;&#x521B;&#x5EFA;&#x81EA;&#x5DF1;&#x7684; Model &#x7C7B;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x6269;&#x5C55; Backbone.Model &#x5E76;&#x63D0;&#x4F9B;&#x5B9E;&#x4F8B; properties(&#x5C5E;&#x6027;) &#xFF0C; &#x4EE5;&#x53CA;&#x53EF;&#x9009;&#x7684;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6CE8;&#x518C;&#x5230;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;classProperties(&#x7C7B;&#x5C5E;&#x6027;)&#x3002;</p>
</blockquote>
<p><strong>extend</strong> &#x53EF;&#x4EE5;&#x6B63;&#x786E;&#x7684;&#x8BBE;&#x7F6E;&#x539F;&#x578B;&#x94FE;&#xFF0C;&#x56E0;&#x6B64;&#x901A;&#x8FC7; extend &#x521B;&#x5EFA;&#x7684;&#x5B50;&#x7C7B; (subclasses) &#x4E5F;&#x53EF;&#x4EE5;&#x88AB;&#x6DF1;&#x5EA6;&#x6269;&#x5C55;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Note = Backbone.Model.extend({

  initialize: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ ... },

  author: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ ... },

  coordinates: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ ... },

  allowedToEdit: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">account</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }

});

<span class="hljs-keyword">var</span> PrivateNote = Note.extend({

  allowedToEdit: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">account</span>) </span>{
    <span class="hljs-keyword">return</span> account.owns(<span class="hljs-keyword">this</span>);
  }

});
</code></pre>
<p>&#x7236;&#x7C7B;&#xFF08;super&#xFF09; &#x7684;&#x7B80;&#x8FF0;&#xFF1A;Javascript&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x7236;&#x7C7B;&#x7684;&#x65B9;&#x5F0F; &#x2014; &#x5982;&#x679C;&#x4F60;&#x8981;&#x91CD;&#x8F7D;&#x539F;&#x578B;&#x94FE;&#x4E2D;&#x4E0A;&#x5C42;&#x5B9A;&#x4E49;&#x7684;&#x540C;&#x540D;&#x51FD;&#x6570;&#xFF0C;&#x5982; set, &#x6216; save &#xFF0C; &#x5E76;&#x4E14;&#x4F60;&#x60F3;&#x8C03;&#x7528;&#x7236;&#x5BF9;&#x8C61;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x8FD9;&#x65F6;&#x9700;&#x8981;&#x660E;&#x786E;&#x7684;&#x8C03;&#x7528;&#x5B83;&#xFF0C;&#x7C7B;&#x4F3C;&#x8FD9;&#x6837;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Note = Backbone.Model.extend({
  set: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">attributes, options</span>) </span>{
    Backbone.Model.prototype.set.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
    ...
  }
});
</code></pre>
<h2 id="t15constructor / initializenew">constructor / initializenew <a href="#t15constructor / initializenew"> # </a></h2>
<blockquote>
<p>Model([attributes], [options]) </p>
</blockquote>
<p>&#x5F53;&#x521B;&#x5EFA;model&#x5B9E;&#x4F8B;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F20;&#x5165; &#x5C5E;&#x6027; (attributes)&#x521D;&#x59CB;&#x503C;&#xFF0C;&#x8FD9;&#x4E9B;&#x503C;&#x4F1A;&#x88AB; set &#xFF08;&#x8BBE;&#x7F6E;&#xFF09;&#x5230; model&#x3002; &#x5982;&#x679C;&#x5B9A;&#x4E49;&#x4E86; initialize &#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x4F1A;&#x5728;model&#x521B;&#x5EFA;&#x540E;&#x6267;&#x884C;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">new</span> Book({
  title: <span class="hljs-string">&quot;One Thousand and One Nights&quot;</span>,
  author: <span class="hljs-string">&quot;Scheherazade&quot;</span>
});
</code></pre>
<p>&#x5728;&#x6781;&#x5C11;&#x6570;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x53BB;&#x91CD;&#x5199; constructor &#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x8BA9;&#x4F60;&#x66FF;&#x6362;&#x4F60;&#x7684;model&#x7684;&#x5B9E;&#x9645;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Library = Backbone.Model.extend({
  constructor: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.books = <span class="hljs-keyword">new</span> Books();
    Backbone.Model.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
  },
  parse: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data, options</span>) </span>{
    <span class="hljs-keyword">this</span>.books.reset(data.books);
    <span class="hljs-keyword">return</span> data.library;
  }
});
</code></pre>
<p>&#x5982;&#x679C;&#x4F60;&#x4F20;&#x5165;<code>{collection: ...}</code> &#xFF0C;&#x8FD9;&#x4E2A; options&#x8868;&#x793A;&#x8FD9;&#x4E2A;model&#x5C5E;&#x4E8E;&#x54EA;&#x4E2A;collection&#xFF0C;&#x4E14;&#x7528;&#x4E8E;&#x8BA1;&#x7B97;&#x8FD9;&#x4E2A;model&#x7684;url&#x3002;&#x5426;&#x5219;<code>model.collection</code> &#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x4F1A;&#x5728;&#x4F60;&#x7B2C;&#x4E00;&#x6B21;&#x6DFB;&#x52A0;model&#x5230;&#x4E00;&#x4E2A;collection&#x7684;&#x65F6;&#x5019;&#x88AB;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;&#x3002; &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#x76F8;&#x53CD;&#x7684;&#x662F;&#x4E0D;&#x6B63;&#x786E;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x4F20;&#x9012;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x7ED9;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5C06;&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;model&#x5230;&#x96C6;&#x5408;&#x3002;&#x6709;&#x65F6;&#x8FD9;&#x4E2A;&#x662F;&#x5F88;&#x6709;&#x7528;&#x7684;&#x3002;</p>
<p>&#x5982;&#x679C;<code>{parse: true}</code>&#x88AB;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;option&#x9009;&#x9879;&#x4F20;&#x9012;&#xFF0C; attributes&#x5C06;&#x5728; set&#x5230;model&#x4E4B;&#x524D;&#x9996;&#x5148;&#x901A;&#x8FC7;parse&#x88AB;&#x8F6C;&#x6362;&#x3002;</p>
<h2 id="t16get">get <a href="#t16get"> # </a></h2>
<blockquote>
<p>model.get(attribute) </p>
</blockquote>
<p>&#x4ECE;&#x5F53;&#x524D;model&#x4E2D;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x5C5E;&#x6027;(attributes)&#x503C;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A; note.get(&quot;title&quot;)</p>
<h2 id="t17set">set <a href="#t17set"> # </a></h2>
<blockquote>
<p>model.set(attributes, [options]) </p>
</blockquote>
<p>&#x5411;model&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;hash&#x5C5E;&#x6027;(attributes)&#x3002;&#x5982;&#x679C;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x6539;&#x53D8;&#x4E86;model&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5728;&#x4E0D;&#x4F20;&#x5165; {silent: true} &#x9009;&#x9879;&#x53C2;&#x6570;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F1A;&#x89E6;&#x53D1; &quot;change&quot; &#x4E8B;&#x4EF6;&#xFF0C;&#x66F4;&#x6539;&#x7279;&#x5B9A;&#x5C5E;&#x6027;&#x7684;&#x4E8B;&#x4EF6;&#x4E5F;&#x4F1A;&#x89E6;&#x53D1;&#x3002; &#x53EF;&#x4EE5;&#x7ED1;&#x5B9A;&#x4E8B;&#x4EF6;&#x5230;&#x67D0;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;change:title&#xFF0C;&#x53CA; change:content&#x3002;</p>
<pre><code class="lang-js">note.set({title: <span class="hljs-string">&quot;March 20&quot;</span>, content: <span class="hljs-string">&quot;In his eyes she eclipses...&quot;</span>});

book.set(<span class="hljs-string">&quot;title&quot;</span>, <span class="hljs-string">&quot;A Scandal in Bohemia&quot;</span>);
</code></pre>
<h2 id="t18escape">escape <a href="#t18escape"> # </a></h2>
<blockquote>
<p>model.escape(attribute) </p>
</blockquote>
<p>&#x4E0E; get &#x7C7B;&#x4F3C;&#xFF0C;&#x53EA;&#x662F;&#x8FD4;&#x56DE;&#x7684;&#x662F;HTML&#x8F6C;&#x4E49;&#x540E;&#x7248;&#x672C;&#x7684;model&#x5C5E;&#x6027;&#x503C;&#x3002;&#x5982;&#x679C;&#x4ECE;model&#x63D2;&#x5165;&#x6570;&#x636E;&#x5230;HTML&#xFF0C;&#x4F7F;&#x7528; escape &#x53D6;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x907F;&#x514D; XSS &#x653B;&#x51FB;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> hacker = <span class="hljs-keyword">new</span> Backbone.Model({
  name: <span class="hljs-string">&quot;&lt;script&gt;alert(&apos;xss&apos;)&lt;/script&gt;&quot;</span>
});

alert(hacker.escape(<span class="hljs-string">&apos;name&apos;</span>));
</code></pre>
<h2 id="t19has">has <a href="#t19has"> # </a></h2>
<blockquote>
<p>model.has(attribute) </p>
</blockquote>
<p>&#x5C5E;&#x6027;&#x503C;&#x4E3A;&#x975E; null &#x6216;&#x975E; undefined &#x65F6;&#x8FD4;&#x56DE; true&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">if</span> (note.has(<span class="hljs-string">&quot;title&quot;</span>)) {
  ...
}
</code></pre>
<h2 id="t20unset">unset <a href="#t20unset"> # </a></h2>
<blockquote>
<p>model.unset(attribute, [options]) </p>
</blockquote>
<p>&#x4ECE;&#x5185;&#x90E8;&#x5C5E;&#x6027;&#x6563;&#x5217;&#x8868;&#x4E2D;&#x5220;&#x9664;&#x6307;&#x5B9A;&#x5C5E;&#x6027;(attribute)&#x3002; &#x5982;&#x679C;&#x672A;&#x8BBE;&#x7F6E; silent &#x9009;&#x9879;&#xFF0C;&#x4F1A;&#x89E6;&#x53D1; &quot;change&quot; &#x4E8B;&#x4EF6;&#x3002;</p>
<h2 id="t21clear">clear <a href="#t21clear"> # </a></h2>
<blockquote>
<p>model.clear([options]) </p>
</blockquote>
<p>&#x4ECE;model&#x4E2D;&#x5220;&#x9664;&#x6240;&#x6709;&#x5C5E;&#x6027;&#xFF0C; &#x5305;&#x62EC;id&#x5C5E;&#x6027;&#x3002; &#x5982;&#x679C;&#x672A;&#x8BBE;&#x7F6E; silent &#x9009;&#x9879;&#xFF0C;&#x4F1A;&#x89E6;&#x53D1; &quot;change&quot; &#x4E8B;&#x4EF6;&#x3002;</p>
<h2 id="t22id">id <a href="#t22id"> # </a></h2>
<blockquote>
<p>model.id </p>
</blockquote>
<p>id&#x662F;model&#x7684;&#x7279;&#x6B8A;&#x5C5E;&#x6027;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x610F;&#x5B57;&#x7B26;&#x4E32;&#xFF08;&#x6574;&#x578B; id &#x6216; UUID&#xFF09;&#x3002;&#x5728;&#x5C5E;&#x6027;&#x4E2D;&#x8BBE;&#x7F6E;&#x7684; id &#x4F1A;&#x88AB;&#x76F4;&#x63A5;&#x62F7;&#x8D1D;&#x5230;model&#x5C5E;&#x6027;&#x4E0A;&#x3002; &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4ECE;&#x96C6;&#x5408;&#xFF08;collections&#xFF09;&#x4E2D;&#x901A;&#x8FC7; id &#x83B7;&#x53D6;model&#xFF0C;&#x53E6;&#x5916; id &#x901A;&#x5E38;&#x7528;&#x4E8E;&#x751F;&#x6210;model&#x7684; URLs&#x3002;</p>
<h2 id="t23idAttribute">idAttribute <a href="#t23idAttribute"> # </a></h2>
<blockquote>
<p>model.idAttribute </p>
</blockquote>
<p>&#x4E00;&#x4E2A;model&#x7684;&#x552F;&#x4E00;&#x6807;&#x793A;&#x7B26;&#xFF0C;&#x88AB;&#x50A8;&#x5B58;&#x5728; id &#x5C5E;&#x6027;&#x4E0B;&#x3002;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x552F;&#x4E00;&#x7684;key&#x76F4;&#x63A5;&#x548C;&#x540E;&#x7AEF;&#x901A;&#x4FE1;&#x3002;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;Model&#x7684; idAttribute &#x5230;&#x4E00;&#x4E2A;&#x4ECE;key&#x5230; id &#x7684;&#x4E00;&#x4E2A;&#x900F;&#x660E;&#x6620;&#x5C04;&#x4E2D;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Meal = Backbone.Model.extend({
  idAttribute: <span class="hljs-string">&quot;_id&quot;</span>
});

<span class="hljs-keyword">var</span> cake = <span class="hljs-keyword">new</span> Meal({ _id: <span class="hljs-number">1</span>, name: <span class="hljs-string">&quot;Cake&quot;</span> });
alert(<span class="hljs-string">&quot;Cake id: &quot;</span> + cake.id);
</code></pre>
<h2 id="t24cid">cid <a href="#t24cid"> # </a></h2>
<blockquote>
<p>model.cid </p>
</blockquote>
<p>model&#x7684;&#x7279;&#x6B8A;&#x5C5E;&#x6027;&#xFF0C;cid &#x6216;&#x5BA2;&#x6237; id &#x662F;&#x5F53;&#x6240;&#x6709;model&#x521B;&#x5EFA;&#x65F6;&#x81EA;&#x52A8;&#x4EA7;&#x751F;&#x7684;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7B26;&#x3002; &#x5BA2;&#x6237; ids &#x5728;model&#x5C1A;&#x672A;&#x4FDD;&#x5B58;&#x5230;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x524D;&#x4FBF;&#x5B58;&#x5728;&#xFF0C;&#x6B64;&#x65F6;model&#x53EF;&#x80FD;&#x4ECD;&#x4E0D;&#x5177;&#x6709;&#x6700;&#x7EC8;&#x7684; id&#xFF0C; &#x4F46;&#x5DF2;&#x7ECF;&#x9700;&#x8981;&#x5728;&#x7528;&#x6237;&#x754C;&#x9762;&#x53EF;&#x89C1;&#x3002;</p>
<h2 id="t25attributes">attributes <a href="#t25attributes"> # </a></h2>
<blockquote>
<p>model.attributes </p>
</blockquote>
<p>attributes &#x5C5E;&#x6027;&#x662F;&#x5305;&#x542B;&#x6A21;&#x578B;&#x72B6;&#x6001;&#x7684;&#x5185;&#x90E8;&#x6563;&#x5217;&#x8868; &#x2014; &#x901A;&#x5E38;&#xFF08;&#x4F46;&#x4E0D;&#x4E00;&#x5B9A;&#xFF09;JSON&#x5BF9;&#x8C61;&#x7684;&#x5F62;&#x5F0F;&#x8868;&#x793A;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x6A21;&#x578B;&#x6570;&#x636E; &#x3002;&#x5B83;&#x901A;&#x5E38;&#x662F;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x4E00;&#x4E2A;&#x884C;&#x7684;&#x7B80;&#x5355;&#x7684;&#x5E8F;&#x5217;&#xFF0C;&#x4F46;&#x5B83;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BA1;&#x7B97;&#x72B6;&#x6001;&#x3002;</p>
<p>&#x5EFA;&#x8BAE;&#x91C7;&#x7528; set &#x66F4;&#x65B0; attributes&#x800C;&#x4E0D;&#x8981;&#x76F4;&#x63A5;&#x4FEE;&#x6539;&#x3002;  &#x5982;&#x679C;&#x60A8;&#x60F3;&#x68C0;&#x7D22;&#x548C;&#x83B7;&#x53D6;&#x6A21;&#x578B;&#x5C5E;&#x6027;&#x7684;&#x526F;&#x672C;&#xFF0C; &#x7528; <code>_.clone(model.attributes)</code> &#x53D6;&#x800C;&#x4EE3;&#x4E4B;&#x3002;</p>
<p>&#x7531;&#x4E8E;&#x8FD9;&#x6837;&#x7684;&#x4E8B;&#x5B9E;&#xFF1A; Events&#xFF08;&#x4E8B;&#x4EF6;&#xFF09;&#x63A5;&#x53D7;&#x7A7A;&#x683C;&#x5206;&#x9694;&#x4E8B;&#x4EF6;&#x5217;&#x8868;&#xFF0C; &#x4F46;&#x662F;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x4E0D;&#x5E94;&#x8BE5;&#x5305;&#x62EC;&#x7A7A;&#x683C;&#x3002;</p>
<h2 id="t26changed">changed <a href="#t26changed"> # </a></h2>
<blockquote>
<p>model.changed </p>
</blockquote>
<p>changed&#x5C5E;&#x6027;&#x662F;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x6240;&#x6709;&#x5C5E;&#x6027;&#x7684;&#x5185;&#x90E8;&#x6563;&#x5217;&#xFF0C;&#x81EA;&#x6700;&#x540E; set &#x5DF2;&#x6539;&#x53D8;&#x3002; &#x81EA;&#x6700;&#x540E;&#x4E00;&#x7EC4;&#x5DF2;&#x6539;&#x53D8;&#x3002; &#x8BF7;&#x4E0D;&#x8981;&#x76F4;&#x63A5;&#x66F4;&#x65B0; changed&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x7684;&#x72B6;&#x6001;&#x662F;&#x7531;set&#x5185;&#x90E8;&#x7EF4;&#x62A4;&#x3002; changed&#x7684;&#x526F;&#x672C;&#x53EF;&#x4ECE;changedAttributes&#x83B7;&#x5F97;&#x3002;</p>
<h2 id="t27defaults">defaults <a href="#t27defaults"> # </a></h2>
<blockquote>
<p>model.defaults or model.defaults() </p>
</blockquote>
<p>defaults &#x6563;&#x5217;&#xFF08;&#x6216;&#x51FD;&#x6570;&#xFF09;&#x7528;&#x4E8E;&#x4E3A;&#x6A21;&#x578B;&#x6307;&#x5B9A;&#x9ED8;&#x8BA4;&#x5C5E;&#x6027;&#x3002; &#x521B;&#x5EFA;&#x6A21;&#x578B;&#x5B9E;&#x4F8B;&#x65F6;&#xFF0C;&#x4EFB;&#x4F55;&#x672A;&#x6307;&#x5B9A;&#x7684;&#x5C5E;&#x6027;&#x4F1A;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;&#x5176;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Meal = Backbone.Model.extend({
  defaults: {
    <span class="hljs-string">&quot;appetizer&quot;</span>:  <span class="hljs-string">&quot;caesar salad&quot;</span>,
    <span class="hljs-string">&quot;entree&quot;</span>:     <span class="hljs-string">&quot;ravioli&quot;</span>,
    <span class="hljs-string">&quot;dessert&quot;</span>:    <span class="hljs-string">&quot;cheesecake&quot;</span>
  }
});

alert(<span class="hljs-string">&quot;Dessert will be &quot;</span> + (<span class="hljs-keyword">new</span> Meal).get(<span class="hljs-string">&apos;dessert&apos;</span>));
</code></pre>
<p>&#x9700;&#x8981;&#x63D0;&#x9192;&#x7684;&#x662F;&#xFF0C;&#x5728; Javascript &#x4E2D;&#xFF0C;&#x5BF9;&#x8C61;&#x662F;&#x6309;&#x5F15;&#x7528;&#x4F20;&#x503C;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5982;&#x679C;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x5B83;&#x4F1A;&#x88AB;&#x6240;&#x6709;&#x5B9E;&#x4F8B;&#x5171;&#x4EAB;&#x3002;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49; defaults&#x4E3A;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x53D6;&#x4EE3;&#x3002;</p>
<h2 id="t28toJSON">toJSON <a href="#t28toJSON"> # </a></h2>
<blockquote>
<p>model.toJSON([options]) </p>
</blockquote>
<p>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x7684; attributes &#x6D45;&#x62F7;&#x8D1D;&#x526F;&#x672C;&#x7684; JSON &#x5B57;&#x7B26;&#x4E32;&#x5316;&#x5F62;&#x5F0F;&#x3002; &#x5B83;&#x53EF;&#x7528;&#x4E8E;&#x6A21;&#x578B;&#x7684;&#x6301;&#x4E45;&#x5316;&#x3001;&#x5E8F;&#x5217;&#x5316;&#xFF0C;&#x6216;&#x8005;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x4E4B;&#x524D;&#x7684;&#x6269;&#x5145;&#x3002; &#x8BE5;&#x65B9;&#x6CD5;&#x540D;&#x79F0;&#x6BD4;&#x8F83;&#x6DF7;&#x4E71;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4E8B;&#x5B9E;&#x4E0A;&#x5E76;&#x4E0D;&#x8FD4;&#x56DE; JSON &#x5B57;&#x7B26;&#x4E32;&#xFF0C; &#x4F46;&#x8FD9;&#x662F;&#x5BF9; JavaScript API &#x7684; JSON.stringify &#x5B9E;&#x73B0;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> artist = <span class="hljs-keyword">new</span> Backbone.Model({
  firstName: <span class="hljs-string">&quot;Wassily&quot;</span>,
  lastName: <span class="hljs-string">&quot;Kandinsky&quot;</span>
});

artist.set({birthday: <span class="hljs-string">&quot;December 16, 1866&quot;</span>});

alert(<span class="hljs-built_in">JSON</span>.stringify(artist));
</code></pre>
<h2 id="t29sync">sync <a href="#t29sync"> # </a></h2>
<blockquote>
<p>model.sync(method, model, [options]) </p>
</blockquote>
<p>&#x4F7F;&#x7528; Backbone.sync &#x53EF;&#x4EE5;&#x5C06;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x7684;&#x72B6;&#x6001;&#x6301;&#x7EED;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#x3002; &#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x884C;&#x4E3A;&#x8986;&#x76D6;&#x3002;</p>
<h2 id="t30fetch">fetch <a href="#t30fetch"> # </a></h2>
<blockquote>
<p>model.fetch([options]) </p>
</blockquote>
<p>&#x901A;&#x8FC7;&#x59D4;&#x6258;&#x7ED9;Backbone.sync&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x91CD;&#x7F6E;&#x6A21;&#x578B;&#x7684;&#x72B6;&#x6001;&#x3002;&#x8FD4;&#x56DE;jqXHR&#x3002; &#x5982;&#x679C;&#x6A21;&#x578B;&#x4ECE;&#x672A;&#x586B;&#x5145;&#x6570;&#x636E;&#x65F6;&#x975E;&#x5E38;&#x6709;&#x7528;&#xFF0C; &#x6216;&#x8005;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x786E;&#x4FDD;&#x4F60;&#x6709;&#x6700;&#x65B0;&#x7684;&#x670D;&#x52A1;&#x5668;&#x72B6;&#x6001;&#x3002; &#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x7684;&#x72B6;&#x6001;&#x4E0D;&#x540C;&#x4E8E;&#x5F53;&#x524D;&#x5C5E;&#x6027;&#x7684;&quot;change&quot;&#x4E8B;&#x4EF6;&#x5C06;&#x88AB;&#x89E6;&#x53D1;&#x3002; &#x63A5;&#x53D7; success &#x548C; error&#x56DE;&#x8C03;&#x7684;&#x9009;&#x9879;&#x6563;&#x5217;&#xFF0C; &#x8FD9;&#x4E24;&#x4E2A;&#x56DE;&#x8C03;&#x90FD;&#x53EF;&#x4EE5;&#x4F20;&#x9012;(model, response, options)&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-comment">// &#x6BCF;&#x9694; 10 &#x79D2;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x62C9;&#x53D6;&#x6570;&#x636E;&#x4EE5;&#x4FDD;&#x6301;&#x9891;&#x9053;&#x6A21;&#x578B;&#x662F;&#x6700;&#x65B0;&#x7684;</span>
setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  channel.fetch();
}, <span class="hljs-number">10000</span>);
</code></pre>
<h2 id="t31save">save <a href="#t31save"> # </a></h2>
<blockquote>
<p>model.save([attributes], [options]) </p>
</blockquote>
<p>&#x901A;&#x8FC7;&#x59D4;&#x6258;&#x7ED9;Backbone.sync&#xFF0C;&#x4FDD;&#x5B58;&#x6A21;&#x578B;&#x5230;&#x6570;&#x636E;&#x5E93;&#xFF08;&#x6216;&#x66FF;&#x4EE3;&#x6301;&#x4E45;&#x5316;&#x5C42;&#xFF09;&#x3002; &#x5982;&#x679C;&#x9A8C;&#x8BC1;&#x6210;&#x529F;&#xFF0C;&#x8FD4;&#x56DE;jqXHR&#xFF0C;&#x5426;&#x5219;&#x4E3A; false&#x3002; attributes&#x6563;&#x5217;&#xFF08;&#x5982;set&#xFF09;&#x5E94;&#x5305;&#x542B;&#x4F60;&#x60F3;&#x6539;&#x53D8;&#x7684;&#x5C5E;&#x6027; - &#x4E0D;&#x6D89;&#x53CA;&#x7684;&#x952E;&#x4E0D;&#x4F1A;&#x88AB;&#x4FEE;&#x6539; - &#x4F46;&#x662F;&#xFF0C;&#x8BE5;&#x8D44;&#x6E90;&#x7684;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x8868;&#x793A;&#x5C06;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#x3002; &#x81F3;&#x4E8E;set&#xFF0C;&#x4F60;&#x53EF;&#x80FD;&#x4F1A;&#x4F20;&#x9012;&#x5355;&#x72EC;&#x7684;&#x952E;&#x548C;&#x503C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x54C8;&#x5E0C;&#x503C;&#x3002; &#x5982;&#x679C;&#x6A21;&#x578B;&#x6709;&#x4E00;&#x4E2A;validate&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x4E14;&#x9A8C;&#x8BC1;&#x5931;&#x8D25;&#xFF0C; &#x8BE5;&#x6A21;&#x578B;&#x5C06;&#x4E0D;&#x4F1A;&#x88AB;&#x4FDD;&#x5B58;&#x3002; &#x5982;&#x679C;&#x6A21;&#x578B;isNew&#xFF0C; &#x4FDD;&#x5B58;&#x5C06;&#x91C7;&#x7528;&quot;create&quot;&#xFF08;HTTP POST&#xFF09;&#xFF0C; &#x5982;&#x679C;&#x6A21;&#x578B;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#xFF0C; &#x4FDD;&#x5B58;&#x5C06;&#x91C7;&#x7528;&quot;update&quot;&#xFF08;HTTP PUT&#xFF09;&#x3002;</p>
<p>&#x76F8;&#x53CD;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x53EA;&#x60F3;&#x5C06;&#x6539;&#x53D8;&#x5C5E;&#x6027;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#xFF0C; &#x8C03;&#x7528;model.save(attrs, {patch: true})&#x3002; &#x4F60;&#x4F1A;&#x5F97;&#x5230;&#x4E00;&#x4E2A;HTTP PATCH&#x8BF7;&#x6C42;&#x5C06;&#x521A;&#x521A;&#x4F20;&#x5165;&#x7684;&#x5C5E;&#x6027;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#x3002;</p>
<p>&#x901A;&#x8FC7;&#x65B0;&#x7684;&#x5C5E;&#x6027;&#x8C03;&#x7528;save &#x5C06;&#x7ACB;&#x5373;&#x89E6;&#x53D1;&#x4E00;&#x4E2A;&quot;change&quot;&#x4E8B;&#x4EF6;&#xFF0C;&#x4E00;&#x4E2A;&quot;request&quot;&#x4E8B;&#x4EF6;&#x4F5C;&#x4E3A;Ajax&#x8BF7;&#x6C42;&#x5F00;&#x59CB;&#x5230;&#x670D;&#x52A1;&#x5668;&#xFF0C; &#x5E76;&#x4E14;&#x5F53;&#x670D;&#x52A1;&#x5668;&#x786E;&#x8BA4;&#x6210;&#x529F;&#x4FEE;&#x6539;&#x540E;&#x7ACB;&#x5373;&#x89E6;&#x53D1; &#x4E00;&#x4E2A;&quot;sync&quot;&#x4E8B;&#x4EF6;&#x3002; &#x5982;&#x679C;&#x4F60;&#x60F3;&#x5728;&#x6A21;&#x578B;&#x4E0A;&#x7B49;&#x5F85;&#x670D;&#x52A1;&#x5668;&#x8BBE;&#x7F6E;&#x65B0;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x8BF7;&#x4F20;&#x9012;{wait: true}&#x3002;</p>
<p>&#x5728;&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C; &#x6CE8;&#x610F;&#x6211;&#x4EEC;&#x5982;&#x4F55;&#x8986;&#x76D6;Backbone.sync&#x7684;&#x7248;&#x672C;&#xFF0C;&#x5728;&#x6A21;&#x578B;&#x521D;&#x6B21;&#x4FDD;&#x5B58;&#x65F6;&#x63A5;&#x6536;&#x5230; &quot;create&quot;&#x8BF7;&#x6C42;&#xFF0C;&#x7B2C;&#x4E8C;&#x6B21;&#x63A5;&#x6536;&#x5230; &quot;update&quot; &#x8BF7;&#x6C42;&#x7684;&#x3002;</p>
<pre><code class="lang-js">Backbone.sync = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">method, model</span>) </span>{
  alert(method + <span class="hljs-string">&quot;: &quot;</span> + <span class="hljs-built_in">JSON</span>.stringify(model));
  model.set(<span class="hljs-string">&apos;id&apos;</span>, <span class="hljs-number">1</span>);
};

<span class="hljs-keyword">var</span> book = <span class="hljs-keyword">new</span> Backbone.Model({
  title: <span class="hljs-string">&quot;The Rough Riders&quot;</span>,
  author: <span class="hljs-string">&quot;Theodore Roosevelt&quot;</span>
});

book.save();

book.save({author: <span class="hljs-string">&quot;Teddy&quot;</span>});
</code></pre>
<p>save &#x652F;&#x6301;&#x5728;&#x9009;&#x9879;&#x6563;&#x5217;&#x8868;&#x4E2D;&#x4F20;&#x5165; success &#x548C; error &#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C; &#x56DE;&#x8C03;&#x51FD;&#x6570;&#x652F;&#x6301;&#x4F20;&#x5165; (model, response, options) &#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x3002; &#x5982;&#x679C;&#x670D;&#x52A1;&#x7AEF;&#x9A8C;&#x8BC1;&#x5931;&#x8D25;&#xFF0C;&#x8FD4;&#x56DE;&#x975E; 200 &#x7684; HTTP &#x54CD;&#x5E94;&#x7801;&#xFF0C;&#x5C06;&#x4EA7;&#x751F;&#x6587;&#x672C;&#x6216; JSON &#x7684;&#x9519;&#x8BEF;&#x5185;&#x5BB9;&#x3002;</p>
<pre><code class="lang-js">book.save(<span class="hljs-string">&quot;author&quot;</span>, <span class="hljs-string">&quot;F.D.R.&quot;</span>, {error: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{ ... }});
</code></pre>
<h2 id="t32destroy">destroy <a href="#t32destroy"> # </a></h2>
<blockquote>
<p>model.destroy([options]) </p>
</blockquote>
<p>&#x901A;&#x8FC7;&#x59D4;&#x6258;&#x7ED9;Backbone.sync&#xFF0C;&#x4FDD;&#x5B58;&#x6A21;&#x578B;&#x5230;&#x6570;&#x636E;&#x5E93;&#xFF08;&#x6216;&#x66FF;&#x4EE3;&#x6301;&#x4E45;&#x5316;&#x5C42;&#xFF09;&#x3002; &#x901A;&#x8FC7;&#x59D4;&#x6258;&#x4E00;&#x4E2A;HTTP DELETE&#x8BF7;&#x6C42;&#x7ED9;Backbone.sync&#x7834;&#x574F;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x6A21;&#x578B;&#x3002; &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;jqXHR&#x5BF9;&#x8C61;&#xFF0C; &#x6216;&#x8005;&#x5982;&#x679C;&#x6A21;&#x578B;isNew&#xFF0C;&#x90A3;&#x4E48;&#x8FD4;&#x56DE;false&#x3002; &#x9009;&#x9879;&#x6563;&#x5217;&#x8868;&#x4E2D;&#x63A5;&#x53D7; success &#x548C; error &#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C; &#x56DE;&#x8C03;&#x51FD;&#x6570;&#x652F;&#x6301;&#x4F20;&#x5165; (model, response, options) &#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x3002; &#x5728;&#x6A21;&#x578B;&#x4E0A;&#x89E6;&#x53D1; &quot;destroy&quot; &#x4E8B;&#x4EF6;&#xFF0C;&#x8BE5;&#x4E8B;&#x4EF6;&#x5C06;&#x4F1A;&#x5192;&#x6CE1;&#x5230;&#x4EFB;&#x4F55;&#x5305;&#x542B;&#x8FD9;&#x4E2A;&#x6A21;&#x578B;&#x7684;&#x96C6;&#x5408;&#x4E2D;&#xFF0C; &#x4E00;&#x4E2A;&quot;request&quot;&#x4E8B;&#x4EF6;&#x4F5C;&#x4E3A;Ajax&#x8BF7;&#x6C42;&#x5F00;&#x59CB;&#x5230;&#x670D;&#x52A1;&#x5668;&#xFF0C; &#x5E76;&#x4E14;&#x5F53;&#x670D;&#x52A1;&#x5668;&#x786E;&#x8BA4;&#x6A21;&#x578B;&#x88AB;&#x5220;&#x9664;&#x540E;&#x7ACB;&#x5373;&#x89E6;&#x53D1; &#x4E00;&#x4E2A;&quot;sync&quot;&#x4E8B;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x5728;&#x96C6;&#x5408;&#x4E2D;&#x5220;&#x9664;&#x8FD9;&#x4E2A;&#x6A21;&#x578B;&#x524D;&#x7B49;&#x5F85;&#x670D;&#x52A1;&#x5668;&#x76F8;&#x5E94;&#xFF0C;&#x8BF7;&#x4F20;&#x9012;{wait: true}&#x3002;</p>
<pre><code class="lang-js">book.destroy({success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">model, response</span>) </span>{
  ...
}});
</code></pre>
<h1 id="t33Underscore &#x65B9;&#x6CD5; (6)">Underscore &#x65B9;&#x6CD5; (6) <a href="#t33Underscore &#x65B9;&#x6CD5; (6)"> # </a></h1>
<p>Backbone &#x4EE3;&#x7406;&#x4E86; Underscore.js&#x7528;&#x6765;&#x7ED9;Backbone.Model&#x63D0;&#x4F9B; 6 &#x4E2A;&#x5BF9;&#x8C61;&#x51FD;&#x6570;&#x3002;&#x8FD9;&#x91CC;&#x6CA1;&#x6709;&#x5B8C;&#x5168;&#x8BB0;&#x5F55;&#x4ED6;&#x4EEC;&#xFF0C;&#x4F46;&#x4F60;&#x53EF;&#x4EE5;&#x770B;&#x770B;Underscore&#x6587;&#x6863;&#x4E2D;&#x5168;&#x90E8;&#x8BE6;&#x60C5;&#x2026; (&#x611A;&#x4EBA;&#x7801;&#x5934;&#x6CE8;&#xFF1A;&#x4E0B;&#x9762;&#x94FE;&#x63A5;&#x5DF2;&#x7ECF;&#x66FF;&#x6362;&#x6210;&#x4E2D;&#x6587;&#x6587;&#x6863;&#x7684;&#x5730;&#x5740;)</p>
<ul>
<li>keys</li>
<li>values</li>
<li>pairs</li>
<li>invert</li>
<li>pick</li>
<li>omit</li>
</ul>
<pre><code class="lang-js">user.pick(<span class="hljs-string">&apos;first_name&apos;</span>, <span class="hljs-string">&apos;last_name&apos;</span>, <span class="hljs-string">&apos;email&apos;</span>);
chapters.keys().join(<span class="hljs-string">&apos;, &apos;</span>);
</code></pre>
<h2 id="t34validate">validate <a href="#t34validate"> # </a></h2>
<blockquote>
<p>model.validate(attributes, options) </p>
</blockquote>
<p>&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x662F;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#xFF0C; &#x5982;&#x679C;&#x60A8;&#x6709;&#x4EFB;&#x4F55;&#x53EF;&#x4EE5;&#x5728;JavaScript&#x4E2D;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801; &#x5E76;&#x4E14;&#x6211;&#x4EEC;&#x9F13;&#x52B1;&#x4F60;&#x7528;&#x4F60;&#x81EA;&#x5B9A;&#x4E49;&#x9A8C;&#x8BC1;&#x903B;&#x8F91;&#x8986;&#x76D6;&#x5B83; &#x3002; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;validate&#x5728;save&#x4E4B;&#x524D;&#x8C03;&#x7528;&#xFF0C; &#x4F46;&#x5982;&#x679C;&#x4F20;&#x9012;&#x4E86; {validate:true}&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;set&#x4E4B;&#x524D;&#x8C03;&#x7528;&#x3002; validate&#x65B9;&#x6CD5;&#x662F;&#x901A;&#x8FC7;&#x6A21;&#x578B;&#x7684;&#x5C5E;&#x6027;&#xFF0C;  &#x9009;&#x9879;&#x548C;set &#x548C; save&#x662F;&#x4E00;&#x6837;&#x7684;&#x3002; &#x5982;&#x679C;&#x5C5E;&#x6027;&#x662F;&#x6709;&#x6548;&#x7684;&#xFF0C; validate&#x4E0D;&#x8FD4;&#x56DE;&#x9A8C;&#x8BC1;&#x4EFB;&#x4F55;&#x4E1C;&#x897F;;  &#x5982;&#x679C;&#x5B83;&#x4EEC;&#x662F;&#x65E0;&#x6548;&#x7684;&#xFF0C; &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x4F60;&#x9009;&#x62E9;&#x7684;&#x9519;&#x8BEF;&#x3002; &#x5B83;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x663E;&#x793A;&#x7684;&#x7B80;&#x5355;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF0C; &#x6216;&#x4E00;&#x4E2A;&#x4EE5;&#x7F16;&#x7A0B;&#x65B9;&#x5F0F;&#x63CF;&#x8FF0;&#x9519;&#x8BEF;&#x7684;&#x5B8C;&#x6574;&#x9519;&#x8BEF;&#x5BF9;&#x8C61;&#x3002; &#x5982;&#x679C;validate&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#xFF0C; save&#x4E0D;&#x4F1A;&#x7EE7;&#x7EED;&#xFF0C; &#x5E76;&#x4E14;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8BE5;&#x6A21;&#x578B;&#x7684;&#x5C5E;&#x6027;&#x5C06;&#x4E0D;&#x88AB;&#x4FEE;&#x6539;&#x3002; &#x6821;&#x9A8C;&#x5931;&#x8D25;&#x5C06;&#x89E6;&#x53D1;&quot;invalid&quot;&#x4E8B;&#x4EF6;&#xFF0C; &#x5E76;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#x503C;&#x8BBE;&#x7F6E;&#x6A21;&#x578B;&#x4E0A;&#x7684;validationError&#x5C5E;&#x6027;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Chapter = Backbone.Model.extend({
  validate: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">attrs, options</span>) </span>{
    <span class="hljs-keyword">if</span> (attrs.end &lt; attrs.start) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;can&apos;t end before it starts&quot;</span>;
    }
  }
});

<span class="hljs-keyword">var</span> one = <span class="hljs-keyword">new</span> Chapter({
  title : <span class="hljs-string">&quot;Chapter One: The Beginning&quot;</span>
});

one.on(<span class="hljs-string">&quot;invalid&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">model, error</span>) </span>{
  alert(model.get(<span class="hljs-string">&quot;title&quot;</span>) + <span class="hljs-string">&quot; &quot;</span> + error);
});

one.save({
  start: <span class="hljs-number">15</span>,
  end:   <span class="hljs-number">10</span>
});
</code></pre>
<p>&quot;invalid&quot;&#x4E8B;&#x4EF6;&#x63D0;&#x4F9B;&#x7C97;&#x7C92;&#x5EA6;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F; &#x5728;&#x6A21;&#x578B;&#x6216;&#x96C6;&#x5408;&#x5C42;&#x9762;&#x4E0A;&#x662F;&#x5F88;&#x6709;&#x7528;&#x3002;</p>
<h2 id="t35validationError">validationError <a href="#t35validationError"> # </a></h2>
<blockquote>
<p>model.validationError </p>
</blockquote>
<p>&#x7528;validate&#x6700;&#x540E;&#x9A8C;&#x8BC1;&#x5931;&#x8D25;&#x65F6;&#x8FD4;&#x56DE;&#x7684;&#x503C;&#x3002;</p>
<h2 id="t36isValid">isValid <a href="#t36isValid"> # </a></h2>
<blockquote>
<p>model.isValid() </p>
</blockquote>
<p>&#x8FD0;&#x884C;validate&#x6765;&#x68C0;&#x67E5;&#x6A21;&#x578B;&#x72B6;&#x6001;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Chapter = Backbone.Model.extend({
  validate: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">attrs, options</span>) </span>{
    <span class="hljs-keyword">if</span> (attrs.end &lt; attrs.start) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;can&apos;t end before it starts&quot;</span>;
    }
  }
});

<span class="hljs-keyword">var</span> one = <span class="hljs-keyword">new</span> Chapter({
  title : <span class="hljs-string">&quot;Chapter One: The Beginning&quot;</span>
});

one.set({
  start: <span class="hljs-number">15</span>,
  end:   <span class="hljs-number">10</span>
});

<span class="hljs-keyword">if</span> (!one.isValid()) {
  alert(one.get(<span class="hljs-string">&quot;title&quot;</span>) + <span class="hljs-string">&quot; &quot;</span> + one.validationError);
}
</code></pre>
<h2 id="t37url">url <a href="#t37url"> # </a></h2>
<blockquote>
<p>model.url() </p>
</blockquote>
<p>&#x8FD4;&#x56DE;&#x6A21;&#x578B;&#x8D44;&#x6E90;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x4F4D;&#x7F6E;&#x7684;&#x76F8;&#x5BF9; URL &#x3002; &#x5982;&#x679C;&#x6A21;&#x578B;&#x653E;&#x5728;&#x5176;&#x5B83;&#x5730;&#x65B9;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;&#x5408;&#x7406;&#x7684;&#x903B;&#x8F91;&#x91CD;&#x8F7D;&#x8BE5;&#x65B9;&#x6CD5;&#x3002; &#x751F;&#x6210; URLs &#x7684;&#x9ED8;&#x8BA4;&#x5F62;&#x5F0F;&#x4E3A;&#xFF1A;<code>&quot;/[collection.url]/[id]&quot;</code>&#xFF0C; &#x5982;&#x679C;&#x6A21;&#x578B;&#x4E0D;&#x662F;&#x96C6;&#x5408;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6307;&#x5B9A;&#x660E;&#x786E;&#x7684;urlRoot&#x8986;&#x76D6;&#x3002;</p>
<p>&#x7531;&#x4E8E;&#x662F;&#x59D4;&#x6258;&#x5230; Collection#url &#x6765;&#x751F;&#x6210; URL&#xFF0C; &#x6240;&#x4EE5;&#x9996;&#x5148;&#x9700;&#x8981;&#x786E;&#x8BA4;&#x5B83;&#x662F;&#x5426;&#x5B9A;&#x4E49;&#x8FC7;&#xFF0C;&#x6216;&#x8005;&#x6240;&#x6709;&#x6A21;&#x578B;&#x5171;&#x4EAB;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x6839; URL &#x65F6;&#xFF0C;&#x662F;&#x5426;&#x5B58;&#x5728; urlRoot &#x5C5E;&#x6027;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x4E00;&#x4E2A; id &#x4E3A; 101 &#x7684;&#x6A21;&#x578B;&#xFF0C;&#x5B58;&#x50A8;&#x5728; url &#x4E3A; <code>&quot;/documents/7/notes&quot;</code> &#x7684; Backbone.Collection &#x4E2D;&#xFF0C; &#x90A3;&#x4E48;&#x8BE5;&#x6A21;&#x578B;&#x7684; URL &#x4E3A;&#xFF1A;<code>&quot;/documents/7/notes/101&quot;</code></p>
<h2 id="t38urlRoot">urlRoot <a href="#t38urlRoot"> # </a></h2>
<blockquote>
<p>model.urlRoot or model.urlRoot() </p>
</blockquote>
<p>&#x5982;&#x679C;&#x4F7F;&#x7528;&#x7684;&#x96C6;&#x5408;&#x5916;&#x90E8;&#x7684;&#x6A21;&#x578B;&#xFF0C;&#x901A;&#x8FC7;&#x6307;&#x5B9A; urlRoot &#x6765;&#x8BBE;&#x7F6E;&#x751F;&#x6210;&#x57FA;&#x4E8E;&#x6A21;&#x578B; id &#x7684; URLs &#x7684;&#x9ED8;&#x8BA4; url &#x51FD;&#x6570;&#x3002; <code>&quot;[urlRoot]/id&quot;</code>&#x3002;&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F60;&#x4E0D;&#x4F1A;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x8FD9;&#x4E00;&#x70B9;&#x3002; &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;urlRoot&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Book = Backbone.Model.extend({urlRoot : <span class="hljs-string">&apos;/books&apos;</span>});

<span class="hljs-keyword">var</span> solaris = <span class="hljs-keyword">new</span> Book({id: <span class="hljs-string">&quot;1083-lem-solaris&quot;</span>});

alert(solaris.url());
</code></pre>
<h2 id="t39parse">parse <a href="#t39parse"> # </a></h2>
<blockquote>
<p>model.parse(response, options) </p>
</blockquote>
<p>parse &#x4F1A;&#x5728;&#x901A;&#x8FC7; fetch &#x4ECE;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x6A21;&#x578B;&#x6570;&#x636E;&#xFF0C;&#x4EE5;&#x53CA; save &#x65F6;&#x6267;&#x884C;&#x3002; &#x4F20;&#x5165;&#x672C;&#x51FD;&#x6570;&#x7684;&#x4E3A;&#x539F;&#x59CB; response &#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x4E14;&#x5E94;&#x5F53;&#x8FD4;&#x56DE;&#x53EF;&#x4EE5; set &#x5230;&#x6A21;&#x578B;&#x7684;&#x5C5E;&#x6027;&#x6563;&#x5217;&#x8868;&#x3002; &#x9ED8;&#x8BA4;&#x5B9E;&#x73B0;&#x662F;&#x81EA;&#x52A8;&#x8FDB;&#x884C;&#x7684;&#xFF0C;&#x4EC5;&#x7B80;&#x5355;&#x4F20;&#x5165; JSON &#x54CD;&#x5E94;&#x3002; &#x5982;&#x679C;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5DF2;&#x5B58;&#x5728;&#x7684; API&#xFF0C;&#x6216;&#x8005;&#x66F4;&#x597D;&#x7684;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x54CD;&#x5E94;&#xFF0C;&#x53EF;&#x4EE5;&#x91CD;&#x8F7D;&#x5B83;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F7F;&#x7528;&#x7684;3.1&#x7248;&#x672C;&#x4E4B;&#x524D;&#x7684; Rails &#x540E;&#x7AEF;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F; Rails&apos;s &#x9ED8;&#x8BA4;&#x7684; to_json &#x5B9E;&#x73B0;&#x5DF2;&#x7ECF;&#x5305;&#x542B;&#x4E86;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x4E4B;&#x4E0B;&#x7684;&#x6A21;&#x578B;&#x5C5E;&#x6027;&#x3002; &#x5BF9;&#x4E8E;&#x65E0;&#x7F1D;&#x7684;&#x540E;&#x7AEF;&#x96C6;&#x6210;&#x73AF;&#x5883;&#x7981;&#x7528;&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#xFF1A;</p>
<pre><code class="lang-js">ActiveRecord::Base.include_root_in_json = <span class="hljs-literal">false</span>
</code></pre>
<h2 id="t40clone">clone <a href="#t40clone"> # </a></h2>
<blockquote>
<p>model.clone() </p>
</blockquote>
<p>&#x8FD4;&#x56DE;&#x8BE5;&#x6A21;&#x578B;&#x7684;&#x5177;&#x6709;&#x76F8;&#x540C;&#x5C5E;&#x6027;&#x7684;&#x65B0;&#x5B9E;&#x4F8B;&#x3002;</p>
<h2 id="t41isNew">isNew <a href="#t41isNew"> # </a></h2>
<blockquote>
<p>model.isNew() </p>
</blockquote>
<p>&#x6A21;&#x578B;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x4FDD;&#x5B58;&#x5230;&#x670D;&#x52A1;&#x5668;&#x3002; &#x5982;&#x679C;&#x6A21;&#x578B;&#x5C1A;&#x65E0; id&#xFF0C;&#x5219;&#x88AB;&#x89C6;&#x4E3A;&#x65B0;&#x7684;&#x3002;</p>
<h2 id="t42hasChanged">hasChanged <a href="#t42hasChanged"> # </a></h2>
<blockquote>
<p>model.hasChanged([attribute]) </p>
</blockquote>
<p>&#x6807;&#x8BC6;&#x6A21;&#x578B;&#x4ECE;&#x4E0A;&#x6B21; set &#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x540E;&#x662F;&#x5426;&#x6539;&#x53D8;&#x8FC7;&#x3002; &#x5982;&#x679C;&#x4F20;&#x5165; attribute &#xFF0C;&#x5F53;&#x6307;&#x5B9A;&#x5C5E;&#x6027;&#x6539;&#x53D8;&#x540E;&#x8FD4;&#x56DE; true&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x672C;&#x65B9;&#x6CD5;&#x4EE5;&#x53CA;&#x63A5;&#x4E0B;&#x6765; change &#x76F8;&#x5173;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4EC5;&#x5BF9; &quot;change&quot;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x6709;&#x6548;&#x3002;</p>
<pre><code class="lang-js">book.on(<span class="hljs-string">&quot;change&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">if</span> (book.hasChanged(<span class="hljs-string">&quot;title&quot;</span>)) {
    ...
  }
});
</code></pre>
<h2 id="t43changedAttributes">changedAttributes <a href="#t43changedAttributes"> # </a></h2>
<blockquote>
<p>model.changedAttributes([attributes]) </p>
</blockquote>
<p>&#x53EA;&#x4ECE;&#x6700;&#x540E;&#x4E00;&#x6B21;set&#x5F00;&#x59CB;&#x68C0;&#x7D22;&#x5DF2;&#x6539;&#x53D8;&#x7684;&#x6A21;&#x578B;&#x5C5E;&#x6027;&#x6563;&#x5217;&#xFF08;hash&#xFF09;&#xFF0C;  &#x6216;&#x8005;&#x5982;&#x679C;&#x6CA1;&#x6709;&#xFF0C;&#x8FD4;&#x56DE; false&#x3002; &#x4F5C;&#x4E3A;&#x53EF;&#x9009;&#xFF0C;&#x53EF;&#x4EE5;&#x4F20;&#x9012;&#x5916;&#x90E8;&#x5C5E;&#x6027;&#x54C8;&#x5E0C;&#xFF08;hash&#xFF09;&#xFF0C; &#x8FD4;&#x56DE;&#x4E0E;&#x8BE5;&#x6A21;&#x578B;&#x4E0D;&#x540C;&#x7684;&#x5C5E;&#x6027;&#x7684;&#x54C8;&#x5E0C;&#xFF08;hash&#xFF09;&#x3002; &#x8FD9;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x627E;&#x51FA;&#x89C6;&#x56FE;&#x7684;&#x54EA;&#x4E9B;&#x90E8;&#x5206;&#x5E94;&#x8BE5;&#x66F4;&#x65B0;&#xFF0C;&#x6216;&#x8005;&#x786E;&#x5B9A;&#x54EA;&#x4E9B;&#x9700;&#x8981;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x540C;&#x6B65;&#x3002;</p>
<h2 id="t44previous">previous <a href="#t44previous"> # </a></h2>
<blockquote>
<p>model.previous(attribute) </p>
</blockquote>
<p>&#x5728; &quot;change&quot; &#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x672C;&#x65B9;&#x6CD5;&#x53EF;&#x88AB;&#x7528;&#x4E8E;&#x83B7;&#x53D6;&#x5DF2;&#x6539;&#x53D8;&#x5C5E;&#x6027;&#x7684;&#x65E7;&#x503C;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> bill = <span class="hljs-keyword">new</span> Backbone.Model({
  name: <span class="hljs-string">&quot;Bill Smith&quot;</span>
});

bill.on(<span class="hljs-string">&quot;change:name&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">model, name</span>) </span>{
  alert(<span class="hljs-string">&quot;Changed name from &quot;</span> + bill.previous(<span class="hljs-string">&quot;name&quot;</span>) + <span class="hljs-string">&quot; to &quot;</span> + name);
});

bill.set({name : <span class="hljs-string">&quot;Bill Jones&quot;</span>});
</code></pre>
<h2 id="t45previousAttributes">previousAttributes <a href="#t45previousAttributes"> # </a></h2>
<blockquote>
<p>model.previousAttributes() </p>
</blockquote>
<p>&#x8FD4;&#x56DE;&#x6A21;&#x578B;&#x7684;&#x4E0A;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x7684;&#x526F;&#x672C;&#x3002;&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x83B7;&#x53D6;&#x6A21;&#x578B;&#x7684;&#x4E0D;&#x540C;&#x7248;&#x672C;&#x4E4B;&#x95F4;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x6216;&#x8005;&#x5F53;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x65F6;&#x56DE;&#x6EDA;&#x6A21;&#x578B;&#x72B6;&#x6001;&#x3002;</p>
<h1 id="t46Backbone.Collection&#xFF08;&#x96C6;&#x5408;&#xFF09;">Backbone.Collection&#xFF08;&#x96C6;&#x5408;&#xFF09; <a href="#t46Backbone.Collection&#xFF08;&#x96C6;&#x5408;&#xFF09;"> # </a></h1>
<p>&#x96C6;&#x5408;&#x662F;&#x6A21;&#x578B;&#x7684;&#x6709;&#x5E8F;&#x7EC4;&#x5408;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x96C6;&#x5408;&#x4E0A;&#x7ED1;&#x5B9A; &quot;change&quot; &#x4E8B;&#x4EF6;&#xFF0C;&#x4ECE;&#x800C;&#x5F53;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6A21;&#x578B;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;fetch&#xFF08;&#x83B7;&#x5F97;&#xFF09;&#x901A;&#x77E5;&#xFF0C;&#x96C6;&#x5408;&#x4E5F;&#x53EF;&#x4EE5;&#x76D1;&#x542C; &quot;add&quot; &#x548C; &quot;remove&quot; &#x4E8B;&#x4EF6;&#xFF0C; &#x4ECE;&#x670D;&#x52A1;&#x5668;&#x66F4;&#x65B0;&#xFF0C;&#x5E76;&#x80FD;&#x4F7F;&#x7528; Underscore.js &#x63D0;&#x4F9B;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6A21;&#x578B;&#x89E6;&#x53D1;&#x7684;&#x4EFB;&#x4F55;&#x4E8B;&#x4EF6;&#x90FD;&#x53EF;&#x4EE5;&#x5728;&#x96C6;&#x5408;&#x8EAB;&#x4E0A;&#x76F4;&#x63A5;&#x89E6;&#x53D1;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76D1;&#x542C;&#x96C6;&#x5408;&#x4E2D;&#x6A21;&#x578B;&#x7684;&#x53D8;&#x5316;&#xFF1A; documents.on(&quot;change:selected&quot;, ...)</p>
<h2 id="t47extend&#xFF08;&#x96C6;&#x5408;&#xFF09;">extend&#xFF08;&#x96C6;&#x5408;&#xFF09; <a href="#t47extend&#xFF08;&#x96C6;&#x5408;&#xFF09;"> # </a></h2>
<blockquote>
<p>Backbone.Collection.extend(properties, [classProperties]) </p>
</blockquote>
<p>&#x901A;&#x8FC7;&#x6269;&#x5C55; Backbone.Collection &#x521B;&#x5EFA;&#x4E00;&#x4E2A; Collection &#x7C7B;&#x3002;&#x5B9E;&#x4F8B;&#x5C5E;&#x6027;&#x53C2;&#x6570; properties &#x4EE5;&#x53CA; &#x7C7B;&#x5C5E;&#x6027;&#x53C2;&#x6570; classProperties &#x4F1A;&#x88AB;&#x76F4;&#x63A5;&#x6CE8;&#x518C;&#x5230;&#x96C6;&#x5408;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3002;</p>
<h2 id="t48model&#xFF08;&#x96C6;&#x5408;&#xFF09;">model&#xFF08;&#x96C6;&#x5408;&#xFF09; <a href="#t48model&#xFF08;&#x96C6;&#x5408;&#xFF09;"> # </a></h2>
<blockquote>
<p>collection.model </p>
</blockquote>
<p>&#x8986;&#x76D6;&#x6B64;&#x5C5E;&#x6027;&#x6765;&#x6307;&#x5B9A;&#x96C6;&#x5408;&#x4E2D;&#x5305;&#x542B;&#x7684;&#x6A21;&#x578B;&#x7C7B;&#x3002;&#x53EF;&#x4EE5;&#x4F20;&#x5165;&#x539F;&#x59CB;&#x5C5E;&#x6027;&#x5BF9;&#x8C61;&#xFF08;&#x548C;&#x6570;&#x7EC4;&#xFF09;&#x6765; add, create,&#x548C; reset&#xFF0C;&#x4F20;&#x5165;&#x7684;&#x5C5E;&#x6027;&#x4F1A;&#x88AB;&#x81EA;&#x52A8;&#x8F6C;&#x6362;&#x4E3A;&#x9002;&#x5408;&#x7684;&#x6A21;&#x578B;&#x7C7B;&#x578B;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Library = Backbone.Collection.extend({
  model: Book
});
</code></pre>
<p>&#x96C6;&#x5408;&#x4E5F;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x591A;&#x6001;&#x6A21;&#x578B;&#xFF0C;&#x901A;&#x8FC7;&#x7528;&#x6784;&#x9020;&#x51FD;&#x6570;&#x91CD;&#x5199;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Library = Backbone.Collection.extend({

  model: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">attrs, options</span>) </span>{
    <span class="hljs-keyword">if</span> (condition) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PublicDocument(attrs, options);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PrivateDocument(attrs, options);
    }
  }

});
</code></pre>
<h2 id="t49constructor / initialize">constructor / initialize <a href="#t49constructor / initialize"> # </a></h2>
<blockquote>
<p>new Backbone.Collection([models], [options]) </p>
</blockquote>
<p>&#x5F53;&#x521B;&#x5EFA;&#x96C6;&#x5408;&#x65F6;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x4F20;&#x5165;&#x521D;&#x59CB;&#x7684; models &#x6570;&#x7EC4;&#x3002; &#x96C6;&#x5408;&#x7684; comparator &#x51FD;&#x6570;&#x4E5F;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x9009;&#x9879;&#x4F20;&#x5165;&#x3002; &#x4F20;&#x9012;false&#x4F5C;&#x4E3A;comparator&#x9009;&#x9879;&#x5C06;&#x963B;&#x6B62;&#x6392;&#x5E8F;&#x3002; &#x5982;&#x679C;&#x5B9A;&#x4E49;&#x4E86; initialize &#x51FD;&#x6570;&#xFF0C;&#x4F1A;&#x5728;&#x96C6;&#x5408;&#x521B;&#x5EFA;&#x65F6;&#x88AB;&#x8C03;&#x7528;&#x3002; &#x6709;&#x51E0;&#x4E2A;&#x9009;&#x9879;&#xFF0C; &#x5982;&#x679C;&#x63D0;&#x4F9B;&#x7684;&#x8BDD;&#xFF0C;&#x5C06;&#x76F4;&#x63A5;&#x9644;&#x52A0;&#x5230;&#x96C6;&#x5408;&#x4E0A;&#xFF1A;model &#x548C; comparator&#x3002;
&#x901A;&#x8FC7;&#x4F20;&#x9012;null&#x7ED9;models&#x9009;&#x9879;&#x6765;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x7684;&#x96C6;&#x5408;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> tabs = <span class="hljs-keyword">new</span> TabSet([tab1, tab2, tab3]);
<span class="hljs-keyword">var</span> spaces = <span class="hljs-keyword">new</span> Backbone.Collection([], {
  model: Space
});
</code></pre>
<h2 id="t50models">models <a href="#t50models"> # </a></h2>
<blockquote>
<p>collection.models </p>
</blockquote>
<p>&#x8BBF;&#x95EE;&#x96C6;&#x5408;&#x4E2D;&#x6A21;&#x578B;&#x7684;&#x5185;&#x7F6E;&#x7684;JavaScript &#x6570;&#x7EC4;&#x3002;&#x901A;&#x5E38;&#x6211;&#x4EEC;&#x4F7F;&#x7528; get&#xFF0C; at&#xFF0C;&#x6216; Underscore&#x65B9;&#x6CD5; &#x8BBF;&#x95EE;&#x6A21;&#x578B;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x5076;&#x5C14;&#x4E5F;&#x9700;&#x8981;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x3002;</p>
<h2 id="t51toJSON">toJSON <a href="#t51toJSON"> # </a></h2>
<blockquote>
<p>collection.toJSON([options]) </p>
</blockquote>
<p>&#x8FD4;&#x56DE;&#x96C6;&#x5408;&#x4E2D;&#x5305;&#x542B;&#x7684;&#x6BCF;&#x4E2A;&#x6A21;&#x578B;(&#x901A;&#x8FC7; toJSON) &#x7684;&#x5C5E;&#x6027;&#x54C8;&#x5E0C;&#x7684;&#x6570;&#x7EC4;&#x3002;&#x53EF;&#x7528;&#x4E8E;&#x96C6;&#x5408;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x548C;&#x6301;&#x4E45;&#x5316;&#x3002;&#x672C;&#x65B9;&#x6CD5;&#x540D;&#x79F0;&#x5BB9;&#x6613;&#x5F15;&#x8D77;&#x6DF7;&#x6DC6;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4E0E; JavaScript&apos;s JSON API &#x547D;&#x540D;&#x76F8;&#x540C;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> collection = <span class="hljs-keyword">new</span> Backbone.Collection([
  {name: <span class="hljs-string">&quot;Tim&quot;</span>, age: <span class="hljs-number">5</span>},
  {name: <span class="hljs-string">&quot;Ida&quot;</span>, age: <span class="hljs-number">26</span>},
  {name: <span class="hljs-string">&quot;Rob&quot;</span>, age: <span class="hljs-number">55</span>}
]);

alert(<span class="hljs-built_in">JSON</span>.stringify(collection));
</code></pre>
<h2 id="t52sync&#xFF08;&#x96C6;&#x5408;&#xFF09;">sync&#xFF08;&#x96C6;&#x5408;&#xFF09; <a href="#t52sync&#xFF08;&#x96C6;&#x5408;&#xFF09;"> # </a></h2>
<blockquote>
<p>collection.sync(method, collection, [options]) </p>
</blockquote>
<p>&#x4F7F;&#x7528; Backbone.sync&#x6765;&#x5C06;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x7684;&#x72B6;&#x6001;&#x6301;&#x4E45;&#x5316;&#x5230;&#x670D;&#x52A1;&#x5668;&#x3002; &#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x884C;&#x4E3A;&#x8986;&#x76D6;&#x3002;</p>
<h2 id="t53Underscore &#x65B9;&#x6CD5; (32)">Underscore &#x65B9;&#x6CD5; (32) <a href="#t53Underscore &#x65B9;&#x6CD5; (32)"> # </a></h2>
<p>Backbone &#x4EE3;&#x7406;&#x4E86; Underscore.js&#x7528;&#x6765;&#x7ED9;Backbone.Collection&#x63D0;&#x4F9B; 6 &#x4E2A;&#x5BF9;&#x8C61;&#x51FD;&#x6570;&#x3002;&#x8FD9;&#x91CC;&#x6CA1;&#x6709;&#x5B8C;&#x5168;&#x8BB0;&#x5F55;&#x4ED6;&#x4EEC;&#xFF0C;&#x4F46;&#x4F60;&#x53EF;&#x4EE5;&#x770B;&#x770B;Underscore&#x6587;&#x6863;&#x4E2D;&#x5168;&#x90E8;&#x8BE6;&#x60C5;&#x2026;(&#x611A;&#x4EBA;&#x7801;&#x5934;&#x6CE8;&#xFF1A;&#x4E0B;&#x9762;&#x94FE;&#x63A5;&#x5DF2;&#x7ECF;&#x66FF;&#x6362;&#x6210;&#x4E2D;&#x6587;&#x6587;&#x6863;&#x7684;&#x5730;&#x5740;)</p>
<ul>
<li>forEach (each)</li>
<li>map (collect)</li>
<li>reduce (foldl, inject)</li>
<li>reduceRight (foldr)</li>
<li>find (detect)</li>
<li>filter (select)</li>
<li>reject</li>
<li>every (all)</li>
<li>some (any)</li>
<li>contains (include)</li>
<li>invoke</li>
<li>max</li>
<li>min</li>
<li>sortBy</li>
<li>groupBy</li>
<li>shuffle</li>
<li>toArray</li>
<li>size</li>
<li>first (head, take)</li>
<li>initial</li>
<li>rest (tail, drop)</li>
<li>last</li>
<li>without</li>
<li>indexOf</li>
<li>lastIndexOf</li>
<li>isEmpty</li>
<li>chain</li>
<li>difference</li>
<li>sample</li>
<li>partition</li>
<li>countBy</li>
<li>indexBy</li>
</ul>
<pre><code class="lang-js">books.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">book</span>) </span>{
  book.publish();
});

<span class="hljs-keyword">var</span> titles = books.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">book</span>) </span>{
  <span class="hljs-keyword">return</span> book.get(<span class="hljs-string">&quot;title&quot;</span>);
});

<span class="hljs-keyword">var</span> publishedBooks = books.filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">book</span>) </span>{
  <span class="hljs-keyword">return</span> book.get(<span class="hljs-string">&quot;published&quot;</span>) === <span class="hljs-literal">true</span>;
});

<span class="hljs-keyword">var</span> alphabetical = books.sortBy(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">book</span>) </span>{
  <span class="hljs-keyword">return</span> book.author.get(<span class="hljs-string">&quot;name&quot;</span>).toLowerCase();
});
</code></pre>
<h2 id="t54add&#xFF08;&#x96C6;&#x5408;&#xFF09;">add&#xFF08;&#x96C6;&#x5408;&#xFF09; <a href="#t54add&#xFF08;&#x96C6;&#x5408;&#xFF09;"> # </a></h2>
<blockquote>
<p>collection.add(models, [options]) </p>
</blockquote>
<p>&#x5411;&#x96C6;&#x5408;&#x4E2D;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#xFF08;&#x6216;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x6570;&#x7EC4;&#xFF09;&#xFF0C;&#x89E6;&#x53D1;&quot;add&quot;&#x4E8B;&#x4EF6;&#x3002;  &#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x5B9A;&#x4E49;&#x4E86;model&#x5C5E;&#x6027;&#xFF0C; &#x60A8;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x539F;&#x59CB;&#x5C5E;&#x6027;&#x7684;&#x5BF9;&#x8C61;&#x8BA9;&#x5176;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x5B9E;&#x4F8B;&#x3002; &#x8FD4;&#x56DE;&#x5DF2;&#x7ECF;&#x6DFB;&#x52A0;&#x7684;&#xFF08;&#x6216;&#x9884;&#x5148;&#x5B58;&#x5728;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x91CD;&#x590D;&#xFF09;&#x6A21;&#x5F0F;&#x3002;  &#x4F20;&#x9012;{at: index}&#x53EF;&#x4EE5;&#x5C06;&#x6A21;&#x578B;&#x63D2;&#x5165;&#x96C6;&#x5408;&#x4E2D;&#x7279;&#x5B9A;&#x7684;index&#x7D22;&#x5F15;&#x4F4D;&#x7F6E;&#x3002; &#x5982;&#x679C;&#x60A8;&#x8981;&#x6DFB;&#x52A0; &#x96C6;&#x5408;&#x4E2D;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x6A21;&#x578B; &#x5230;&#x96C6;&#x5408;&#xFF0C;&#x4ED6;&#x4EEC;&#x4F1A;&#x88AB;&#x5FFD;&#x7565;&#xFF0C; &#x9664;&#x975E;&#x4F60;&#x4F20;&#x9012;{merge: true}&#xFF0C; &#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B83;&#x4EEC;&#x7684;&#x5C5E;&#x6027;&#x5C06;&#x88AB;&#x5408;&#x5E76;&#x5230;&#x76F8;&#x5E94;&#x7684;&#x6A21;&#x578B;&#x4E2D;&#xFF0C; &#x89E6;&#x53D1;&#x4EFB;&#x4F55;&#x9002;&#x5F53;&#x7684;&quot;change&quot; &#x4E8B;&#x4EF6;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> ships = <span class="hljs-keyword">new</span> Backbone.Collection;

ships.on(<span class="hljs-string">&quot;add&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ship</span>) </span>{
  alert(<span class="hljs-string">&quot;Ahoy &quot;</span> + ship.get(<span class="hljs-string">&quot;name&quot;</span>) + <span class="hljs-string">&quot;!&quot;</span>);
});

ships.add([
  {name: <span class="hljs-string">&quot;Flying Dutchman&quot;</span>},
  {name: <span class="hljs-string">&quot;Black Pearl&quot;</span>}
]);
</code></pre>
<p>&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x6DFB;&#x52A0;&#x76F8;&#x540C;&#x7684;&#x6A21;&#x578B;&#xFF08;&#x5177;&#x6709;&#x76F8;&#x540C;id&#x7684;&#x6A21;&#x578B;&#xFF09;&#x5230;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#xFF0C;&#x4E00;&#x6B21;&#x4EE5;&#x4E0A; 
&#x662F;&#x7A7A;&#x64CD;&#x4F5C;&#x3002;</p>
<h2 id="t55remove&#xFF08;&#x96C6;&#x5408;&#xFF09;">remove&#xFF08;&#x96C6;&#x5408;&#xFF09; <a href="#t55remove&#xFF08;&#x96C6;&#x5408;&#xFF09;"> # </a></h2>
<blockquote>
<p>collection.remove(models, [options]) </p>
</blockquote>
<p>&#x4ECE;&#x96C6;&#x5408;&#x4E2D;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#xFF08;&#x6216;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x6570;&#x7EC4;&#xFF09;&#xFF0C;&#x5E76;&#x4E14;&#x8FD4;&#x56DE;&#x4ED6;&#x4EEC;&#x3002;&#x4F1A;&#x89E6;&#x53D1; &quot;remove&quot; &#x4E8B;&#x4EF6;&#xFF0C;&#x540C;&#x6837;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; silent &#x5173;&#x95ED;&#x3002;&#x79FB;&#x9664;&#x524D;&#x8BE5;&#x6A21;&#x578B;&#x7684;index&#x53EF;&#x7528;&#x4F5C;options.index&#x7C7B;&#x76D1;&#x542C;&#x3002;</p>
<h2 id="t56reset&#xFF08;&#x96C6;&#x5408;&#xFF09;">reset&#xFF08;&#x96C6;&#x5408;&#xFF09; <a href="#t56reset&#xFF08;&#x96C6;&#x5408;&#xFF09;"> # </a></h2>
<blockquote>
<p>collection.reset([models], [options]) </p>
</blockquote>
<p>&#x6BCF;&#x6B21;&#x90FD;&#x662F;&#x53EA;&#x6DFB;&#x52A0;&#x548C;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x90A3;&#x6CA1;&#x95EE;&#x9898;&#xFF0C; &#x4F46;&#x6709;&#x65F6;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x6539;&#x53D8;&#x5F88;&#x591A;&#x6A21;&#x578B;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x5B81;&#x613F;&#x53EA;&#x66F4;&#x65B0;&#x96C6;&#x5408;&#x3002;  &#x4F7F;&#x7528;reset&#xFF0C;&#x5C06;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6A21;&#x578B;&#xFF08;&#x6216;&#x5C5E;&#x6027;&#x6563;&#x5217;&#xFF09;&#x5217;&#x8868;&#x66FF;&#x6362;&#x96C6;&#x5408;&#xFF0C;&#x6700;&#x540E;&#x89E6;&#x53D1;&#x4E00;&#x4E2A;&#x4F46;&#x5355;&#x72EC;&#x7684;&quot;reset&quot;&#x4E8B;&#x4EF6;&#x3002; &#x5230;&#x4E0E;&#x6A21;&#x578B;&#x7684;&#x65B0;&#x5217;&#x8868;&#x66FF;&#x6362;&#x96C6;&#x5408;&#xFF08;&#x6216;&#x5C5E;&#x6027;&#x6563;&#x5217;&#xFF09;&#xFF0C;&#x89E6;&#x53D1;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x7684;&#x201C;&#x590D;&#x4F4D;&#x201D;&#x4E8B;&#x4EF6;&#x5728;&#x672B;&#x7AEF;&#x3002; &#x8FD4;&#x56DE;&#x65B0;&#x7684;&#x6A21;&#x578B;&#x96C6;&#x5408;&#x3002; &#x4E3A;&#x65B9;&#x4FBF;&#x8D77;&#x89C1;&#xFF0C; &#x5728;&#x4E00;&#x4E2A; &quot;reset&quot;&#x4E8B;&#x4EF6;&#x4E2D;&#xFF0C; &#x4EFB;&#x4F55;&#x4EE5;&#x524D;&#x7684;&#x6A21;&#x578B;&#x5217;&#x8868;&#x53EF;&#x4F5C;&#x4E3A;options.previousModels&#x3002; 
&#x901A;&#x8FC7;&#x4F20;&#x9012;null&#x7ED9;models&#x9009;&#x9879;&#x6765;&#x6E05;&#x7A7A;&#x4F60;&#x7684;&#x96C6;&#x5408;&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50; &#x4F7F;&#x7528;reset&#x6765;&#x5F15;&#x5BFC;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x5728;&#x9875;&#x9762;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x52A0;&#x8F7D;&#xFF0C; &#x5728;Rails&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#xFF1A;</p>
<pre><code class="lang-js">&lt;script&gt;
  <span class="hljs-keyword">var</span> accounts = <span class="hljs-keyword">new</span> Backbone.Collection;
  accounts.reset(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">%=</span> @<span class="hljs-attribute">accounts.to_json</span> %&gt;</span>)</span>;
<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</span></code></pre>
<p>&#x8C03;&#x7528;collection.reset()&#xFF0C;&#x4E0D;&#x4F20;&#x9012;&#x4EFB;&#x4F55;&#x6A21;&#x578B;&#x4F5C;&#x4E3A;&#x53C2;&#x6570; &#x5C06;&#x6E05;&#x7A7A;&#x6574;&#x4E2A;&#x96C6;&#x5408;&#x3002;</p>
<h2 id="t57set&#xFF08;&#x96C6;&#x5408;&#xFF09;">set&#xFF08;&#x96C6;&#x5408;&#xFF09; <a href="#t57set&#xFF08;&#x96C6;&#x5408;&#xFF09;"> # </a></h2>
<blockquote>
<p>collection.set(models, [options]) </p>
</blockquote>
<p>set&#x65B9;&#x6CD5;&#x901A;&#x8FC7;&#x4F20;&#x9012;&#x6A21;&#x578B;&#x5217;&#x8868;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x7684;&quot;smart(&#x667A;&#x80FD;)&quot;&#x7684;&#x66F4;&#x65B0;&#x3002; &#x5982;&#x679C;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x5C1A;&#x4E0D;&#x5728;&#x96C6;&#x5408;&#x4E2D;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x5C06;&#x88AB;&#x6DFB;&#x52A0;; &#x5982;&#x679C;&#x6A21;&#x578B;&#x5DF2;&#x7ECF;&#x5728;&#x96C6;&#x5408;&#x4E2D;&#xFF0C;&#x5176;&#x5C5E;&#x6027;&#x5C06;&#x88AB;&#x5408;&#x5E76;; &#x5E76;&#x4E14;&#x5982;&#x679C;&#x96C6;&#x5408;&#x5305;&#x542B;&#x4E0D;&#x5B58;&#x5728;&#x4E8E;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x6A21;&#x578B;&#xFF0C;&#x4ED6;&#x4EEC;&#x5C06;&#x88AB;&#x5220;&#x9664;&#x3002; &#x4EE5;&#x4E0A;&#x6240;&#x6709;&#x5C06;&#x89E6;&#x53D1;&#x76F8;&#x5E94;&#x7684;&quot;add&quot;, &quot;remove&quot;, &#x548C; &quot;change&quot;&#x4E8B;&#x4EF6;&#x3002; &#x8FD4;&#x56DE;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6A21;&#x578B;&#x3002; &#x5982;&#x679C;&#x60A8;&#x60F3;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x884C;&#x4E3A;&#xFF0C; &#x4F60;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x9009;&#x9879;&#xFF1A;{add: false}, {remove: false}, &#x6216; {merge: false}&#xFF0C;&#x5C06;&#x5176;&#x7981;&#x7528;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> vanHalen = <span class="hljs-keyword">new</span> Backbone.Collection([eddie, alex, stone, roth]);

vanHalen.set([eddie, alex, stone, hagar]);

<span class="hljs-comment">// Fires a &quot;remove&quot; event for roth, and an &quot;add&quot; event for &quot;hagar&quot;.</span>
<span class="hljs-comment">// Updates any of stone, alex, and eddie&apos;s attributes that may have</span>
<span class="hljs-comment">// changed over the years.</span>
</code></pre>
<h2 id="t58get&#xFF08;&#x96C6;&#x5408;&#xFF09;">get&#xFF08;&#x96C6;&#x5408;&#xFF09; <a href="#t58get&#xFF08;&#x96C6;&#x5408;&#xFF09;"> # </a></h2>
<blockquote>
<p>collection.get(id) </p>
</blockquote>
<p>&#x901A;&#x8FC7;&#x4E00;&#x4E2A;id&#xFF0C;&#x4E00;&#x4E2A;cid&#xFF0C;&#x6216;&#x8005;&#x4F20;&#x9012;&#x4E00;&#x4E2A;model&#x6765; &#x83B7;&#x5F97;&#x96C6;&#x5408;&#x4E2D; &#x7684;&#x6A21;&#x578B;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> book = library.get(<span class="hljs-number">110</span>);
</code></pre>
<h2 id="t59at&#xFF08;&#x96C6;&#x5408;&#xFF09;">at&#xFF08;&#x96C6;&#x5408;&#xFF09; <a href="#t59at&#xFF08;&#x96C6;&#x5408;&#xFF09;"> # </a></h2>
<blockquote>
<p>collection.at(index) </p>
</blockquote>
<p>&#x83B7;&#x5F97;&#x96C6;&#x5408;&#x4E2D;&#x6307;&#x5B9A;&#x7D22;&#x5F15;&#x7684;&#x6A21;&#x578B;&#x3002;&#x4E0D;&#x8BBA;&#x4F60;&#x662F;&#x5426;&#x5BF9;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x4E86;&#x91CD;&#x65B0;&#x6392;&#x5E8F;&#xFF0C; at &#x59CB;&#x7EC8;&#x8FD4;&#x56DE;&#x5176;&#x5728;&#x96C6;&#x5408;&#x4E2D;&#x63D2;&#x5165;&#x65F6;&#x7684;&#x7D22;&#x5F15;&#x503C;&#x3002;</p>
<h2 id="t60push&#xFF08;&#x96C6;&#x5408;&#xFF09;">push&#xFF08;&#x96C6;&#x5408;&#xFF09; <a href="#t60push&#xFF08;&#x96C6;&#x5408;&#xFF09;"> # </a></h2>
<blockquote>
<p>collection.push(model, [options]) </p>
</blockquote>
<p>&#x5728;&#x96C6;&#x5408;&#x5C3E;&#x90E8;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x3002;&#x9009;&#x9879;&#x548C;add&#x76F8;&#x540C;&#x3002;</p>
<h2 id="t61pop&#xFF08;&#x96C6;&#x5408;&#xFF09;">pop&#xFF08;&#x96C6;&#x5408;&#xFF09; <a href="#t61pop&#xFF08;&#x96C6;&#x5408;&#xFF09;"> # </a></h2>
<blockquote>
<p>collection.pop([options]) </p>
</blockquote>
<p>&#x5220;&#x9664;&#x5E76;&#x4E14;&#x8FD4;&#x56DE;&#x96C6;&#x5408;&#x4E2D;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x3002;&#x9009;&#x9879;&#x548C;remove&#x76F8;&#x540C;&#x3002;</p>
<h2 id="t62unshift&#xFF08;&#x96C6;&#x5408;&#xFF09;">unshift&#xFF08;&#x96C6;&#x5408;&#xFF09; <a href="#t62unshift&#xFF08;&#x96C6;&#x5408;&#xFF09;"> # </a></h2>
<blockquote>
<p>collection.unshift(model, [options]) </p>
</blockquote>
<p>&#x5728;&#x96C6;&#x5408;&#x5F00;&#x59CB;&#x7684;&#x5730;&#x65B9;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x3002;&#x9009;&#x9879;&#x548C;add&#x76F8;&#x540C;&#x3002;</p>
<h2 id="t63shift&#xFF08;&#x96C6;&#x5408;&#xFF09;">shift&#xFF08;&#x96C6;&#x5408;&#xFF09; <a href="#t63shift&#xFF08;&#x96C6;&#x5408;&#xFF09;"> # </a></h2>
<blockquote>
<p>collection.shift([options]) </p>
</blockquote>
<p>&#x5220;&#x9664;&#x5E76;&#x4E14;&#x8FD4;&#x56DE;&#x96C6;&#x5408;&#x4E2D;&#x7B2C;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x3002;&#x9009;&#x9879;&#x548C;remove&#x76F8;&#x540C;&#x3002;</p>
<h2 id="t64slice&#xFF08;&#x96C6;&#x5408;&#xFF09;">slice&#xFF08;&#x96C6;&#x5408;&#xFF09; <a href="#t64slice&#xFF08;&#x96C6;&#x5408;&#xFF09;"> # </a></h2>
<blockquote>
<p>collection.slice(begin, end) </p>
</blockquote>
<p>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x7684;&#x6A21;&#x578B;&#x7684;&#x6D45;&#x62F7;&#x8D1D;&#x526F;&#x672C;&#xFF0C;&#x4F7F;&#x7528;&#x4E0E;&#x539F;&#x751F;Array#slice&#x76F8;&#x540C;&#x7684;&#x9009;&#x9879;&#x3002;</p>
<h2 id="t65length&#xFF08;&#x96C6;&#x5408;&#xFF09;">length&#xFF08;&#x96C6;&#x5408;&#xFF09; <a href="#t65length&#xFF08;&#x96C6;&#x5408;&#xFF09;"> # </a></h2>
<blockquote>
<p>collection.length </p>
</blockquote>
<p>&#x4E0E;&#x6570;&#x7EC4;&#x7C7B;&#x4F3C;&#xFF0C;&#x96C6;&#x5408;&#x62E5;&#x6709; length &#x5C5E;&#x6027;&#xFF0C;&#x8FD4;&#x56DE;&#x8BE5;&#x96C6;&#x5408;&#x5305;&#x542B;&#x7684;&#x6A21;&#x578B;&#x6570;&#x91CF;&#x3002;</p>
<h2 id="t66comparator&#xFF08;&#x96C6;&#x5408;&#xFF09;">comparator&#xFF08;&#x96C6;&#x5408;&#xFF09; <a href="#t66comparator&#xFF08;&#x96C6;&#x5408;&#xFF09;"> # </a></h2>
<blockquote>
<p>collection.comparator </p>
</blockquote>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x96C6;&#x5408;&#x6CA1;&#x6709;&#x58F0;&#x660E; comparator &#x51FD;&#x6570;&#x3002;&#x5982;&#x679C;&#x5B9A;&#x4E49;&#x4E86;&#x8BE5;&#x51FD;&#x6570;&#xFF0C;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6A21;&#x578B;&#x4F1A;&#x6309;&#x7167;&#x6307;&#x5B9A;&#x7684;&#x7B97;&#x6CD5;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x3002; &#x6362;&#x8A00;&#x4E4B;&#xFF0C;&#x88AB;&#x589E;&#x52A0;&#x6A21;&#x578B;&#xFF0C;&#x4F1A;&#x88AB;&#x63D2;&#x5165; collection.models&#x4E2D;&#x9002;&#x5408;&#x7684;&#x4F4D;&#x7F6E;&#x3002; comparator&#x53EF;&#x4EE5;&#x88AB;&#x5B9A;&#x4E49;&#x4E3A;sortBy&#xFF08;&#x4F20;&#x9012;&#x5E26;&#x6709;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x51FD;&#x6570;&#xFF09;&#xFF0C;  &#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;sort&#xFF08;&#x4F20;&#x9012;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x51FD;&#x6570;&#x9700;&#x8981;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF09;&#xFF0C; &#x6216;&#x8005;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x8868;&#x793A;&#x5C5E;&#x6027;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x3002;</p>
<p>&quot;sortBy&quot;&#x6BD4;&#x8F83;&#x51FD;&#x6570;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#xFF0C;&#x5E76;&#x4E14;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8BE5;&#x6A21;&#x578B;&#x76F8;&#x5BF9;&#x4E8E;&#x5176;&#x4ED6;&#x6A21;&#x578B;&#x7684;&#x6392;&#x5E8F;&#x6570;&#x5B57;&#x6216;&#x5B57;&#x7B26;&#x4E32;&#x503C;&#x3002;  &quot;sort&quot;&#x6BD4;&#x8F83;&#x51FD;&#x6570;&#x63A5;&#x53D7;&#x4E24;&#x4E2A;&#x6A21;&#x578B;&#xFF0C;&#x5E76;&#x4E14;&#xFF0C;&#x5982;&#x679C;&#x7B2C;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x5E94;&#x8BE5;&#x5728;&#x7B2C;&#x4E8C;&#x6A21;&#x578B;&#x4E2A;&#x4E4B;&#x524D;&#xFF0C;&#x8FD4;&#x56DE;-1&#xFF1B; &#x5982;&#x679C;&#x4ED6;&#x4EEC;&#x662F;&#x540C;&#x4E00;&#x7B49;&#x7EA7;&#x7684;&#xFF0C;&#x8FD4;&#x56DE;0&#xFF1B; &#x5982;&#x679C;&#x7B2C;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x5E94;&#x8BE5;&#x5728;&#x7B2C;&#x4E8C;&#x6A21;&#x578B;&#x4E2A;&#x4E4B;&#x540E;&#xFF0C;&#x8FD4;&#x56DE;1&#xFF1B; &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F; Backbone &#x8FD9;&#x4E24;&#x79CD;&#x98CE;&#x683C;&#x7684;&#x6BD4;&#x8F83;&#x529F;&#x80FD;&#x7684;&#x786E;&#x5B9A; &#x53D6;&#x51B3;&#x4E8E;&#x53C2;&#x6570;&#x4E2A;&#x6570;&#x3002;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x4F60;&#x7ED1;&#x5B9A;&#x4E86;&#x6BD4;&#x8F83;&#x51FD;&#x6570;&#xFF0C;&#x9700;&#x8981;&#x683C;&#x5916;&#x5C0F;&#x5FC3;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#x5373;&#x4F7F;&#x4E0B;&#x9762;&#x4F8B;&#x5B50;&#x4E2D;&#x7684; chapters &#x662F;&#x540E;&#x52A0;&#x5165;&#x5230;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#xFF0C;&#x4F46;&#x5B83;&#x4EEC;&#x90FD;&#x4F1A;&#x9075;&#x5FAA;&#x6B63;&#x786E;&#x7684;&#x6392;&#x5E8F;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Chapter  = Backbone.Model;
<span class="hljs-keyword">var</span> chapters = <span class="hljs-keyword">new</span> Backbone.Collection;

chapters.comparator = <span class="hljs-string">&apos;page&apos;</span>;

chapters.add(<span class="hljs-keyword">new</span> Chapter({page: <span class="hljs-number">9</span>, title: <span class="hljs-string">&quot;The End&quot;</span>}));
chapters.add(<span class="hljs-keyword">new</span> Chapter({page: <span class="hljs-number">5</span>, title: <span class="hljs-string">&quot;The Middle&quot;</span>}));
chapters.add(<span class="hljs-keyword">new</span> Chapter({page: <span class="hljs-number">1</span>, title: <span class="hljs-string">&quot;The Beginning&quot;</span>}));

alert(chapters.pluck(<span class="hljs-string">&apos;title&apos;</span>));
</code></pre>
<p>&#x5982;&#x679C;&#x4EE5;&#x540E;&#x66F4;&#x6539;&#x6A21;&#x578B;&#x5C5E;&#x6027;&#xFF0C;&#x5E26;&#x6709;&#x6BD4;&#x8F83;&#x51FD;&#x6570;&#x7684;&#x96C6;&#x5408;&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x91CD;&#x65B0;&#x6392;&#x5E8F;&#x3002; &#x6240;&#x4EE5;&#x4F60;&#x4E0D;&#x59A8;&#x6539;&#x53D8;&#x6A21;&#x578B;&#x7684;&#x5C5E;&#x6027;&#x540E;&#x8C03;&#x7528;sort&#xFF0C; &#x8FD9;&#x4F1A;&#x5F71;&#x54CD;&#x6392;&#x5E8F;&#x3002;</p>
<h2 id="t67sort">sort <a href="#t67sort"> # </a></h2>
<blockquote>
<p>collection.sort([options]) </p>
</blockquote>
<p>&#x5F3A;&#x5236;&#x5BF9;&#x96C6;&#x5408;&#x8FDB;&#x884C;&#x91CD;&#x6392;&#x5E8F;&#x3002;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x9700;&#x8981;&#x8C03;&#x7528;&#x672C;&#x51FD;&#x6570;&#xFF0C;&#x56E0;&#x4E3A;&#x5F53;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x88AB;&#x6DFB;&#x52A0;&#x65F6;&#xFF0C; comparator &#x51FD;&#x6570;&#x4F1A;&#x5B9E;&#x65F6;&#x6392;&#x5E8F;&#x3002;&#x8981;&#x7981;&#x7528;&#x6DFB;&#x52A0;&#x6A21;&#x578B;&#x65F6;&#x7684;&#x6392;&#x5E8F;&#xFF0C;&#x53EF;&#x4EE5;&#x4F20;&#x9012;{sort: false}&#x7ED9;add&#x3002; &#x8C03;&#x7528;sort&#x4F1A;&#x89E6;&#x53D1;&#x7684;&#x96C6;&#x5408;&#x7684;&quot;sort&quot;&#x4E8B;&#x4EF6;&#x3002;</p>
<h2 id="t68pluck">pluck <a href="#t68pluck"> # </a></h2>
<blockquote>
<p>collection.pluck(attribute) </p>
</blockquote>
<p>&#x4ECE;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x6A21;&#x578B;&#x4E2D;&#x62C9;&#x53D6; attribute&#xFF08;&#x5C5E;&#x6027;&#xFF09;&#x3002;&#x7B49;&#x4EF7;&#x4E8E;&#x8C03;&#x7528; map&#xFF0C;&#x5E76;&#x4ECE;&#x8FED;&#x4EE3;&#x5668;&#x4E2D;&#x8FD4;&#x56DE;&#x5355;&#x4E2A;&#x5C5E;&#x6027;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> stooges = <span class="hljs-keyword">new</span> Backbone.Collection([
  {name: <span class="hljs-string">&quot;Curly&quot;</span>},
  {name: <span class="hljs-string">&quot;Larry&quot;</span>},
  {name: <span class="hljs-string">&quot;Moe&quot;</span>}
]);

<span class="hljs-keyword">var</span> names = stooges.pluck(<span class="hljs-string">&quot;name&quot;</span>);

alert(<span class="hljs-built_in">JSON</span>.stringify(names));
</code></pre>
<h2 id="t69where">where <a href="#t69where"> # </a></h2>
<blockquote>
<p>collection.where(attributes) </p>
</blockquote>
<p>&#x8FD4;&#x56DE;&#x96C6;&#x5408;&#x4E2D;&#x6240;&#x6709;&#x5339;&#x914D;&#x6240;&#x4F20;&#x9012; attributes&#xFF08;&#x5C5E;&#x6027;&#xFF09;&#x7684;&#x6A21;&#x578B;&#x6570;&#x7EC4;&#x3002; &#x5BF9;&#x4E8E;&#x7B80;&#x5355;&#x7684;filter&#xFF08;&#x8FC7;&#x6EE4;&#xFF09;&#x6BD4;&#x8F83;&#x6709;&#x7528;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> friends = <span class="hljs-keyword">new</span> Backbone.Collection([
  {name: <span class="hljs-string">&quot;Athos&quot;</span>,      job: <span class="hljs-string">&quot;Musketeer&quot;</span>},
  {name: <span class="hljs-string">&quot;Porthos&quot;</span>,    job: <span class="hljs-string">&quot;Musketeer&quot;</span>},
  {name: <span class="hljs-string">&quot;Aramis&quot;</span>,     job: <span class="hljs-string">&quot;Musketeer&quot;</span>},
  {name: <span class="hljs-string">&quot;d&apos;Artagnan&quot;</span>, job: <span class="hljs-string">&quot;Guard&quot;</span>},
]);
<span class="hljs-keyword">var</span> musketeers = friends.where({job: <span class="hljs-string">&quot;Musketeer&quot;</span>});
alert(musketeers.length);
</code></pre>
<h2 id="t70findWhere">findWhere <a href="#t70findWhere"> # </a></h2>
<blockquote>
<p>collection.findWhere(attributes) </p>
</blockquote>
<p>&#x5C31;&#x50CF;where&#xFF0C; &#x4E0D;&#x540C;&#x7684;&#x662F;findWhere&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x5339;&#x914D;&#x6240;&#x4F20;&#x9012; attributes&#xFF08;&#x5C5E;&#x6027;&#xFF09;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x3002;</p>
<h2 id="t71collection.url">collection.url <a href="#t71collection.url"> # </a></h2>
<blockquote>
<p>collection.url or collection.url() </p>
</blockquote>
<p>&#x8BBE;&#x7F6E; url &#x5C5E;&#x6027;&#xFF08;&#x6216;&#x51FD;&#x6570;&#xFF09;&#x4EE5;&#x6307;&#x5B9A;&#x96C6;&#x5408;&#x5BF9;&#x5E94;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4F4D;&#x7F6E;&#x3002;&#x96C6;&#x5408;&#x5185;&#x7684;&#x6A21;&#x578B;&#x4F7F;&#x7528; url &#x6784;&#x9020;&#x81EA;&#x8EAB;&#x7684; URLs&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Notes = Backbone.Collection.extend({
  url: <span class="hljs-string">&apos;/notes&apos;</span>
});

<span class="hljs-comment">// Or, something more sophisticated:</span>

<span class="hljs-keyword">var</span> Notes = Backbone.Collection.extend({
  url: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.document.url() + <span class="hljs-string">&apos;/notes&apos;</span>;
  }
});
</code></pre>
<h2 id="t72parse">parse <a href="#t72parse"> # </a></h2>
<blockquote>
<p>collection.parse(response, options) </p>
</blockquote>
<p>&#x6BCF;&#x4E00;&#x6B21;&#x8C03;&#x7528; fetch &#x4ECE;&#x670D;&#x52A1;&#x5668;&#x62C9;&#x53D6;&#x96C6;&#x5408;&#x7684;&#x6A21;&#x578B;&#x6570;&#x636E;&#x65F6;&#xFF0C;parse&#x90FD;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002; &#x672C;&#x51FD;&#x6570;&#x63A5;&#x6536;&#x539F;&#x59CB; response &#x5BF9;&#x8C61;&#xFF0C;&#x8FD4;&#x56DE;&#x53EF;&#x4EE5; added&#xFF08;&#x6DFB;&#x52A0;&#xFF09; &#x5230;&#x96C6;&#x5408;&#x7684;&#x6A21;&#x578B;&#x5C5E;&#x6027;&#x6570;&#x7EC4;&#x3002; &#x9ED8;&#x8BA4;&#x5B9E;&#x73B0;&#x662F;&#x65E0;&#x9700;&#x64CD;&#x4F5C;&#x7684;&#xFF0C;&#x53EA;&#x9700;&#x7B80;&#x5355;&#x4F20;&#x5165;&#x670D;&#x52A1;&#x7AEF;&#x8FD4;&#x56DE;&#x7684;JSON&#x5BF9;&#x8C61;&#x3002; &#x5982;&#x679C;&#x9700;&#x8981;&#x5904;&#x7406;&#x9057;&#x7559;API&#xFF0C;&#x6216;&#x8005;&#x5728;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x5B9A;&#x4E49;&#x81EA;&#x5DF1;&#x7684;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#xFF0C;&#x53EF;&#x4EE5;&#x91CD;&#x5199;&#x672C;&#x51FD;&#x6570;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Tweets = Backbone.Collection.extend({
  <span class="hljs-comment">// The Twitter Search API returns tweets under &quot;results&quot;.</span>
  parse: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
    <span class="hljs-keyword">return</span> response.results;
  }
});
</code></pre>
<h2 id="t73clone">clone <a href="#t73clone"> # </a></h2>
<blockquote>
<p>collection.clone() </p>
</blockquote>
<p>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x5217;&#x8868;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x96C6;&#x5408;&#x65B0;&#x5B9E;&#x4F8B;&#x3002;</p>
<h2 id="t74fetch">fetch <a href="#t74fetch"> # </a></h2>
<blockquote>
<p>collection.fetch([options]) </p>
</blockquote>
<p>&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x62C9;&#x53D6;&#x96C6;&#x5408;&#x7684;&#x9ED8;&#x8BA4;&#x6A21;&#x578B;&#x8BBE;&#x7F6E; &#xFF0C;&#x6210;&#x529F;&#x63A5;&#x6536;&#x6570;&#x636E;&#x540E;&#x4F1A;setting&#xFF08;&#x8BBE;&#x7F6E;&#xFF09;&#x96C6;&#x5408;&#x3002; options &#x652F;&#x6301; success &#x548C; error &#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x4E24;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x63A5;&#x6536; (collection, response, options)&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x3002;&#x5F53;&#x6A21;&#x578B;&#x6570;&#x636E;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x65F6;&#xFF0C; &#x5B83;&#x4F7F;&#x7528; set&#x6765;&#xFF08;&#x667A;&#x80FD;&#x7684;&#xFF09;&#x5408;&#x5E76;&#x6240;&#x83B7;&#x53D6;&#x5230;&#x7684;&#x6A21;&#x578B;&#xFF0C; &#x9664;&#x975E;&#x4F60;&#x4F20;&#x9012;&#x4E86; {reset: true}&#xFF0C; &#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x96C6;&#x5408;&#x5C06;&#xFF08;&#x6709;&#x6548;&#x5730;&#xFF09;&#x91CD;&#x7F6E;&#x3002; &#x53EF;&#x4EE5;&#x59D4;&#x6258;Backbone.sync &#x5728;&#x5E55;&#x540E;&#x81EA;&#x5B9A;&#x4E49;&#x6301;&#x4E45;&#x6027;&#x7B56;&#x7565; &#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;jqXHR&#x3002; fetch&#x8BF7;&#x6C42;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5904;&#x7406;&#x5668;&#x5E94;&#x8BE5;&#x8FD4;&#x56DE;&#x6A21;&#x578B;JSON&#x6570;&#x7EC4;&#x3002;</p>
<pre><code class="lang-js">Backbone.sync = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">method, model</span>) </span>{
  alert(method + <span class="hljs-string">&quot;: &quot;</span> + model.url);
};

<span class="hljs-keyword">var</span> accounts = <span class="hljs-keyword">new</span> Backbone.Collection;
accounts.url = <span class="hljs-string">&apos;/accounts&apos;</span>;

accounts.fetch();
</code></pre>
<p><strong>fetch</strong>&#x884C;&#x4E3A;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x6709;&#x6548;&#x7684;set&#x9009;&#x9879;&#x8FDB;&#x884C;&#x5B9A;&#x5236;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x8981;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6A21;&#x578B;&#x4F1A;&#x5F97;&#x5230;&#x4E00;&#x4E2A; &quot;add&quot;&#x4E8B;&#x4EF6;&#xFF0C;&#x548C;&#x6BCF;&#x6539;&#x53D8;&#x73B0;&#x6709;&#x7684;&#x6A21;&#x578B;&#x7684; &quot;change&quot;&#x4E8B;&#x4EF6;&#xFF0C; &#x4E0D;&#x5220;&#x9664;&#x4EFB;&#x4F55;&#x4E1C;&#x897F;&#xFF1A; collection.fetch({remove: false})</p>
<p><strong>jQuery.ajax</strong>&#x9009;&#x9879;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F20;&#x9012;&#x4F5C;&#x4E3A; fetch&#x9009;&#x9879;&#xFF0C; &#x6240;&#x4EE5;&#x8981;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x5206;&#x9875;&#x96C6;&#x5408;&#x7684;&#x7279;&#x5B9A;&#x9875;&#x9762;&#x4F7F;&#x7528;&#xFF1A;Documents.fetch({data: {page: 3}})&#x3002;</p>
<p>&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F; fetch &#x4E0D;&#x5E94;&#x8BE5;&#x88AB;&#x7528;&#x6765;&#x5728;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x5B8C;&#x6BD5;&#x65F6;&#x586B;&#x5145;&#x96C6;&#x5408;&#x6570;&#x636E; &#x2014; &#x6240;&#x6709;&#x9875;&#x9762;&#x521D;&#x59CB;&#x6570;&#x636E;&#x5E94;&#x5F53;&#x5728; bootstrapped &#x65F6;&#x5DF2;&#x7ECF;&#x5C31;&#x7EEA;&#x3002; fetch &#x9002;&#x7528;&#x4E8E;&#x60F0;&#x6027;&#x52A0;&#x8F7D;&#x4E0D;&#x9700;&#x7ACB;&#x523B;&#x5C55;&#x73B0;&#x7684;&#x6A21;&#x578B;&#x6570;&#x636E;&#xFF1A;&#x4F8B;&#x5982;&#xFF1A;&#x4F8B;&#x5982;&#x6587;&#x6863;&#x4E2D; &#x53EF;&#x5207;&#x6362;&#x6253;&#x5F00;&#x548C;&#x5173;&#x95ED;&#x7684;&#x9009;&#x9879;&#x5361;&#x5185;&#x5BB9;&#x3002;</p>
<h2 id="t75create">create <a href="#t75create"> # </a></h2>
<blockquote>
<p>collection.create(attributes, [options]) </p>
</blockquote>
<p>&#x65B9;&#x4FBF;&#x7684;&#x5728;&#x96C6;&#x5408;&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x7684;&#x65B0;&#x5B9E;&#x4F8B;&#x3002; &#x76F8;&#x5F53;&#x4E8E;&#x4F7F;&#x7528;&#x5C5E;&#x6027;&#x54C8;&#x5E0C;&#xFF08;&#x952E;&#x503C;&#x5BF9;&#x8C61;&#xFF09;&#x5B9E;&#x4F8B;&#x5316;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#xFF0C; &#x7136;&#x540E;&#x5C06;&#x8BE5;&#x6A21;&#x578B;&#x4FDD;&#x5B58;&#x5230;&#x670D;&#x52A1;&#x5668;&#xFF0C; &#x521B;&#x5EFA;&#x6210;&#x529F;&#x540E;&#x5C06;&#x6A21;&#x578B;&#x6DFB;&#x52A0;&#x5230;&#x96C6;&#x5408;&#x4E2D;&#x3002; &#x8FD4;&#x56DE;&#x8FD9;&#x4E2A;&#x65B0;&#x6A21;&#x578B;&#x3002; &#x5982;&#x679C;&#x5BA2;&#x6237;&#x7AEF;&#x9A8C;&#x8BC1;&#x5931;&#x8D25;&#xFF0C;&#x8BE5;&#x6A21;&#x578B;&#x5C06;&#x4E0D;&#x4F1A;&#x88AB;&#x4FDD;&#x5B58;&#xFF0C; &#x4E0E;&#x9A8C;&#x8BC1;&#x9519;&#x8BEF;&#x3002; &#x4E3A;&#x4E86;&#x80FD;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x96C6;&#x5408;&#x4E2D;&#x8BBE;&#x7F6E; model &#x5C5E;&#x6027;&#x3002; create &#x65B9;&#x6CD5;&#x63A5;&#x6536;&#x952E;&#x503C;&#x5BF9;&#x8C61;&#x6216;&#x8005;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x5C1A;&#x672A;&#x4FDD;&#x5B58;&#x7684;&#x6A21;&#x578B;&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x3002;</p>
<p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x5C06;&#x7ACB;&#x5373;&#x89E6;&#x53D1;&#x96C6;&#x5408;&#x4E0A;&#x7684;&quot;add&quot;&#x4E8B;&#x4EF6;&#xFF0C; &#x4E00;&#x4E2A;&quot;request&quot;&#x7684;&#x4E8B;&#x4EF6;&#x4F5C;&#x4E3A;&#x65B0;&#x7684;&#x6A21;&#x578B;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#xFF0C; &#x8FD8;&#x6709;&#x4E00;&#x4E2A; &quot;sync&quot; &#x201D;&#x4E8B;&#x4EF6;&#xFF0C;&#x4E00;&#x65E6;&#x670D;&#x52A1;&#x5668;&#x54CD;&#x5E94;&#x6210;&#x529F;&#x521B;&#x5EFA;&#x6A21;&#x578B;&#x3002; &#x5982;&#x679C;&#x4F60;&#x60F3;&#x5728;&#x96C6;&#x5408;&#x4E2D;&#x6DFB;&#x52A0;&#x8FD9;&#x4E2A;&#x6A21;&#x578B;&#x524D;&#x7B49;&#x5F85;&#x670D;&#x52A1;&#x5668;&#x76F8;&#x5E94;&#xFF0C;&#x8BF7;&#x4F20;&#x9012;{wait: true}&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Library = Backbone.Collection.extend({
  model: Book
});

<span class="hljs-keyword">var</span> nypl = <span class="hljs-keyword">new</span> Library;

<span class="hljs-keyword">var</span> othello = nypl.create({
  title: <span class="hljs-string">&quot;Othello&quot;</span>,
  author: <span class="hljs-string">&quot;William Shakespeare&quot;</span>
});
</code></pre>
<h1 id="t76Backbone.Router&#xFF08;&#x8DEF;&#x7531;&#xFF09;">Backbone.Router&#xFF08;&#x8DEF;&#x7531;&#xFF09; <a href="#t76Backbone.Router&#xFF08;&#x8DEF;&#x7531;&#xFF09;"> # </a></h1>
<p>web&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x901A;&#x5E38;&#x9700;&#x8981;&#x4E3A;&#x5E94;&#x7528;&#x7684;&#x91CD;&#x8981;&#x4F4D;&#x7F6E;&#x63D0;&#x4F9B;&#x53EF;&#x94FE;&#x63A5;&#xFF0C;&#x53EF;&#x6536;&#x85CF;&#xFF0C;&#x53EF;&#x5206;&#x4EAB;&#x7684; URLs&#x3002; &#x76F4;&#x5230;&#x6700;&#x8FD1;&#xFF0C; &#x732B;&#x70B9;&#xFF08;hash&#xFF09;&#x7247;&#x6BB5;&#xFF08;#page&#xFF09;&#x53EF;&#x4EE5;&#x88AB;&#x7528;&#x6765;&#x63D0;&#x4F9B;&#x8FD9;&#x79CD;&#x94FE;&#x63A5;&#xFF0C; &#x540C;&#x65F6;&#x968F;&#x7740; History API &#x7684;&#x5230;&#x6765;&#xFF0C;&#x732B;&#x70B9;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x5904;&#x7406;&#x6807;&#x51C6; URLs &#xFF08;/page&#xFF09;&#x3002; Backbone.Router &#x4E3A;&#x5BA2;&#x6237;&#x7AEF;&#x8DEF;&#x7531;&#x63D0;&#x4F9B;&#x4E86;&#x8BB8;&#x591A;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x80FD;&#x8FDE;&#x63A5;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x52A8;&#x4F5C;&#xFF08;actions&#xFF09;&#x548C;&#x4E8B;&#x4EF6;&#xFF08;events&#xFF09;&#x3002; &#x5BF9;&#x4E8E;&#x4E0D;&#x652F;&#x6301; History API &#x7684;&#x65E7;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x8DEF;&#x7531;&#x63D0;&#x4F9B;&#x4E86;&#x4F18;&#x96C5;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x5E76;&#x53EF;&#x4EE5;&#x900F;&#x660E;&#x7684;&#x8FDB;&#x884C; URL &#x7247;&#x6BB5;&#x7684;&#x8F6C;&#x6362;&#x3002;</p>
<p>&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x671F;&#x95F4;&#xFF0C;&#x5F53;&#x5E94;&#x7528;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;&#x4E86;&#x6240;&#x6709;&#x7684;&#x8DEF;&#x7531;&#xFF0C;&#x9700;&#x8981;&#x8C03;&#x7528; Backbone.history.start()&#xFF0C;&#x6216; Backbone.history.start({pushState: true}) &#x6765;&#x786E;&#x4FDD;&#x9A71;&#x52A8;&#x521D;&#x59CB;&#x5316; URL &#x7684;&#x8DEF;&#x7531;&#x3002;</p>
<h2 id="t77extend">extend <a href="#t77extend"> # </a></h2>
<blockquote>
<p>Backbone.Router.extend(properties, [classProperties]) </p>
</blockquote>
<p>&#x5F00;&#x59CB;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x8DEF;&#x7531;&#x7C7B;&#x3002;&#x5F53;&#x5339;&#x914D;&#x4E86; URL &#x7247;&#x6BB5;&#x4FBF;&#x6267;&#x884C;&#x5B9A;&#x4E49;&#x7684;&#x52A8;&#x4F5C;&#xFF0C;&#x5E76;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; routes &#x5B9A;&#x4E49;&#x8DEF;&#x7531;&#x52A8;&#x4F5C;&#x952E;&#x503C;&#x5BF9;&#x3002; &#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x4F60;&#x8981;&#x907F;&#x514D;&#x5728;&#x8DEF;&#x7531;&#x5B9A;&#x4E49;&#x65F6;&#x4F7F;&#x7528;&#x524D;&#x5BFC;&#x659C;&#x6760;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Workspace = Backbone.Router.extend({

  routes: {
    <span class="hljs-string">&quot;help&quot;</span>:                 <span class="hljs-string">&quot;help&quot;</span>,    <span class="hljs-comment">// #help</span>
    <span class="hljs-string">&quot;search/:query&quot;</span>:        <span class="hljs-string">&quot;search&quot;</span>,  <span class="hljs-comment">// #search/kiwis</span>
    <span class="hljs-string">&quot;search/:query/p:page&quot;</span>: <span class="hljs-string">&quot;search&quot;</span>   <span class="hljs-comment">// #search/kiwis/p7</span>
  },

  help: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    ...
  },

  search: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">query, page</span>) </span>{
    ...
  }

});
</code></pre>
<h2 id="t78routes">routes <a href="#t78routes"> # </a></h2>
<blockquote>
<p>router.routes </p>
</blockquote>
<p>routes &#x5C06;&#x5E26;&#x53C2;&#x6570;&#x7684; URLs &#x6620;&#x5C04;&#x5230;&#x8DEF;&#x7531;&#x5B9E;&#x4F8B;&#x7684;&#x65B9;&#x6CD5;&#x4E0A;&#xFF08;&#x6216;&#x53EA;&#x662F;&#x76F4;&#x63A5;&#x7684;&#x51FD;&#x6570;&#x5B9A;&#x4E49;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x559C;&#x6B22;&#xFF09;&#xFF0C;&#x8FD9;&#x4E0E; View&#xFF08;&#x89C6;&#x56FE;&#xFF09; &#x7684; events hash&#xFF08;&#x4E8B;&#x4EF6;&#x952E;&#x503C;&#x5BF9;&#xFF09; &#x975E;&#x5E38;&#x7C7B;&#x4F3C;&#x3002; &#x8DEF;&#x7531;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x53C2;&#x6570;&#xFF0C; :param&#xFF0C;&#x5B83;&#x5728;&#x659C;&#x7EBF;&#x4E4B;&#x95F4;&#x5339;&#x914D; URL &#x7EC4;&#x4EF6;&#x3002; &#x8DEF;&#x7531;&#x4E5F;&#x652F;&#x6301;&#x901A;&#x914D;&#x7B26;&#xFF0C; *splat&#xFF0C;&#x53EF;&#x4EE5;&#x5339;&#x914D;&#x591A;&#x4E2A; URL &#x7EC4;&#x4EF6;&#x3002; &#x8DEF;&#x7531;&#x7684;&#x53EF;&#x9009;&#x90E8;&#x5206;&#x653E;&#x5728;&#x62EC;&#x53F7;&#x4E2D;(/:optional)&#x3002;</p>
<p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x8DEF;&#x7531; <code>&quot;search/:query/p:page&quot;</code> &#x80FD;&#x5339;&#x914D;<code>#search/obama/p2</code> , &#x8FD9;&#x91CC;&#x4F20;&#x5165;&#x4E86; &quot;obama&quot; &#x548C; &quot;2&quot; &#x5230;&#x8DEF;&#x7531;&#x5BF9;&#x5E94;&#x7684;&#x52A8;&#x4F5C;&#x4E2D;&#x53BB;&#x4E86;&#x3002;</p>
<p>&#x8DEF;&#x7531; <code>&quot;file/*path&quot;</code>&#x53EF;&#x4EE5;&#x5339;&#x914D; <code>#file/nested/folder/file.txt</code>&#xFF0C;&#x8FD9;&#x65F6;&#x4F20;&#x5165;&#x52A8;&#x4F5C;&#x7684;&#x53C2;&#x6570;&#x4E3A; <code>&quot;nested/folder/file.txt&quot;</code>&#x3002;</p>
<p>&#x8DEF;&#x7531; <code>&quot;docs/:section(/:subsection)&quot;</code>&#x53EF;&#x4EE5;&#x5339;&#x914D;<code>#docs/faq</code> &#x548C; <code>#docs/faq/installing</code>&#xFF0C;&#x7B2C;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x4F20;&#x5165; <code>&quot;faq&quot;</code> &#x5230;&#x8DEF;&#x7531;&#x5BF9;&#x5E94;&#x7684;&#x52A8;&#x4F5C;&#x4E2D;&#x53BB;&#xFF0C; &#x7B2C;&#x4E8C;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x4F20;&#x5165;<code>&quot;faq&quot;</code> &#x548C; <code>&quot;installing&quot;</code> &#x5230;&#x8DEF;&#x7531;&#x5BF9;&#x5E94;&#x7684;&#x52A8;&#x4F5C;&#x4E2D;&#x53BB;&#x3002;</p>
<p>&#x7ED3;&#x5C3E;&#x7684;&#x659C;&#x6760;&#x4F1A;&#x88AB;&#x5F53;&#x4F5C;URL&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C; &#x8BBF;&#x95EE;&#x65F6;&#x4F1A;&#x88AB;&#xFF08;&#x6B63;&#x786E;&#x5730;&#xFF09;&#x5F53;&#x4F5C;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x8DEF;&#x7531;&#x3002; docs &#x548C; docs/&#x5C06;&#x89E6;&#x53D1;&#x4E0D;&#x540C;&#x7684;&#x56DE;&#x8C03;&#x3002; &#x5982;&#x679C;&#x4F60;&#x4E0D;&#x80FD;&#x907F;&#x514D;&#x4EA7;&#x751F;&#x8FD9;&#x4E24;&#x79CD;&#x7C7B;&#x578B;&#x7684;URLs&#x65F6;&#xFF0C; &#x4F60;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&quot;docs(/)&quot;&#x6765;&#x5339;&#x914D;&#x6355;&#x6349;&#x8FD9;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x3002;</p>
<p>&#x5F53;&#x8BBF;&#x95EE;&#x8005;&#x70B9;&#x51FB;&#x6D4F;&#x89C8;&#x5668;&#x540E;&#x9000;&#x6309;&#x94AE;&#xFF0C;&#x6216;&#x8005;&#x8F93;&#x5165; URL &#xFF0C;&#x5982;&#x679C;&#x5339;&#x914D;&#x4E00;&#x4E2A;&#x8DEF;&#x7531;&#xFF0C;&#x6B64;&#x65F6;&#x4F1A;&#x89E6;&#x53D1;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;&#x52A8;&#x4F5C;&#x540D;&#x79F0;&#x7684; event&#xFF0C; &#x5176;&#x5B83;&#x5BF9;&#x8C61;&#x53EF;&#x4EE5;&#x76D1;&#x542C;&#x8FD9;&#x4E2A;&#x8DEF;&#x7531;&#x5E76;&#x63A5;&#x6536;&#x5230;&#x901A;&#x77E5;&#x3002; &#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x7528;&#x6237;&#x8BBF;&#x95EE; #help/uploading &#x5C06;&#x4ECE;&#x8DEF;&#x7531;&#x4E2D;&#x89E6;&#x53D1; route:help &#x4E8B;&#x4EF6;&#x3002;</p>
<pre><code class="lang-js">routes: {
  <span class="hljs-string">&quot;help/:page&quot;</span>:         <span class="hljs-string">&quot;help&quot;</span>,
  <span class="hljs-string">&quot;download/*path&quot;</span>:     <span class="hljs-string">&quot;download&quot;</span>,
  <span class="hljs-string">&quot;folder/:name&quot;</span>:       <span class="hljs-string">&quot;openFolder&quot;</span>,
  <span class="hljs-string">&quot;folder/:name-:mode&quot;</span>: <span class="hljs-string">&quot;openFolder&quot;</span>
}
router.on(<span class="hljs-string">&quot;route:help&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">page</span>) </span>{
  ...
});
</code></pre>
<h2 id="t79constructor / initialize">constructor / initialize <a href="#t79constructor / initialize"> # </a></h2>
<blockquote>
<p>new Router([options]) </p>
</blockquote>
<p>&#x5F53;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x8DEF;&#x7531;&#x662F;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F20;&#x5165; routes &#x952E;&#x503C;&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x3002; &#x5982;&#x679C;&#x5B9A;&#x4E49;&#x8BE5;&#x53C2;&#x6570;&#xFF0C; &#x5B83;&#x4EEC;&#x5C06;&#x88AB;&#x4F20;&#x5165; initialize &#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#x521D;&#x59CB;&#x5316;&#x3002;</p>
<h2 id="t80route">route <a href="#t80route"> # </a></h2>
<blockquote>
<p>router.route(route, name, [callback]) </p>
</blockquote>
<p>&#x4E3A;&#x8DEF;&#x7531;&#x5BF9;&#x8C61;&#x624B;&#x52A8;&#x521B;&#x5EFA;&#x8DEF;&#x7531;&#xFF0C;route &#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x662F; routing string&#xFF08;&#x8DEF;&#x7531;&#x5B57;&#x7B26;&#x4E32;&#xFF09; &#x6216; &#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x3002; &#x6BCF;&#x4E2A;&#x6355;&#x6349;&#x5230;&#x7684;&#x88AB;&#x4F20;&#x5165;&#x7684;&#x8DEF;&#x7531;&#x6216;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x90FD;&#x5C06;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x5165;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF08;callback&#xFF09;&#x3002; &#x4E00;&#x65E6;&#x8DEF;&#x7531;&#x5339;&#x914D;&#xFF0C; name &#x53C2;&#x6570;&#x4F1A;&#x89E6;&#x53D1; &quot;route:name&quot; &#x4E8B;&#x4EF6;&#x3002;&#x5982;&#x679C;callback&#x53C2;&#x6570;&#x7701;&#x7565; router[name]&#x5C06;&#x88AB;&#x7528;&#x6765;&#x4EE3;&#x66FF;&#x3002; &#x540E;&#x6765;&#x6DFB;&#x52A0;&#x7684;&#x8DEF;&#x7531;&#x53EF;&#x4EE5;&#x8986;&#x76D6;&#x5148;&#x524D;&#x58F0;&#x660E;&#x7684;&#x8DEF;&#x7531;&#x3002;</p>
<pre><code class="lang-js">initialize: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) </span>{

  <span class="hljs-comment">// Matches #page/10, passing &quot;10&quot;</span>
  <span class="hljs-keyword">this</span>.route(<span class="hljs-string">&quot;page/:number&quot;</span>, <span class="hljs-string">&quot;page&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">number</span>)</span>{ ... });

  <span class="hljs-comment">// Matches /117-a/b/c/open, passing &quot;117-a/b/c&quot; to this.open</span>
  <span class="hljs-keyword">this</span>.route(<span class="hljs-regexp">/^(.*?)\/open$/</span>, <span class="hljs-string">&quot;open&quot;</span>);

},

open: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{ ... }
</code></pre>
<h2 id="t81navigate">navigate <a href="#t81navigate"> # </a></h2>
<blockquote>
<p>router.navigate(fragment, [options]) </p>
</blockquote>
<p>&#x6BCF;&#x5F53;&#x4F60;&#x8FBE;&#x5230;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7684;&#x4E00;&#x4E2A;&#x70B9;&#x65F6;&#xFF0C;&#x4F60;&#x60F3;&#x4FDD;&#x5B58;&#x4E3A;&#x4E00;&#x4E2A;URL&#xFF0C;  &#x53EF;&#x4EE5;&#x8C03;&#x7528;navigate&#x4EE5;&#x66F4;&#x65B0;&#x7684;URL&#x3002; &#x5982;&#x679C;&#x60A8;&#x4E5F;&#x60F3;&#x8C03;&#x7528;&#x8DEF;&#x7531;&#x529F;&#x80FD;&#xFF0C; &#x8BBE;&#x7F6E;trigger&#x9009;&#x9879;&#x8BBE;&#x7F6E;&#x4E3A;true&#x3002; &#x65E0;&#x9700;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x521B;&#x5EFA;&#x6761;&#x76EE;&#x6765;&#x66F4;&#x65B0;URL&#xFF0C;  &#x8BBE;&#x7F6E; replace&#x9009;&#x9879;&#x8BBE;&#x7F6E;&#x4E3A;true&#x3002;</p>
<pre><code class="lang-js">openPage: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">pageNumber</span>) </span>{
  <span class="hljs-keyword">this</span>.document.pages.at(pageNumber).open();
  <span class="hljs-keyword">this</span>.navigate(<span class="hljs-string">&quot;page/&quot;</span> + pageNumber);
}

<span class="hljs-comment">// Or ...</span>
app.navigate(<span class="hljs-string">&quot;help/troubleshooting&quot;</span>, {trigger: <span class="hljs-literal">true</span>});

<span class="hljs-comment">// Or ...</span>
app.navigate(<span class="hljs-string">&quot;help/troubleshooting&quot;</span>, {trigger: <span class="hljs-literal">true</span>, replace: <span class="hljs-literal">true</span>});
</code></pre>
<h2 id="t82execute">execute <a href="#t82execute"> # </a></h2>
<blockquote>
<p>router.execute(callback, args) </p>
</blockquote>
<p>&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x5728;&#x8DEF;&#x7531;&#x5185;&#x90E8;&#x88AB;&#x8C03;&#x7528;&#xFF0C;  &#x6BCF;&#x5F53;&#x8DEF;&#x7531;&#x548C;&#x5176;&#x76F8;&#x5E94;&#x7684;callback&#x5339;&#x914D;&#x65F6;&#x88AB;&#x6267;&#x884C;&#x3002; &#x8986;&#x76D6;&#x5B83;&#x6765;&#x6267;&#x884C;&#x81EA;&#x5B9A;&#x4E49;&#x89E3;&#x6790;&#x6216;&#x5305;&#x88C5;&#x8DEF;&#x7531;&#xFF0C; &#x4F8B;&#x5982;&#xFF0C; &#x5728;&#x4F20;&#x9012;&#x4ED6;&#x4EEC;&#x7ED9;&#x4F60;&#x7684;&#x8DEF;&#x7531;&#x56DE;&#x8C03;&#x4E4B;&#x524D;&#x89E3;&#x6790;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x50CF;&#x8FD9;&#x6837;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Router = Backbone.Router.extend({
  execute: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback, args</span>) </span>{
    args.push(parseQueryString(args.pop()));
    <span class="hljs-keyword">if</span> (callback) callback.apply(<span class="hljs-keyword">this</span>, args);
  }
});
</code></pre>
<h1 id="t83Backbone.history">Backbone.history <a href="#t83Backbone.history"> # </a></h1>
<p><strong>History</strong> &#x4F5C;&#x4E3A;&#x5168;&#x5C40;&#x8DEF;&#x7531;&#x670D;&#x52A1;&#x7528;&#x4E8E;&#x5904;&#x7406; hashchange &#x4E8B;&#x4EF6;&#x6216; pushState&#xFF0C;&#x5339;&#x914D;&#x9002;&#x5408;&#x7684;&#x8DEF;&#x7531;&#xFF0C;&#x5E76;&#x89E6;&#x53D1;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002; &#x6211;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53BB;&#x505A;&#x8FD9;&#x4E9B;&#x4E8B;&#x60C5; &#x2014; &#x5982;&#x679C;&#x4F7F;&#x7528;&#x5E26;&#x6709;&#x952E;&#x503C;&#x5BF9;&#x7684; &#x8DEF;&#x7531;&#xFF0C;Backbone.history &#x4F1A;&#x88AB;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x3002;</p>
<p>Backbone &#x4F1A;&#x81EA;&#x52A8;&#x5224;&#x65AD;&#x6D4F;&#x89C8;&#x5668;&#x5BF9; <code>pushState</code> &#x7684;&#x652F;&#x6301;&#xFF0C;&#x4EE5;&#x505A;&#x5185;&#x90E8;&#x7684;&#x9009;&#x62E9;&#x3002; &#x4E0D;&#x652F;&#x6301; <code>pushState</code> &#x7684;&#x6D4F;&#x89C8;&#x5668;&#x5C06;&#x4F1A;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x57FA;&#x4E8E;&#x732B;&#x70B9;&#x7684; URL &#x7247;&#x6BB5;&#xFF0C; &#x5982;&#x679C;&#x517C;&#x5BB9; <code>pushState</code> &#x7684;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;&#x4E86;&#x67D0;&#x4E2A; URL &#x732B;&#x70B9;&#xFF0C;&#x5C06;&#x4F1A;&#x88AB;&#x900F;&#x660E;&#x7684;&#x8F6C;&#x6362;&#x4E3A;&#x771F;&#x5B9E;&#x7684; URL&#x3002; &#x6CE8;&#x610F;&#x4F7F;&#x7528;&#x771F;&#x5B9E;&#x7684; URLs &#x9700;&#x8981; web &#x670D;&#x52A1;&#x5668;&#x652F;&#x6301;&#x76F4;&#x63A5;&#x6E32;&#x67D3;&#x90A3;&#x4E9B;&#x9875;&#x9762;&#xFF0C;&#x56E0;&#x6B64;&#x540E;&#x7AEF;&#x7A0B;&#x5E8F;&#x4E5F;&#x9700;&#x8981;&#x505A;&#x4FEE;&#x6539;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x8DEF;&#x7531; /document/100&#xFF0C;&#x5982;&#x679C;&#x6D4F;&#x89C8;&#x5668;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x5B83;&#xFF0C; web &#x670D;&#x52A1;&#x5668;&#x5FC5;&#x987B;&#x80FD;&#x591F;&#x5904;&#x7406;&#x8BE5;&#x9875;&#x9762;&#x3002; &#x8D8B;&#x4E8E;&#x5BF9;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x722C;&#x866B;&#x7684;&#x517C;&#x5BB9;&#xFF0C;&#x8BA9;&#x670D;&#x52A1;&#x5668;&#x5B8C;&#x5168;&#x4E3A;&#x8BE5;&#x9875;&#x9762;&#x751F;&#x6210;&#x9759;&#x6001; HTML &#x662F;&#x975E;&#x5E38;&#x597D;&#x7684;&#x505A;&#x6CD5; ... &#x4F46;&#x662F;&#x5982;&#x679C;&#x8981;&#x505A;&#x7684;&#x662F;&#x4E00;&#x4E2A; web &#x5E94;&#x7528;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5229;&#x7528; Javascript &#x548C; Backbone &#x89C6;&#x56FE;&#x5C06;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x7684; REST &#x6570;&#x636E;&#x6E32;&#x67D3;&#x5C31;&#x5F88;&#x597D;&#x4E86;&#x3002;</p>
<h2 id="t84start">start <a href="#t84start"> # </a></h2>
<blockquote>
<p>Backbone.history.start([options]) </p>
</blockquote>
<p>&#x5F53;&#x6240;&#x6709;&#x7684; Routers &#x521B;&#x5EFA;&#x5E76;&#x8BBE;&#x7F6E;&#x5B8C;&#x6BD5;&#xFF0C;&#x8C03;&#x7528; <code>Backbone.history.start()</code> &#x5F00;&#x59CB;&#x76D1;&#x63A7; hashchange &#x4E8B;&#x4EF6;&#x5E76;&#x5206;&#x914D;&#x8DEF;&#x7531;&#x3002;&#x540E;&#x7EED;&#x8C03;&#x7528;<code>Backbone.history.start()</code>&#x4F1A;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#xFF0C; &#x5E76;&#x4E14;Backbone.History.started&#x662F;&#x4E00;&#x4E2A;&#x5E03;&#x5C14;&#x503C;&#xFF0C;&#x6307;&#x793A;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x88AB;&#x8C03;&#x7528;&#x3002;</p>
<p>&#x9700;&#x8981;&#x6307;&#x51FA;&#x7684;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x5728;&#x5E94;&#x7528;&#x4E2D;&#x4F7F;&#x7528; HTML5 &#x652F;&#x6301;&#x7684; pushState&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x8FD9;&#x6837;&#x505A;&#xFF1A;Backbone.history.start({pushState : true}) &#x3002;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x4F7F;&#x7528;pushState&#x7684;&#x8BDD;&#xFF0C; &#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x672C;&#x8EAB;&#x4E0D;&#x652F;&#x6301;&#x5B83;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x9700;&#x8981;&#x7528;&#x6574;&#x9875;&#x5237;&#x65B0;&#x4EE3;&#x66FF;&#xFF0C; &#x60A8;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;{hashChange: false}&#x5230;&#x9009;&#x9879;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5E94;&#x7528;&#x4E0D;&#x662F;&#x57FA;&#x4E8E;&#x57DF;&#x540D;&#x7684;&#x6839;&#x8DEF;&#x5F84; /&#xFF0C;&#x9700;&#x8981;&#x544A;&#x8BC9; History &#x57FA;&#x4E8E;&#x4EC0;&#x4E48;&#x8DEF;&#x5F84;&#xFF1A;<code>Backbone.history.start({pushState: true, root: &quot;/public/search/&quot;})</code></p>
<p>&#x5F53;&#x6267;&#x884C;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x8DEF;&#x7531;&#x6210;&#x529F;&#x5339;&#x914D;&#x5F53;&#x524D; URL&#xFF0C;<code>Backbone.history.start()</code> &#x8FD4;&#x56DE; true&#x3002; &#x5982;&#x679C;&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x7684;&#x8DEF;&#x7531;&#x5339;&#x914D;&#x5F53;&#x524D; URL&#xFF0C;&#x8FD4;&#x56DE; false&#x3002;</p>
<p>&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x5DF2;&#x7ECF;&#x6E32;&#x67D3;&#x4E86;&#x6574;&#x4E2A;&#x9875;&#x9762;&#xFF0C;&#x4F46;&#x53C8;&#x4E0D;&#x5E0C;&#x671B;&#x5F00;&#x59CB; History &#x65F6;&#x89E6;&#x53D1;&#x521D;&#x59CB;&#x8DEF;&#x7531;&#xFF0C;&#x4F20;&#x5165; silent : true &#x5373;&#x53EF;&#x3002;</p>
<p>&#x56E0;&#x4E3A;&#x5728;Internet Explorer&#x4E2D;&#x57FA;&#x4E8E;hash&#x7684;&#x5386;&#x53F2;&#x8BB0;&#x5F55;&#x4F9D;&#x8D56;&#x4E8E;<code>&lt;iframe&gt;</code>&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x786E;&#x5B9A;DOM&#x5DF2;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#x540E;&#x518D;&#x8C03;&#x7528; <code>start()</code> &#x3002;</p>
<pre><code class="lang-js">$(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
  <span class="hljs-keyword">new</span> WorkspaceRouter();
  <span class="hljs-keyword">new</span> HelpPaneRouter();
  Backbone.history.start({pushState: <span class="hljs-literal">true</span>});
});
</code></pre>
<h1 id="t85Backbone.sync&#xFF08;&#x540C;&#x6B65;&#xFF09;">Backbone.sync&#xFF08;&#x540C;&#x6B65;&#xFF09; <a href="#t85Backbone.sync&#xFF08;&#x540C;&#x6B65;&#xFF09;"> # </a></h1>
<h2 id="t86Backbone.sync">Backbone.sync <a href="#t86Backbone.sync"> # </a></h2>
<p>&#x662F; Backbone &#x6BCF;&#x6B21;&#x5411;&#x670D;&#x52A1;&#x5668;&#x8BFB;&#x53D6;&#x6216;&#x4FDD;&#x5B58;&#x6A21;&#x578B;&#x65F6;&#x90FD;&#x8981;&#x8C03;&#x7528;&#x6267;&#x884C;&#x7684;&#x51FD;&#x6570;&#x3002; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B83;&#x4F7F;&#x7528; jQuery.ajax &#x65B9;&#x6CD5;&#x53D1;&#x9001; RESTful json &#x8BF7;&#x6C42;&#xFF0C;&#x5E76;&#x4E14;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A; jqXHR&#x3002; &#x5982;&#x679C;&#x60F3;&#x91C7;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x6301;&#x4E45;&#x5316;&#x65B9;&#x6848;&#xFF0C;&#x6BD4;&#x5982; WebSockets, XML, &#x6216; Local Storage&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x91CD;&#x8F7D;&#x8BE5;&#x51FD;&#x6570;&#x3002;</p>
<p><strong>Backbone.sync</strong> &#x7684;&#x8BED;&#x6CD5;&#x4E3A; sync(method, model, [options])&#x3002;</p>
<ul>
<li>method &#x2013; CRUD &#x65B9;&#x6CD5; (&quot;create&quot;, &quot;read&quot;, &quot;update&quot;, or &quot;delete&quot;)</li>
<li>model &#x2013; &#x8981;&#x88AB;&#x4FDD;&#x5B58;&#x7684;&#x6A21;&#x578B;&#xFF08;&#x6216;&#x8981;&#x88AB;&#x8BFB;&#x53D6;&#x7684;&#x96C6;&#x5408;&#xFF09;</li>
<li>options &#x2013; &#x6210;&#x529F;&#x548C;&#x5931;&#x8D25;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x4EE5;&#x53CA;&#x6240;&#x6709; jQuery &#x8BF7;&#x6C42;&#x652F;&#x6301;&#x7684;&#x9009;&#x9879;</li>
</ul>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5F53; <strong>Backbone.sync</strong> &#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x4EE5;&#x4FDD;&#x5B58;&#x6A21;&#x578B;&#x65F6;&#xFF0C;&#x5176;&#x5C5E;&#x6027;&#x4F1A;&#x88AB;&#x5E8F;&#x5217;&#x5316;&#x4E3A; JSON&#xFF0C;&#x5E76;&#x4EE5; application/json &#x7684;&#x5185;&#x5BB9;&#x7C7B;&#x578B;&#x53D1;&#x9001;&#x3002; &#x5F53;&#x63A5;&#x6536;&#x5230;&#x6765;&#x81EA;&#x670D;&#x52A1;&#x5668;&#x7684; JSON &#x54CD;&#x5E94;&#x540E;&#xFF0C;&#x5BF9;&#x7ECF;&#x8FC7;&#x670D;&#x52A1;&#x5668;&#x6539;&#x53D8;&#x7684;&#x6A21;&#x578B;&#x8FDB;&#x884C;&#x62C6;&#x89E3;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x66F4;&#x65B0;&#x3002; &#x5F53; &quot;read&quot; &#x8BF7;&#x6C42;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x54CD;&#x5E94;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#xFF08;Collection#fetch&#xFF09;&#x65F6;&#xFF0C;&#x4FBF;&#x62C6;&#x89E3;&#x6A21;&#x578B;&#x5C5E;&#x6027;&#x5BF9;&#x8C61;&#x7684;&#x6570;&#x7EC4;&#x3002;</p>
<p>&#x5F53;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x6216;&#x96C6;&#x5408;&#x5F00;&#x59CB; sync&#x5230;&#x670D;&#x52A1;&#x5668;&#x65F6;&#xFF0C;&#x5C06;&#x89E6;&#x53D1;&#x4E00;&#x4E2A; &quot;request&quot; &#x4E8B;&#x4EF6;&#x3002; &#x5982;&#x679C;&#x8BF7;&#x6C42;&#x6210;&#x529F;&#x5B8C;&#x6210;&#xFF0C;&#x4F60;&#x4F1A;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&quot;sync&quot;&#x4E8B;&#x4EF6;&#xFF0C; &#x5982;&#x679C;&#x8BF7;&#x6C42;&#x5931;&#x8D25;&#xFF0C;&#x4F60;&#x4F1A;&#x5F97;&#x5230;&#x4E00;&#x4E2A; &quot;error&quot;&#x4E8B;&#x4EF6;&#x3002;</p>
<p>sync&#x51FD;&#x6570;&#x53EF;&#x91CD;&#x5199;&#x4E3A;&#x5168;&#x5C40;&#x6027;&#x7684;Backbone.sync&#xFF0C; &#x6216;&#x5728;&#x7EC6;&#x7C92;&#x5EA6;&#x7EA7;&#x522B;&#xFF0C; &#x901A;&#x8FC7;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A; sync&#x51FD;&#x6570; &#x5230;Backbone&#x96C6;&#x5408;&#x6216;&#x5355;&#x4E2A;&#x6A21;&#x578B;&#x65F6;&#x3002;</p>
<p>&#x9ED8;&#x8BA4; sync &#x6620;&#x5C04; REST &#x98CE;&#x683C;&#x7684; CRUD &#x7C7B;&#x4F3C;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#xFF1A;</p>
<ul>
<li>create &#x2192; POST   /collection</li>
<li>read &#x2192; GET   /collection[/id]</li>
<li>update &#x2192; PUT   /collection/id</li>
<li>patch &#x2192; PATCH   /collection/id</li>
<li>delete &#x2192; DELETE   /collection/id</li>
</ul>
<p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x4E00;&#x4E2A;Rail 4 &#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x54CD;&#x5E94;&#x4E00;&#x4E2A;&#x6765;&#x81EA;Backbone&#x7684;&quot;update&quot;&#x8C03;&#x7528;&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A; &#xFF08;&#x5728;&#x771F;&#x6B63;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C; &#x5343;&#x4E07;&#x4E0D;&#x8981;&#x76F2;&#x76EE;&#x7684;&#x4F7F;&#x7528;update_attributes&#xFF0C; &#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x88AB;&#x6539;&#x53D8;&#x7684;&#x5C5E;&#x6027;&#x59CB;&#x7EC8;&#x662F;&#x767D;&#x540D;&#x5355;&#x3002;&#xFF09;</p>
<pre><code>def update
  account = Account.find params[:id]
  account.update_attributes params.require(:account).permit(:name, :otherparam)
  render :json =&gt; account
end
</code></pre><p>&#x4E00;&#x4E2A;&#x6280;&#x5DE7;&#xFF1A; &#x901A;&#x8FC7;&#x8BBE;&#x7F6E;ActiveRecord::Base.include_root_in_json = false&#xFF0C;&#x5728;&#x6A21;&#x578B;&#x4E0A;&#x7981;&#x7528;&#x9ED8;&#x8BA4;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7684;to_json&#x6765;&#x6574;&#x5408; Rails 3.1&#x4E4B;&#x524D;&#x7684;&#x7248;&#x672C;&#xFF0C; &#x3002;</p>
<h2 id="t87Backbone.ajax">Backbone.ajax <a href="#t87Backbone.ajax"> # </a></h2>
<blockquote>
<p>Backbone.ajax = function(request) { ... }; </p>
</blockquote>
<p>&#x5982;&#x679C;&#x4F60;&#x60F3;&#x4F7F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x7684;AJAX&#x529F;&#x80FD;&#xFF0C; &#x6216;&#x8005;&#x4F60;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x652F;&#x6301;&#x7684;jQuery.ajax API&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x8C03;&#x6574;&#x7684;&#x4E1C;&#x897F;&#xFF0C; &#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;Backbone.ajax&#x8FD9;&#x6837;&#x505A;&#x3002;</p>
<h3 id="t88emulateHTTP">emulateHTTP <a href="#t88emulateHTTP"> # </a></h3>
<blockquote>
<p>Backbone.emulateHTTP = true </p>
</blockquote>
<p>&#x5982;&#x679C;&#x4F60;&#x60F3;&#x5728;&#x4E0D;&#x652F;&#x6301;Backbone&#x7684;&#x9ED8;&#x8BA4;REST/ HTTP&#x65B9;&#x5F0F;&#x7684;Web&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5DE5;&#x4F5C;&#xFF0C; &#x60A8;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x5F00;&#x542F;Backbone.emulateHTTP&#x3002; &#x8BBE;&#x7F6E;&#x8BE5;&#x9009;&#x9879;&#x5C06;&#x901A;&#x8FC7; POST &#x65B9;&#x6CD5;&#x4F2A;&#x9020; PUT&#xFF0C;PATCH &#x548C; DELETE &#x8BF7;&#x6C42; &#x7528;&#x771F;&#x5B9E;&#x7684;&#x65B9;&#x6CD5;&#x8BBE;&#x5B9A;X-HTTP-Method-Override&#x5934;&#x4FE1;&#x606F;&#x3002; &#x5982;&#x679C;&#x652F;&#x6301;emulateJSON&#xFF0C;&#x6B64;&#x65F6;&#x8BE5;&#x8BF7;&#x6C42;&#x4F1A;&#x5411;&#x670D;&#x52A1;&#x5668;&#x4F20;&#x5165;&#x540D;&#x4E3A; _method &#x7684;&#x53C2;&#x6570;&#x3002;</p>
<pre><code class="lang-js">Backbone.emulateHTTP = <span class="hljs-literal">true</span>;

model.save();  <span class="hljs-comment">// POST to &quot;/collection/id&quot;, with &quot;_method=PUT&quot; + header.</span>
</code></pre>
<h3 id="t89emulateJSON">emulateJSON <a href="#t89emulateJSON"> # </a></h3>
<blockquote>
<p>Backbone.emulateJSON = true </p>
</blockquote>
<p>&#x5982;&#x679C;&#x4F60;&#x60F3;&#x5728;&#x4E0D;&#x652F;&#x6301;&#x53D1;&#x9001; application/json &#x7F16;&#x7801;&#x8BF7;&#x6C42;&#x7684;Web&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5DE5;&#x4F5C;&#xFF0C;&#x8BBE;&#x7F6E;Backbone.emulateJSON = true;&#x5C06;&#x5BFC;&#x81F4;JSON&#x6839;&#x636E;&#x6A21;&#x578B;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x5E8F;&#x5217;&#x5316;&#xFF0C; &#x5E76;&#x901A;&#x8FC7;application/x-www-form-urlencoded MIME&#x7C7B;&#x578B;&#x6765;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x4F2A;&#x9020;HTML&#x8868;&#x5355;&#x8BF7;&#x6C42;&#xFF0C;</p>
<h1 id="t90Backbone.View&#xFF08;&#x89C6;&#x56FE;&#xFF09;">Backbone.View&#xFF08;&#x89C6;&#x56FE;&#xFF09; <a href="#t90Backbone.View&#xFF08;&#x89C6;&#x56FE;&#xFF09;"> # </a></h1>
<p>Backbone &#x89C6;&#x56FE;&#x51E0;&#x4E4E;&#x7EA6;&#x5B9A;&#x6BD4;&#x4ED6;&#x4EEC;&#x7684;&#x4EE3;&#x7801;&#x591A; &#x2014; &#x4ED6;&#x4EEC;&#x5E76;&#x4E0D;&#x9650;&#x5B9A;&#x4F60;&#x7684;HTML&#x6216;CSS&#xFF0C; &#x5E76;&#x53EF;&#x4EE5;&#x914D;&#x5408;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;JavaScript&#x6A21;&#x677F;&#x5E93;&#x3002; &#x4E00;&#x822C;&#x662F;&#x7EC4;&#x7EC7;&#x60A8;&#x7684;&#x63A5;&#x53E3;&#x8F6C;&#x6362;&#x6210;&#x903B;&#x8F91;&#x89C6;&#x56FE;&#xFF0C; &#x901A;&#x8FC7;&#x6A21;&#x578B;&#x7684;&#x652F;&#x6301;&#xFF0C; &#x6A21;&#x578B;&#x53D8;&#x5316;&#x65F6;&#xFF0C; &#x6BCF;&#x4E00;&#x4E2A;&#x90FD;&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x5730;&#x8FDB;&#x884C;&#x66F4;&#x65B0;&#xFF0C; &#x800C;&#x4E0D;&#x5FC5;&#x91CD;&#x65B0;&#x7ED8;&#x5236;&#x8BE5;&#x9875;&#x9762;&#x3002;&#x6211;&#x4EEC;&#x518D;&#x4E5F;&#x4E0D;&#x5FC5;&#x94BB;&#x8FDB; JSON &#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x67E5;&#x627E; DOM &#x5143;&#x7D20;&#xFF0C;&#x624B;&#x52A8;&#x66F4;&#x65B0; HTML &#x4E86;&#xFF0C;&#x901A;&#x8FC7;&#x7ED1;&#x5B9A;&#x89C6;&#x56FE;&#x7684; render &#x51FD;&#x6570;&#x5230;&#x6A21;&#x578B;&#x7684; &quot;change&quot; &#x4E8B;&#x4EF6; &#x2014; &#x6A21;&#x578B;&#x6570;&#x636E;&#x4F1A;&#x5373;&#x65F6;&#x7684;&#x663E;&#x793A;&#x5728; UI &#x4E2D;&#x3002;</p>
<h2 id="t91extend (View)">extend (View) <a href="#t91extend (View)"> # </a></h2>
<blockquote>
<p>Backbone.View.extend(properties, [classProperties]) </p>
</blockquote>
<p>&#x5F00;&#x59CB;&#x521B;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x89C6;&#x56FE;&#x7C7B;&#x3002; &#x901A;&#x5E38;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x91CD;&#x8F7D; render &#x51FD;&#x6570;&#xFF0C;&#x58F0;&#x660E; events&#xFF0C; &#x4EE5;&#x53CA;&#x901A;&#x8FC7; tagName, className, &#x6216; id &#x4E3A;&#x89C6;&#x56FE;&#x6307;&#x5B9A;&#x6839;&#x5143;&#x7D20;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> DocumentRow = Backbone.View.extend({

  tagName: <span class="hljs-string">&quot;li&quot;</span>,

  className: <span class="hljs-string">&quot;document-row&quot;</span>,

  events: {
    <span class="hljs-string">&quot;click .icon&quot;</span>:          <span class="hljs-string">&quot;open&quot;</span>,
    <span class="hljs-string">&quot;click .button.edit&quot;</span>:   <span class="hljs-string">&quot;openEditDialog&quot;</span>,
    <span class="hljs-string">&quot;click .button.delete&quot;</span>: <span class="hljs-string">&quot;destroy&quot;</span>
  },

  initialize: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.listenTo(<span class="hljs-keyword">this</span>.model, <span class="hljs-string">&quot;change&quot;</span>, <span class="hljs-keyword">this</span>.render);
  },

  render: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    ...
  }

});
</code></pre>
<p>&#x76F4;&#x5230;&#x8FD0;&#x884C;&#x65F6;&#xFF0C; &#x50CF;tagName, id, className, el, &#x548C; events&#x8FD9;&#x6837;&#x7684;&#x5C5E;&#x6027;&#x4E5F;&#x53EF;&#x4EE5;&#x88AB;&#x5B9A;&#x4E49;&#x4E3A;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;</p>
<h2 id="t92constructor / initialize(View)">constructor / initialize(View) <a href="#t92constructor / initialize(View)"> # </a></h2>
<blockquote>
<p>new View([options]) </p>
</blockquote>
<p>&#x6709;&#x51E0;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x9009;&#x9879;&#xFF0C; &#x5982;&#x679C;&#x4F20;&#x5165;&#xFF0C;&#x5219;&#x76F4;&#x63A5;&#x6CE8;&#x518C;&#x5230;&#x89C6;&#x56FE;&#x4E2D;&#x53BB;&#xFF1A; model, collection, el, id, className, tagName, attributes &#x548C; events&#x3002; &#x5982;&#x679C;&#x89C6;&#x56FE;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;initialize&#x521D;&#x59CB;&#x5316;&#x51FD;&#x6570;&#xFF0C; &#x9996;&#x5148;&#x521B;&#x5EFA;&#x89C6;&#x56FE;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x7ACB;&#x523B;&#x88AB;&#x8C03;&#x7528;&#x3002; &#x5982;&#x679C;&#x5E0C;&#x671B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6307;&#x5411; DOM &#x4E2D;&#x5DF2;&#x5B58;&#x5728;&#x7684;&#x5143;&#x7D20;&#x7684;&#x89C6;&#x56FE;&#xFF0C;&#x4F20;&#x5165;&#x8BE5;&#x5143;&#x7D20;&#x4F5C;&#x4E3A;&#x9009;&#x9879;&#xFF1A;new View({el: existingElement})&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> doc = documents.first();

<span class="hljs-keyword">new</span> DocumentRow({
  model: doc,
  id: <span class="hljs-string">&quot;document-row-&quot;</span> + doc.id
});
</code></pre>
<h2 id="t93el(View)">el(View) <a href="#t93el(View)"> # </a></h2>
<blockquote>
<p>view.el </p>
</blockquote>
<p>&#x6240;&#x6709;&#x7684;&#x89C6;&#x56FE;&#x90FD;&#x62E5;&#x6709;&#x4E00;&#x4E2A; DOM &#x5143;&#x7D20;&#xFF08;el &#x5C5E;&#x6027;&#xFF09;&#xFF0C;&#x5373;&#x4F7F;&#x8BE5;&#x5143;&#x7D20;&#x4ECD;&#x672A;&#x63D2;&#x5165;&#x9875;&#x9762;&#x4E2D;&#x53BB;&#x3002; &#x89C6;&#x56FE;&#x53EF;&#x4EE5;&#x5728;&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#x6E32;&#x67D3;&#xFF0C;&#x7136;&#x540E;&#x4E00;&#x6B21;&#x6027;&#x63D2;&#x5165; DOM &#x4E2D;&#x53BB;&#xFF0C;&#x8FD9;&#x6837;&#x80FD;&#x5C3D;&#x91CF;&#x51CF;&#x5C11; reflows &#x548C; repaints &#x4ECE;&#x800C;&#x83B7;&#x5F97;&#x9AD8;&#x6027;&#x80FD;&#x7684; UI &#x6E32;&#x67D3;&#x3002; this.el &#x53EF;&#x4EE5;&#x4ECE;&#x89C6;&#x56FE;&#x7684; tagName, className, id &#x548C; attributes &#x521B;&#x5EFA;&#xFF0C;&#x5982;&#x679C;&#x90FD;&#x672A;&#x6307;&#x5B9A;&#xFF0C;el &#x4F1A;&#x662F;&#x4E00;&#x4E2A;&#x7A7A; div&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> ItemView = Backbone.View.extend({
  tagName: <span class="hljs-string">&apos;li&apos;</span>
});

<span class="hljs-keyword">var</span> BodyView = Backbone.View.extend({
  el: <span class="hljs-string">&apos;body&apos;</span>
});

<span class="hljs-keyword">var</span> item = <span class="hljs-keyword">new</span> ItemView();
<span class="hljs-keyword">var</span> body = <span class="hljs-keyword">new</span> BodyView();

alert(item.el + <span class="hljs-string">&apos; &apos;</span> + body.el);
</code></pre>
<h2 id="t94$el">$el <a href="#t94$el"> # </a></h2>
<blockquote>
<p>view.$el </p>
</blockquote>
<p>&#x4E00;&#x4E2A;&#x89C6;&#x56FE;&#x5143;&#x7D20;&#x7684;&#x7F13;&#x5B58;jQuery&#x5BF9;&#x8C61;&#x3002; &#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5F15;&#x7528;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x91CD;&#x65B0;&#x5305;&#x88C5;&#x7684;DOM&#x5143;&#x7D20;&#x3002;</p>
<pre><code class="lang-js">view.$el.show();
listView.$el.append(itemView.el);
</code></pre>
<h2 id="t95setElement">setElement <a href="#t95setElement"> # </a></h2>
<blockquote>
<p>view.setElement(element) </p>
</blockquote>
<p>&#x5982;&#x679C;&#x4F60;&#x60F3;&#x5E94;&#x7528;&#x4E00;&#x4E2A;Backbone&#x89C6;&#x56FE;&#x5230;&#x4E0D;&#x540C;&#x7684;DOM&#x5143;&#x7D20;&#xFF0C; &#x4F7F;&#x7528;setElement&#xFF0C; &#x8FD9;&#x4E5F;&#x5C06;&#x521B;&#x9020;&#x7F13;&#x5B58;$el&#x5F15;&#x7528;&#xFF0C;&#x89C6;&#x56FE;&#x7684;&#x59D4;&#x6258;&#x4E8B;&#x4EF6;&#x4ECE;&#x65E7;&#x5143;&#x7D20;&#x79FB;&#x52A8;&#x5230;&#x65B0;&#x5143;&#x7D20;&#x4E0A;&#x3002;</p>
<h2 id="t96attributes(View)">attributes(View) <a href="#t96attributes(View)"> # </a></h2>
<blockquote>
<p>view.attributes </p>
</blockquote>
<p>&#x5C5E;&#x6027;&#x7684;&#x952E;&#x503C;&#x5BF9;&#xFF0C; &#x5C06;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A;&#x89C6;&#x56FE;el&#x4E0A;&#x7684;HTML DOM&#x5143;&#x7D20;&#x7684;&#x5C5E;&#x6027;&#xFF0C; &#x6216;&#x8005;&#x662F;&#x8FD4;&#x56DE;&#x8FD9;&#x6837;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x3002;</p>
<h2 id="t97$(jQuery)">$(jQuery) <a href="#t97$(jQuery)"> # </a></h2>
<blockquote>
<p>view.$(selector) </p>
</blockquote>
<p>&#x5982;&#x679C;&#x9875;&#x9762;&#x4E2D;&#x5F15;&#x5165;&#x4E86; jQuery&#xFF0C;&#x6BCF;&#x4E2A;&#x89C6;&#x56FE;&#x90FD;&#x5C06;&#x62E5;&#x6709; $ &#x51FD;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x89C6;&#x56FE;&#x5143;&#x7D20;&#x67E5;&#x8BE2;&#x4F5C;&#x7528;&#x57DF;&#x5185;&#x8FD0;&#x884C;&#x3002; &#x5982;&#x679C;&#x4F7F;&#x7528;&#x8BE5;&#x4F5C;&#x7528;&#x57DF;&#x5185;&#x7684; jQuery &#x51FD;&#x6570;&#xFF0C;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x4ECE;&#x5217;&#x8868;&#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x5143;&#x7D20;&#x83B7;&#x53D6;&#x6A21;&#x578B;&#x7684; ids &#x8FD9;&#x79CD;&#x67E5;&#x8BE2;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x66F4;&#x591A;&#x7684;&#x4F9D;&#x8D56; HTML class &#x5C5E;&#x6027;&#x3002; &#x5B83;&#x7B49;&#x4EF7;&#x4E8E;&#x8FD0;&#x884C;&#xFF1A;view.$el.find(selector)&#x3002;</p>
<pre><code class="lang-js">ui.Chapter = Backbone.View.extend({
  serialize : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> {
      title: <span class="hljs-keyword">this</span>.$(<span class="hljs-string">&quot;.title&quot;</span>).text(),
      start: <span class="hljs-keyword">this</span>.$(<span class="hljs-string">&quot;.start-page&quot;</span>).text(),
      end:   <span class="hljs-keyword">this</span>.$(<span class="hljs-string">&quot;.end-page&quot;</span>).text()
    };
  }
});
</code></pre>
<h2 id="t98template">template <a href="#t98template"> # </a></h2>
<blockquote>
<p>view.template([data]) </p>
</blockquote>
<p>&#x867D;&#x7136;&#x6A21;&#x677F;&#x5316;&#x7684;&#x89C6;&#x56FE; &#x4E0D;&#x662F;Backbone&#x76F4;&#x63A5;&#x63D0;&#x4F9B;&#x7684;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#xFF0C; &#x5B83;&#x5F80;&#x5F80;&#x662F;&#x4E00;&#x4E2A;&#x5728;&#x4F60;&#x89C6;&#x56FE;&#x5B9A;&#x4E49;template&#x51FD;&#x6570;&#x5F88;&#x597D;&#x7684;&#x7EA6;&#x5B9A;&#x3002; &#x5982;&#x6B64;&#xFF0C; &#x6E32;&#x67D3;&#x4F60;&#x7684;&#x89C6;&#x56FE;&#x65F6;&#xFF0C; &#x60A8;&#x65B9;&#x4FBF;&#x5730;&#x8BBF;&#x95EE;&#x5B9E;&#x4F8B;&#x6570;&#x636E;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x4F7F;&#x7528;Underscore&#x7684;&#x6A21;&#x677F;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> LibraryView = Backbone.View.extend({
  template: _.template(...)
});
</code></pre>
<h2 id="t99render">render <a href="#t99render"> # </a></h2>
<blockquote>
<p>view.render() </p>
</blockquote>
<p>render &#x9ED8;&#x8BA4;&#x5B9E;&#x73B0;&#x662F;&#x6CA1;&#x6709;&#x64CD;&#x4F5C;&#x7684;&#x3002; &#x91CD;&#x8F7D;&#x672C;&#x51FD;&#x6570;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4ECE;&#x6A21;&#x578B;&#x6570;&#x636E;&#x6E32;&#x67D3;&#x89C6;&#x56FE;&#x6A21;&#x677F;&#xFF0C;&#x5E76;&#x53EF;&#x7528;&#x65B0;&#x7684; HTML &#x66F4;&#x65B0; this.el&#x3002; &#x63A8;&#x8350;&#x7684;&#x505A;&#x6CD5;&#x662F;&#x5728; render &#x51FD;&#x6570;&#x7684;&#x672B;&#x5C3E; return this &#x4EE5;&#x5F00;&#x542F;&#x94FE;&#x5F0F;&#x8C03;&#x7528;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Bookmark = Backbone.View.extend({
  template: _.template(...),
  render: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.$el.html(<span class="hljs-keyword">this</span>.template(<span class="hljs-keyword">this</span>.model.attributes));
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }
});
</code></pre>
<p>Backbone&#x5E76;&#x4E0D;&#x77E5;&#x9053;&#x60A8;&#x9996;&#x9009;HTML&#x6A21;&#x677F;&#x7684;&#x65B9;&#x6CD5;&#x3002; render&#xFF08;&#x6E32;&#x67D3;&#xFF09; &#x51FD;&#x6570;&#x4E2D;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x62FC;&#x63A5;HTML&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#xFF0C; &#x6216;&#x8005;&#x4F7F;&#x7528;document.createElement&#x751F;&#x6210;DOM&#x6811;&#x3002; &#x4F46;&#x8FD8;&#x662F;&#x5EFA;&#x8BAE;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x597D;&#x7684; Javascript &#x6A21;&#x677F;&#x5F15;&#x64CE;&#x3002; Mustache.js, Haml-js, &#x548C; Eco &#x90FD;&#x662F;&#x5F88;&#x597D;&#x7684;&#x9009;&#x62E9;&#x3002; &#x56E0;&#x4E3A;Underscore.js&#x5DF2;&#x7ECF;&#x5F15;&#x5165;&#x9875;&#x9762;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x559C;&#x6B22;&#x7B80;&#x5355;&#x7684;&#x63D2;&#x5165;JavaScript&#x7684;&#x6837;&#x5F0F;&#x6A21;&#x677F;&#x3002;  _.template&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5E76;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x9009;&#x62E9;&#x3002;</p>
<p>&#x65E0;&#x8BBA;&#x57FA;&#x4E8E;&#x4EC0;&#x4E48;&#x8003;&#x8651;&#xFF0C;&#x90FD;&#x6C38;&#x8FDC;&#x4E0D;&#x8981;&#x5728; Javascript &#x4E2D;&#x62FC;&#x63A5; HTML &#x5B57;&#x7B26;&#x4E32;&#x3002; &#x5728;DocumentCloud&#x4E2D;&#xFF0C; &#x6211;&#x4EEC;&#x4F7F;&#x7528;Jammit &#x6765;&#x6253;&#x5305;JavaScript&#x6A21;&#x677F;&#xFF0C;&#x5E76;&#x5B58;&#x50A8;&#x5728;/app/views&#x4E2D;&#xFF0C;&#x4F5C;&#x4E3A;&#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x7684;core.js&#x5305;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;</p>
<h2 id="t100remove(View)">remove(View) <a href="#t100remove(View)"> # </a></h2>
<blockquote>
<p>view.remove() </p>
</blockquote>
<p>&#x4ECE; DOM &#x4E2D;&#x79FB;&#x9664;&#x4E00;&#x4E2A;&#x89C6;&#x56FE;&#x3002;&#x540C;&#x4E8B;&#x8C03;&#x7528;stopListening&#x6765;&#x79FB;&#x9664;&#x901A;&#x8FC7; listenTo&#x7ED1;&#x5B9A;&#x5728;&#x89C6;&#x56FE;&#x4E0A;&#x7684; &#x6240;&#x6709;&#x4E8B;&#x4EF6;&#x3002;</p>
<h2 id="t101delegateEvents">delegateEvents <a href="#t101delegateEvents"> # </a></h2>
<blockquote>
<p>delegateEvents([events]) </p>
</blockquote>
<p>&#x91C7;&#x7528; jQuery &#x7684;on&#x51FD;&#x6570;&#x6765;&#x4E3A;&#x89C6;&#x56FE;&#x5185;&#x7684; DOM &#x4E8B;&#x4EF6;&#x63D0;&#x4F9B;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x58F0;&#x660E;&#x3002; &#x5982;&#x679C;&#x672A;&#x4F20;&#x5165; events &#x5BF9;&#x8C61;&#xFF0C;&#x4F7F;&#x7528; this.events &#x4F5C;&#x4E3A;&#x4E8B;&#x4EF6;&#x6E90;&#x3002; &#x4E8B;&#x4EF6;&#x5BF9;&#x8C61;&#x7684;&#x4E66;&#x5199;&#x683C;&#x5F0F;&#x4E3A; {&quot;event selector&quot;: &quot;callback&quot;}&#x3002; &#x7701;&#x7565; selector &#x5219;&#x4E8B;&#x4EF6;&#x88AB;&#x7ED1;&#x5B9A;&#x5230;&#x89C6;&#x56FE;&#x7684;&#x6839;&#x5143;&#x7D20;&#xFF08;this.el&#xFF09;&#x3002; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;<strong>delegateEvents</strong> &#x4F1A;&#x5728;&#x89C6;&#x56FE;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x5185;&#x88AB;&#x8C03;&#x7528;&#xFF0C;&#x56E0;&#x6B64;&#x5982;&#x679C;&#x6709; events &#x5BF9;&#x8C61;&#xFF0C;&#x6240;&#x6709;&#x7684; DOM &#x4E8B;&#x4EF6;&#x5DF2;&#x7ECF;&#x88AB;&#x8FDE;&#x63A5;&#xFF0C; &#x5E76;&#x4E14;&#x6211;&#x4EEC;&#x6C38;&#x8FDC;&#x4E0D;&#x9700;&#x8981;&#x53BB;&#x624B;&#x52A8;&#x8C03;&#x7528;&#x672C;&#x51FD;&#x6570;&#x3002;</p>
<p>events &#x5C5E;&#x6027;&#x4E5F;&#x53EF;&#x4EE5;&#x88AB;&#x5B9A;&#x4E49;&#x6210;&#x8FD4;&#x56DE; events &#x5BF9;&#x8C61;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x8FD9;&#x6837;&#x8BA9;&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x4E8B;&#x4EF6;&#xFF0C;&#x4EE5;&#x53CA;&#x5B9E;&#x73B0;&#x4E8B;&#x4EF6;&#x7684;&#x7EE7;&#x627F;&#x53D8;&#x5F97;&#x66F4;&#x52A0;&#x65B9;&#x4FBF;&#x3002;</p>
<p>&#x89C6;&#x56FE; render &#x671F;&#x95F4;&#x4F7F;&#x7528; <strong>delegateEvents</strong> &#x76F8;&#x6BD4;&#x7528; jQuery &#x5411;&#x5B50;&#x5143;&#x7D20;&#x7ED1;&#x5B9A;&#x4E8B;&#x4EF6;&#x6709;&#x66F4;&#x591A;&#x4F18;&#x70B9;&#x3002; &#x6240;&#x6709;&#x6CE8;&#x518C;&#x7684;&#x51FD;&#x6570;&#x5728;&#x4F20;&#x9012;&#x7ED9; jQuery &#x4E4B;&#x524D;&#x5DF2;&#x88AB;&#x7ED1;&#x5B9A;&#x5230;&#x89C6;&#x56FE;&#x4E0A;&#xFF0C;&#x56E0;&#x6B64;&#x5F53;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x6267;&#x884C;&#x65F6;&#xFF0C; this &#x4ECD;&#x5C06;&#x6307;&#x5411;&#x89C6;&#x56FE;&#x5BF9;&#x8C61;&#x3002; &#x5F53; <strong>delegateEvents</strong> &#x518D;&#x6B21;&#x8FD0;&#x884C;&#xFF0C;&#x6B64;&#x65F6;&#x6216;&#x8BB8;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x4E0D;&#x540C;&#x7684; events &#x5BF9;&#x8C61;&#xFF0C;&#x6240;&#x4EE5;&#x6240;&#x6709;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x5C06;&#x88AB;&#x79FB;&#x9664;&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x65B0;&#x59D4;&#x6258; &#x2014; &#x8FD9;&#x5BF9;&#x6A21;&#x578B;&#x4E0D;&#x540C;&#x884C;&#x4E3A;&#x4E5F;&#x4E0D;&#x540C;&#x7684;&#x89C6;&#x56FE;&#x633A;&#x6709;&#x7528;&#x5904;&#x3002;</p>
<p>&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x9875;&#x9762;&#x663E;&#x793A;&#x6587;&#x6863;&#x7684;&#x89C6;&#x56FE;&#x770B;&#x8D77;&#x6765;&#x7C7B;&#x4F3C;&#x8FD9;&#x6837;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> DocumentView = Backbone.View.extend({

  events: {
    <span class="hljs-string">&quot;dblclick&quot;</span>                : <span class="hljs-string">&quot;open&quot;</span>,
    <span class="hljs-string">&quot;click .icon.doc&quot;</span>         : <span class="hljs-string">&quot;select&quot;</span>,
    <span class="hljs-string">&quot;contextmenu .icon.doc&quot;</span>   : <span class="hljs-string">&quot;showMenu&quot;</span>,
    <span class="hljs-string">&quot;click .show_notes&quot;</span>       : <span class="hljs-string">&quot;toggleNotes&quot;</span>,
    <span class="hljs-string">&quot;click .title .lock&quot;</span>      : <span class="hljs-string">&quot;editAccessLevel&quot;</span>,
    <span class="hljs-string">&quot;mouseover .title .date&quot;</span>  : <span class="hljs-string">&quot;showTooltip&quot;</span>
  },

  render: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.$el.html(<span class="hljs-keyword">this</span>.template(<span class="hljs-keyword">this</span>.model.attributes));
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  },

  open: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">window</span>.open(<span class="hljs-keyword">this</span>.model.get(<span class="hljs-string">&quot;viewer_url&quot;</span>));
  },

  select: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">this</span>.model.set({selected: <span class="hljs-literal">true</span>});
  },

  ...

});
</code></pre>
<h2 id="t102undelegateEvents">undelegateEvents <a href="#t102undelegateEvents"> # </a></h2>
<blockquote>
<p>undelegateEvents() </p>
</blockquote>
<p>&#x5220;&#x9664;&#x89C6;&#x56FE;&#x6240;&#x6709;&#x59D4;&#x6258;&#x4E8B;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x8981;&#x4ECE;&#x4E34;&#x65F6;&#x7684;DOM&#x4E2D;&#x7981;&#x7528;&#x6216;&#x5220;&#x9664;&#x89C6;&#x56FE;&#x65F6;&#xFF0C;&#x6BD4;&#x8F83;&#x6709;&#x7528;&#x3002;</p>
<h1 id="t103Utility&#xFF08;&#x5B9E;&#x7528;&#x529F;&#x80FD;&#xFF09;">Utility&#xFF08;&#x5B9E;&#x7528;&#x529F;&#x80FD;&#xFF09; <a href="#t103Utility&#xFF08;&#x5B9E;&#x7528;&#x529F;&#x80FD;&#xFF09;"> # </a></h1>
<h2 id="t104Backbone.noConflict">Backbone.noConflict <a href="#t104Backbone.noConflict"> # </a></h2>
<blockquote>
<p>var backbone = Backbone.noConflict(); </p>
</blockquote>
<p>&#x8FD4;&#x56DE; Backbone &#x5BF9;&#x8C61;&#x7684;&#x539F;&#x59CB;&#x503C;&#x3002; &#x60A8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>Backbone.noConflict()</code>&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x4EE5;&#x4FDD;&#x6301;&#x5C40;&#x90E8;&#x5F15;&#x7528;Backbone&#x3002; &#x901A;&#x5E38;&#x7528;&#x4E8E;&#x5728;&#x7B2C;&#x4E09;&#x65B9;&#x7F51;&#x7AD9;&#x4E0A;&#x5F15;&#x5165;&#x4E86;&#x591A;&#x4E2A; Backbone &#x6587;&#x4EF6;&#xFF0C;&#x907F;&#x514D;&#x51B2;&#x7A81;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> localBackbone = Backbone.noConflict();
<span class="hljs-keyword">var</span> model = localBackbone.Model.extend(...);
</code></pre>
<h2 id="t105Backbone.$">Backbone.$ <a href="#t105Backbone.$"> # </a></h2>
<blockquote>
<p>Backbone.$ = $; </p>
</blockquote>
<p>&#x5982;&#x679C;&#x9875;&#x9762;&#x4E0A;&#x6709;&#x591A;&#x4E2A;jQuery&#x526F;&#x672C;&#xFF0C; &#x6216;&#x8005;&#x53EA;&#x662F;&#x60F3;&#x544A;&#x8BC9;Backbone&#x4F7F;&#x7528;&#x7279;&#x5B9A;&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x5176;DOM / Ajax&#x5E93;&#xFF0C; &#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x53EF;&#x4EE5;&#x4E3A;&#x60A8;&#x670D;&#x52A1;&#x3002;  &#x5982;&#x679C;&#x60A8;&#x6B63;&#x5728;&#x4F7F;&#x7528;CommonJS&#x52A0;&#x8F7D;Backbone &#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x8282;&#x70B9;&#xFF0C;&#x7EC4;&#x4EF6;&#xFF0C;&#x6216;browserify&#xFF09; &#x60A8;&#x5FC5;&#x987B;&#x624B;&#x52A8;&#x8BBE;&#x7F6E;&#x8BE5;&#x5C5E;&#x6027;&#x3002;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Backbone.$ = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;jquery&apos;</span>);
</code></pre>

        <div class="copyright">Created by <a href="https://github.com/shenbao" target="_blank">ShenBao</a></div>
    </div>

</div>


</body>

<script>
		(function(window,document,undefined){
			var hearts = [];
			window.requestAnimationFrame = (function(){
					return window.requestAnimationFrame || 
							   window.webkitRequestAnimationFrame ||
							   window.mozRequestAnimationFrame ||
							   window.oRequestAnimationFrame ||
							   window.msRequestAnimationFrame ||
							   function (callback){
									   setTimeout(callback,1000/60);
							   }
			})();
			init();
			function init(){
					css(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}");
					attachEvent();
					gameloop();
			}
			function gameloop(){
					for(var i=0;i<hearts.length;i++){
						if(hearts[i].alpha <=0){
								document.body.removeChild(hearts[i].el);
								hearts.splice(i,1);
								continue;
						}
						hearts[i].y--;
						hearts[i].scale += 0.004;
						hearts[i].alpha -= 0.013;
						hearts[i].el.style.cssText = "left:"+hearts[i].x+"px;top:"+hearts[i].y+"px;opacity:"+hearts[i].alpha+";transform:scale("+hearts[i].scale+","+hearts[i].scale+") rotate(45deg);background:"+hearts[i].color+";z-index:99999";
				}
				requestAnimationFrame(gameloop);
			}
			function attachEvent(){
					var old = typeof window.onclick==="function" && window.onclick;
					window.onclick = function(event){
							old && old();
							createHeart(event);
					}
			}
			function createHeart(event){
				var d = document.createElement("div");
				d.className = "heart";
				hearts.push({
						el : d,
						x : event.clientX - 5,
						y : event.clientY - 5,
						scale : 1,
						alpha : 1,
						color : randomColor()
				});
				document.body.appendChild(d);
		}
		function css(css){
				var style = document.createElement("style");
					style.type="text/css";
					try{
						style.appendChild(document.createTextNode(css));
					}catch(ex){
						style.styleSheet.cssText = css;
					}
					document.getElementsByTagName('head')[0].appendChild(style);
		}
			function randomColor(){
					return "rgb("+(~~(Math.random()*255))+","+(~~(Math.random()*255))+","+(~~(Math.random()*255))+")";
			}
	})(window,document);
</script>

</html>
